var gl=Object.defineProperty;var ml=(i,e,t)=>e in i?gl(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var ut=(i,e,t)=>(ml(i,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))n(h);new MutationObserver(h=>{for(const u of h)if(u.type==="childList")for(const p of u.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&n(p)}).observe(document,{childList:!0,subtree:!0});function t(h){const u={};return h.integrity&&(u.integrity=h.integrity),h.referrerPolicy&&(u.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?u.credentials="include":h.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function n(h){if(h.ep)return;h.ep=!0;const u=t(h);fetch(h.href,u)}})();function we(){}const pl=i=>i;function Se(i,e){for(const t in e)i[t]=e[t];return i}function Go(i){return i()}function _s(){return Object.create(null)}function bt(i){i.forEach(Go)}function Mt(i){return typeof i=="function"}function Me(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}function vl(i){return Object.keys(i).length===0}function Pn(i,...e){if(i==null){for(const n of e)n(void 0);return we}const t=i.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Rt(i){let e;return Pn(i,t=>e=t)(),e}function dt(i,e,t){i.$$.on_destroy.push(Pn(e,t))}function st(i,e,t,n){if(i){const h=qo(i,e,t,n);return i[0](h)}}function qo(i,e,t,n){return i[1]&&n?Se(t.ctx.slice(),i[1](n(e))):t.ctx}function ot(i,e,t,n){if(i[2]&&n){const h=i[2](n(t));if(e.dirty===void 0)return h;if(typeof h=="object"){const u=[],p=Math.max(e.dirty.length,h.length);for(let f=0;f<p;f+=1)u[f]=e.dirty[f]|h[f];return u}return e.dirty|h}return e.dirty}function at(i,e,t,n,h,u){if(h){const p=qo(e,t,n,u);i.p(p,h)}}function lt(i){if(i.ctx.length>32){const e=[],t=i.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function De(i){const e={};for(const t in i)t[0]!=="$"&&(e[t]=i[t]);return e}function je(i,e){const t={};e=new Set(e);for(const n in i)!e.has(n)&&n[0]!=="$"&&(t[n]=i[n]);return t}function Ko(i){const e={};for(const t in i)e[t]=!0;return e}function bs(i){return i??""}function kt(i,e,t){return i.set(t),e}function pt(i){return i&&Mt(i.destroy)?i.destroy:we}const Jo=typeof window<"u";let _l=Jo?()=>window.performance.now():()=>Date.now(),ns=Jo?i=>requestAnimationFrame(i):we;const Pi=new Set;function Qo(i){Pi.forEach(e=>{e.c(i)||(Pi.delete(e),e.f())}),Pi.size!==0&&ns(Qo)}function bl(i){let e;return Pi.size===0&&ns(Qo),{promise:new Promise(t=>{Pi.add(e={c:i,f:t})}),abort(){Pi.delete(e)}}}const rs=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function se(i,e){i.appendChild(e)}function Zo(i){if(!i)return document;const e=i.getRootNode?i.getRootNode():i.ownerDocument;return e&&e.host?e:i.ownerDocument}function yl(i){const e=ge("style");return e.textContent="/* empty */",Cl(Zo(i),e),e.sheet}function Cl(i,e){return se(i.head||i,e),e.sheet}function Z(i,e,t){i.insertBefore(e,t||null)}function J(i){i.parentNode&&i.parentNode.removeChild(i)}function $o(i,e){for(let t=0;t<i.length;t+=1)i[t]&&i[t].d(e)}function ge(i){return document.createElement(i)}function We(i){return document.createTextNode(i)}function ue(){return We(" ")}function yt(){return We("")}function Fe(i,e,t,n){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t,n)}function Nt(i){return function(e){return e.preventDefault(),i.call(this,e)}}function Sl(i){return function(e){return e.stopPropagation(),i.call(this,e)}}function Q(i,e,t){t==null?i.removeAttribute(e):i.getAttribute(e)!==t&&i.setAttribute(e,t)}const wl=["width","height"];function Wi(i,e){const t=Object.getOwnPropertyDescriptors(i.__proto__);for(const n in e)e[n]==null?i.removeAttribute(n):n==="style"?i.style.cssText=e[n]:n==="__value"?i.value=i[n]=e[n]:t[n]&&t[n].set&&wl.indexOf(n)===-1?i[n]=e[n]:Q(i,n,e[n])}function Tl(i,e){Object.keys(e).forEach(t=>{ji(i,t,e[t])})}function ji(i,e,t){e in i?i[e]=typeof i[e]=="boolean"&&t===""?!0:t:Q(i,e,t)}function mn(i){return/-/.test(i)?Tl:Wi}function xl(i){return Array.from(i.childNodes)}function Vt(i,e){e=""+e,i.data!==e&&(i.data=e)}function pn(i,e){i.value=e??""}function It(i,e,t,n){t==null?i.style.removeProperty(e):i.style.setProperty(e,t,n?"important":"")}let sn;function Ol(){if(sn===void 0){sn=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{sn=!0}}return sn}function kl(i,e){getComputedStyle(i).position==="static"&&(i.style.position="relative");const n=ge("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const h=Ol();let u;return h?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",u=Fe(window,"message",p=>{p.source===n.contentWindow&&e()})):(n.src="about:blank",n.onload=()=>{u=Fe(n.contentWindow,"resize",e),e()}),se(i,n),()=>{(h||u&&n.contentWindow)&&u(),J(n)}}function Et(i,e,t){i.classList.toggle(e,!!t)}function ea(i,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(i,{detail:e,bubbles:t,cancelable:n})}function vt(i,e){return new i(e)}const vn=new Map;let _n=0;function Pl(i){let e=5381,t=i.length;for(;t--;)e=(e<<5)-e^i.charCodeAt(t);return e>>>0}function El(i,e){const t={stylesheet:yl(e),rules:{}};return vn.set(i,t),t}function ys(i,e,t,n,h,u,p,f=0){const r=16.666/n;let c=`{
`;for(let l=0;l<=1;l+=r){const v=e+(t-e)*u(l);c+=l*100+`%{${p(v,1-v)}}
`}const d=c+`100% {${p(t,1-t)}}
}`,s=`__svelte_${Pl(d)}_${f}`,a=Zo(i),{stylesheet:o,rules:g}=vn.get(a)||El(a,i);g[s]||(g[s]=!0,o.insertRule(`@keyframes ${s} ${d}`,o.cssRules.length));const m=i.style.animation||"";return i.style.animation=`${m?`${m}, `:""}${s} ${n}ms linear ${h}ms 1 both`,_n+=1,s}function Al(i,e){const t=(i.style.animation||"").split(", "),n=t.filter(e?u=>u.indexOf(e)<0:u=>u.indexOf("__svelte")===-1),h=t.length-n.length;h&&(i.style.animation=n.join(", "),_n-=h,_n||Ml())}function Ml(){ns(()=>{_n||(vn.forEach(i=>{const{ownerNode:e}=i.stylesheet;e&&J(e)}),vn.clear())})}let Hi;function Bi(i){Hi=i}function tt(){if(!Hi)throw new Error("Function called outside component initialization");return Hi}function Zt(i){tt().$$.on_mount.push(i)}function ta(i){tt().$$.on_destroy.push(i)}function Li(){const i=tt();return(e,t,{cancelable:n=!1}={})=>{const h=i.$$.callbacks[e];if(h){const u=ea(e,t,{cancelable:n});return h.slice().forEach(p=>{p.call(i,u)}),!u.defaultPrevented}return!0}}function ia(i,e){return tt().$$.context.set(i,e),e}function na(i){return tt().$$.context.get(i)}function ra(i,e){const t=i.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const Oi=[],Le=[];let Ei=[];const Nr=[],Dl=Promise.resolve();let Xr=!1;function Ll(){Xr||(Xr=!0,Dl.then(sa))}function Ft(i){Ei.push(i)}function ct(i){Nr.push(i)}const wr=new Set;let wi=0;function sa(){if(wi!==0)return;const i=Hi;do{try{for(;wi<Oi.length;){const e=Oi[wi];wi++,Bi(e),Fl(e.$$)}}catch(e){throw Oi.length=0,wi=0,e}for(Bi(null),Oi.length=0,wi=0;Le.length;)Le.pop()();for(let e=0;e<Ei.length;e+=1){const t=Ei[e];wr.has(t)||(wr.add(t),t())}Ei.length=0}while(Oi.length);for(;Nr.length;)Nr.pop()();Xr=!1,wr.clear(),Bi(i)}function Fl(i){if(i.fragment!==null){i.update(),bt(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(Ft)}}function Rl(i){const e=[],t=[];Ei.forEach(n=>i.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),Ei=e}let Fi;function Il(){return Fi||(Fi=Promise.resolve(),Fi.then(()=>{Fi=null})),Fi}function Tr(i,e,t){i.dispatchEvent(ea(`${e?"intro":"outro"}${t}`))}const un=new Set;let ni;function Ne(){ni={r:0,c:[],p:ni}}function Xe(){ni.r||bt(ni.c),ni=ni.p}function x(i,e){i&&i.i&&(un.delete(i),i.i(e))}function E(i,e,t,n){if(i&&i.o){if(un.has(i))return;un.add(i),ni.c.push(()=>{un.delete(i),n&&(t&&i.d(1),n())}),i.o(e)}else n&&n()}const jl={duration:0};function Tt(i,e,t,n){let u=e(i,t,{direction:"both"}),p=n?0:1,f=null,r=null,c=null,d;function s(){c&&Al(i,c)}function a(g,m){const l=g.b-p;return m*=Math.abs(l),{a:p,b:g.b,d:l,duration:m,start:g.start,end:g.start+m,group:g.group}}function o(g){const{delay:m=0,duration:l=300,easing:v=pl,tick:_=we,css:b}=u||jl,y={start:_l()+m,b:g};g||(y.group=ni,ni.r+=1),"inert"in i&&(g?d!==void 0&&(i.inert=d):(d=i.inert,i.inert=!0)),f||r?r=y:(b&&(s(),c=ys(i,p,g,l,m,v,b)),g&&_(0,1),f=a(y,l),Ft(()=>Tr(i,g,"start")),bl(C=>{if(r&&C>r.start&&(f=a(r,l),r=null,Tr(i,f.b,"start"),b&&(s(),c=ys(i,p,f.b,f.duration,0,v,u.css))),f){if(C>=f.end)_(p=f.b,1-p),Tr(i,f.b,"end"),r||(f.b?s():--f.group.r||bt(f.group.c)),f=null;else if(C>=f.start){const S=C-f.start;p=f.a+f.d*v(S/f.duration),_(p,1-p)}}return!!(f||r)}))}return{run(g){Mt(u)?Il().then(()=>{u=u({direction:g?"in":"out"}),o(g)}):o(g)},end(){s(),f=r=null}}}function bn(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function rt(i,e){const t={},n={},h={$$scope:1};let u=i.length;for(;u--;){const p=i[u],f=e[u];if(f){for(const r in p)r in f||(n[r]=1);for(const r in f)h[r]||(t[r]=f[r],h[r]=1);i[u]=f}else for(const r in p)h[r]=1}for(const p in n)p in t||(t[p]=void 0);return t}function qe(i){return typeof i=="object"&&i!==null?i:{}}function Ze(i,e,t){const n=i.$$.props[e];n!==void 0&&(i.$$.bound[n]=t,t(i.$$.ctx[n]))}function B(i){i&&i.c()}function I(i,e,t){const{fragment:n,after_update:h}=i.$$;n&&n.m(e,t),Ft(()=>{const u=i.$$.on_mount.map(Go).filter(Mt);i.$$.on_destroy?i.$$.on_destroy.push(...u):bt(u),i.$$.on_mount=[]}),h.forEach(Ft)}function j(i,e){const t=i.$$;t.fragment!==null&&(Rl(t.after_update),bt(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Bl(i,e){i.$$.dirty[0]===-1&&(Oi.push(i),Ll(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function Re(i,e,t,n,h,u,p=null,f=[-1]){const r=Hi;Bi(i);const c=i.$$={fragment:null,ctx:[],props:u,update:we,not_equal:h,bound:_s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(r?r.$$.context:[])),callbacks:_s(),dirty:f,skip_bound:!1,root:e.target||r.$$.root};p&&p(c.root);let d=!1;if(c.ctx=t?t(i,e.props||{},(s,a,...o)=>{const g=o.length?o[0]:a;return c.ctx&&h(c.ctx[s],c.ctx[s]=g)&&(!c.skip_bound&&c.bound[s]&&c.bound[s](g),d&&Bl(i,s)),a}):[],c.update(),d=!0,bt(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const s=xl(e.target);c.fragment&&c.fragment.l(s),s.forEach(J)}else c.fragment&&c.fragment.c();e.intro&&x(i.$$.fragment),I(i,e.target,e.anchor),sa()}Bi(r)}class Ie{constructor(){ut(this,"$$");ut(this,"$$set")}$destroy(){j(this,1),this.$destroy=we}$on(e,t){if(!Mt(t))return we;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const h=n.indexOf(t);h!==-1&&n.splice(h,1)}}$set(e){this.$$set&&!vl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Nl="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Nl);const Xl="/call/assets/tabler.min-e4d0db7f.css",Ti=[];function zl(i,e){return{subscribe:Lt(i,e).subscribe}}function Lt(i,e=we){let t;const n=new Set;function h(f){if(Me(i,f)&&(i=f,t)){const r=!Ti.length;for(const c of n)c[1](),Ti.push(c,i);if(r){for(let c=0;c<Ti.length;c+=2)Ti[c][0](Ti[c+1]);Ti.length=0}}}function u(f){h(f(i))}function p(f,r=we){const c=[f,r];return n.add(c),n.size===1&&(t=e(h,u)||we),f(i),()=>{n.delete(c),n.size===0&&t&&(t(),t=null)}}return{set:h,update:u,subscribe:p}}function Wl(i,e,t){const n=!Array.isArray(i),h=n?[i]:i;if(!h.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const u=e.length<2;return zl(t,(p,f)=>{let r=!1;const c=[];let d=0,s=we;const a=()=>{if(d)return;s();const g=e(n?c[0]:c,p,f);u?p(g):s=Mt(g)?g:we},o=h.map((g,m)=>Pn(g,l=>{c[m]=l,d&=~(1<<m),r&&a()},()=>{d|=1<<m}));return r=!0,a(),function(){bt(o),s(),r=!1}})}var yn=function(){return yn=Object.assign||function(e){for(var t,n=1,h=arguments.length;n<h;n++){t=arguments[n];for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u])}return e},yn.apply(this,arguments)};function Hl(i){return i.toLowerCase()}var Vl=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Yl=/[^A-Z0-9]+/gi;function Ul(i,e){e===void 0&&(e={});for(var t=e.splitRegexp,n=t===void 0?Vl:t,h=e.stripRegexp,u=h===void 0?Yl:h,p=e.transform,f=p===void 0?Hl:p,r=e.delimiter,c=r===void 0?" ":r,d=Cs(Cs(i,n,"$1\0$2"),u,"\0"),s=0,a=d.length;d.charAt(s)==="\0";)s++;for(;d.charAt(a-1)==="\0";)a--;return d.slice(s,a).split("\0").map(f).join(c)}function Cs(i,e,t){return e instanceof RegExp?i.replace(e,t):e.reduce(function(n,h){return n.replace(h,t)},i)}function Gl(i,e){return e===void 0&&(e={}),Ul(i,yn({delimiter:"."},e))}function Ss(i,e){return e===void 0&&(e={}),Gl(i,yn({delimiter:"-"},e))}const ql="y",Be=(i,e,t)=>{if(!i)return;i=Ss(i);const n=`${ql}-${i}`,h=[n];if(e){const u=Object.entries(e);for(const[p,f]of u){const r=Ss(p);if(!(typeof f>"u"||f===!1))if(f===!0)h.push(`${n}-${r}`);else if(typeof f=="number"||typeof f=="string")h.push(`${n}-${r}-${f}`);else continue}}return t&&h.push(t),h.join(" ")||void 0};function ws(i,e){var t;return console.log(e),typeof e>"u"?"":(t=Be(i,{show:e}))==null?void 0:t.split(" ")[1]}function Kl({element:i,componentName:e,show:t}){if(typeof window>"u")return;let h=getComputedStyle(i).getPropertyValue("--show-config").trim()??"default",u=typeof t<"u"?t?"opened":"closed":void 0,p,f=" "+ws(e,u);const{subscribe:r,set:c}=Lt({classes:f,styles:""});function d(m){clearTimeout(p),u=m;let l=" "+ws(e,u),v="";h==="height"&&(["open","closing"].includes(u)&&(v="max-height: 0;"),["opening","close"].includes(u)&&(v=`max-height: ${i.scrollHeight}px;`),["opened","closed"].includes(u)&&(v="")),c({styles:v,classes:l})}function s(){try{const m=window.getComputedStyle(i),l=[m.animationDelay,m.transitionDelay,m.animationDuration,m.transitionDuration].map((v="0s")=>parseFloat(v)*(/ms/g.test(v)?1:1e3));return Math.max(...l.slice(0,2))+Math.max(...l.slice(2))}catch{return 0}}function a(m){requestAnimationFrame(()=>setTimeout(m))}function o(){u!=="opened"&&a(()=>{d("open"),a(()=>{d("opening"),a(()=>{p=setTimeout(()=>{t=void 0,d("opened")},s())})})})}function g(){u!=="closed"&&a(()=>{d("close"),a(()=>{d("closing"),a(()=>{p=setTimeout(()=>{t=void 0,d("closed")},s())})})})}return{enter:o,leave:g,subscribe:r}}const zr="!",Jl=new RegExp(`^[^${zr}]+(?:${zr}(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$`);function xi(i,e=[]){let t;const n=[];i.$on=(u,p)=>{const f=u;let r=()=>{};for(const c of e){if(typeof c=="string"&&c===f){const d=i.$$.callbacks[f]||(i.$$.callbacks[f]=[]);return d.push(p),()=>{const s=d.indexOf(p);s!==-1&&d.splice(s,1)}}if(typeof c=="object"&&c.name===f){const d=p;p=(...s)=>{typeof c=="object"&&c.shouldExclude()||d(...s)}}}return t?r=t(f,p):n.push([f,p]),()=>{r()}};function h(u){ra(i,u)}return u=>{const p=[],f={};t=(r,c)=>{let d=r,s=c,a=!1;if(d.match(Jl)){const l=d.split(zr);d=l[0];const v=Object.fromEntries(l.slice(1).map(_=>[_,!0]));v.passive&&(a=a||{},a.passive=!0),v.nonpassive&&(a=a||{},a.passive=!1),v.capture&&(a=a||{},a.capture=!0),v.once&&(a=a||{},a.once=!0),v.preventDefault&&(s=Nt(s)),v.stopPropagation&&(s=Sl(s))}const g=Fe(u,d,s,a),m=()=>{g();const l=p.indexOf(m);l>-1&&p.splice(l,1)};return p.push(m),d in f||(f[d]=Fe(u,d,h)),m};for(let r=0;r<n.length;r++)t(n[r][0],n[r][1]);return{destroy:()=>{for(let r=0;r<p.length;r++)p[r]();for(const r of Object.entries(f))r[1]()}}}}function Ql(i){let e=i[2],t,n=i[2]&&xr(i);return{c(){n&&n.c(),t=yt()},m(h,u){n&&n.m(h,u),Z(h,t,u)},p(h,u){h[2]?e?Me(e,h[2])?(n.d(1),n=xr(h),e=h[2],n.c(),n.m(t.parentNode,t)):n.p(h,u):(n=xr(h),e=h[2],n.c(),n.m(t.parentNode,t)):e&&(n.d(1),n=null,e=h[2])},i:we,o:we,d(h){h&&J(t),n&&n.d(h)}}}function Zl(i){let e,t,n,h=[i[12],i[4]],u={};for(let p=0;p<h.length;p+=1)u=Se(u,h[p]);return{c(){e=ge("textarea"),Wi(e,u)},m(p,f){Z(p,e,f),e.autofocus&&e.focus(),i[144](e),pn(e,i[1]),t||(n=[pt(i[6].call(null,e)),pt(i[7].call(null,e)),pt(i[8].call(null,e)),pt(i[9].call(null,e)),pt(i[10].call(null,e)),pt(i[5].call(null,e)),Fe(e,"input",i[145])],t=!0)},p(p,f){Wi(e,u=rt(h,[f[0]&4096&&p[12],f[0]&16&&p[4]])),f[0]&2&&pn(e,p[1])},i:we,o:we,d(p){p&&J(e),i[144](null),t=!1,bt(n)}}}function $l(i){let e,t,n,h=[i[12],i[4]],u={};for(let p=0;p<h.length;p+=1)u=Se(u,h[p]);return{c(){e=ge("input"),Wi(e,u)},m(p,f){Z(p,e,f),e.autofocus&&e.focus(),i[142](e),pn(e,i[1]),t||(n=[pt(i[6].call(null,e)),pt(i[7].call(null,e)),pt(i[8].call(null,e)),pt(i[9].call(null,e)),pt(i[10].call(null,e)),pt(i[5].call(null,e)),Fe(e,"input",i[143])],t=!0)},p(p,f){Wi(e,u=rt(h,[f[0]&4096&&p[12],f[0]&16&&p[4]])),f[0]&2&&e.value!==p[1]&&pn(e,p[1])},i:we,o:we,d(p){p&&J(e),i[142](null),t=!1,bt(n)}}}function ef(i){let e=i[2],t,n,h=i[2]&&Or(i);return{c(){h&&h.c(),t=yt()},m(u,p){h&&h.m(u,p),Z(u,t,p),n=!0},p(u,p){u[2]?e?Me(e,u[2])?(h.d(1),h=Or(u),e=u[2],h.c(),h.m(t.parentNode,t)):h.p(u,p):(h=Or(u),e=u[2],h.c(),h.m(t.parentNode,t)):e&&(h.d(1),h=null,e=u[2])},i(u){n||(x(h,u),n=!0)},o(u){E(h,u),n=!1},d(u){u&&J(t),h&&h.d(u)}}}function xr(i){let e,t,n,h=[i[12],i[4]],u={};for(let p=0;p<h.length;p+=1)u=Se(u,h[p]);return{c(){e=ge(i[2]),mn(i[2])(e,u)},m(p,f){Z(p,e,f),i[146](e),t||(n=[pt(i[6].call(null,e)),pt(i[7].call(null,e)),pt(i[8].call(null,e)),pt(i[9].call(null,e)),pt(i[10].call(null,e)),pt(i[5].call(null,e))],t=!0)},p(p,f){mn(p[2])(e,u=rt(h,[f[0]&4096&&p[12],f[0]&16&&p[4]]))},d(p){p&&J(e),i[146](null),t=!1,bt(n)}}}function Or(i){let e,t,n,h;const u=i[140].default,p=st(u,i,i[139],null);let f=[i[12],i[4]],r={};for(let c=0;c<f.length;c+=1)r=Se(r,f[c]);return{c(){e=ge(i[2]),p&&p.c(),mn(i[2])(e,r)},m(c,d){Z(c,e,d),p&&p.m(e,null),i[141](e),t=!0,n||(h=[pt(i[6].call(null,e)),pt(i[7].call(null,e)),pt(i[8].call(null,e)),pt(i[9].call(null,e)),pt(i[10].call(null,e)),pt(i[5].call(null,e))],n=!0)},p(c,d){p&&p.p&&(!t||d[4]&32768)&&at(p,u,c,c[139],t?ot(u,c[139],d,null):lt(c[139]),null),mn(c[2])(e,r=rt(f,[d[0]&4096&&c[12],d[0]&16&&c[4]]))},i(c){t||(x(p,c),t=!0)},o(c){E(p,c),t=!1},d(c){c&&J(e),p&&p.d(c),i[141](null),n=!1,bt(h)}}}function tf(i){let e,t,n,h;const u=[ef,$l,Zl,Ql],p=[];function f(r,c){return r[11].default?0:r[2]==="input"?1:r[2]==="textarea"?2:3}return e=f(i),t=p[e]=u[e](i),{c(){t.c(),n=yt()},m(r,c){p[e].m(r,c),Z(r,n,c),h=!0},p(r,c){let d=e;e=f(r),e===d?p[e].p(r,c):(Ne(),E(p[d],1,1,()=>{p[d]=null}),Xe(),t=p[e],t?t.p(r,c):(t=p[e]=u[e](r),t.c()),x(t,1),t.m(n.parentNode,n))},i(r){h||(x(t),h=!0)},o(r){E(t),h=!1},d(r){r&&J(n),p[e].d(r)}}}let nf=0;const kr="el",rf="div";function sf(i,e,t){const n=["element","componentName","id","tag","cssProps","value","title","tabindex","role","ariaCurrent","ariaLabel","ariaValuenow","style","show","components","gap","vAlign","shadow","hidden","bgColor","bgGradient","bgOpacity","border","borderTop","borderStart","borderEnd","borderBottom","borderColor","borderRadius","borderRoundSize","borderOpacity","p","pt","pb","ps","pe","px","py","m","mt","mb","ms","me","mx","my","clearfix","ratio","sticky","fixed","d","dSm","dMd","dLg","dXl","dXxl","dPrint","w","h","mw","mh","position","top","start","bottom","end","textColor","textAlign","textAlignSm","textAlignMd","textAlignLg","textAlignXl","textWrap","textTransform","textDecoration","lineHeight","textMuted","textLead","textHeading","textTruncate","textOpacity","fontSize","fontWeight","fontStyle","float","floatSm","floatMd","floatLg","floatXl","floatXxl","container","col","colSm","colMd","colLg","colXl","colXxl","order","orderSm","orderMd","orderLg","orderXl","orderXxl","offset","offsetSm","offsetMd","offsetLg","offsetXl","offsetXxl","row","rowCols","rowColsSm","rowColsMd","rowColsLg","rowColsXl","rowColsXxl","g","gSm","gMd","gLg","gXl","gXxl","gx","gy","alignItems","alignSelf","justifyContent"];let h=je(e,n),u,p=we,f=()=>(p(),p=Pn(N,D=>t(138,u=D)),N);i.$$.on_destroy.push(()=>p());let{$$slots:r={},$$scope:c}=e;const d=Ko(r);let{element:s=void 0}=e,{componentName:a=kr}=e,{id:o=a+"_"+nf++}=e,{tag:g=rf}=e,{cssProps:m={}}=e,{value:l=void 0}=e,{title:v=void 0}=e,{tabindex:_=void 0}=e,{role:b=void 0}=e,{ariaCurrent:y=void 0}=e,{ariaLabel:C=void 0}=e,{ariaValuenow:S=void 0}=e,{style:w=void 0}=e,{show:O=void 0}=e,{components:A=[]}=e,N;f();let W,Y,q={},{gap:te=void 0}=e,{vAlign:re=void 0}=e,{shadow:me=void 0}=e,{hidden:G=void 0}=e,{bgColor:oe=void 0}=e,{bgGradient:T=void 0}=e,{bgOpacity:F=void 0}=e,{border:L=void 0}=e,{borderTop:M=void 0}=e,{borderStart:K=void 0}=e,{borderEnd:k=void 0}=e,{borderBottom:P=void 0}=e,{borderColor:X=void 0}=e,{borderRadius:V=void 0}=e,{borderRoundSize:le=void 0}=e,{borderOpacity:ee=void 0}=e,{p:he=void 0}=e,{pt:pe=void 0}=e,{pb:U=void 0}=e,{ps:ne=void 0}=e,{pe:H=void 0}=e,{px:ce=void 0}=e,{py:fe=void 0}=e,{m:ie=void 0}=e,{mt:de=void 0}=e,{mb:_e=void 0}=e,{ms:Pe=void 0}=e,{me:be=void 0}=e,{mx:ae=void 0}=e,{my:ke=void 0}=e,{clearfix:Ee=void 0}=e,{ratio:ze=void 0}=e,{sticky:Je=void 0}=e,{fixed:Ve=void 0}=e,{d:Qe=void 0}=e,{dSm:Ge=void 0}=e,{dMd:St=void 0}=e,{dLg:Ct=void 0}=e,{dXl:wt=void 0}=e,{dXxl:Yt=void 0}=e,{dPrint:Te=void 0}=e,{w:Oe=void 0}=e,{h:Bt=void 0}=e,{mw:oi=void 0}=e,{mh:$t=void 0}=e,{position:ai=void 0}=e,{top:Wt=void 0}=e,{start:R=void 0}=e,{bottom:z=void 0}=e,{end:$=void 0}=e,{textColor:ve=void 0}=e,{textAlign:Ce=void 0}=e,{textAlignSm:ye=void 0}=e,{textAlignMd:Ae=void 0}=e,{textAlignLg:xe=void 0}=e,{textAlignXl:$e=void 0}=e,{textWrap:Ke=void 0}=e,{textTransform:nt=void 0}=e,{textDecoration:et=void 0}=e,{lineHeight:Ue=void 0}=e,{textMuted:ft=void 0}=e,{textLead:_t=void 0}=e,{textHeading:gt=void 0}=e,{textTruncate:mt=void 0}=e,{textOpacity:Ut=void 0}=e,{fontSize:Gt=void 0}=e,{fontWeight:mi=void 0}=e,{fontStyle:yi=void 0}=e,{float:pi=void 0}=e,{floatSm:Ci=void 0}=e,{floatMd:Si=void 0}=e,{floatLg:jn=void 0}=e,{floatXl:Bn=void 0}=e,{floatXxl:Nn=void 0}=e,{container:Xn=void 0}=e,{col:zn=void 0}=e,{colSm:Wn=void 0}=e,{colMd:Hn=void 0}=e,{colLg:Vn=void 0}=e,{colXl:Yn=void 0}=e,{colXxl:Un=void 0}=e,{order:Gn=void 0}=e,{orderSm:qn=void 0}=e,{orderMd:Kn=void 0}=e,{orderLg:Jn=void 0}=e,{orderXl:Qn=void 0}=e,{orderXxl:Zn=void 0}=e,{offset:$n=void 0}=e,{offsetSm:er=void 0}=e,{offsetMd:tr=void 0}=e,{offsetLg:ir=void 0}=e,{offsetXl:nr=void 0}=e,{offsetXxl:rr=void 0}=e,{row:sr=void 0}=e,{rowCols:or=void 0}=e,{rowColsSm:ar=void 0}=e,{rowColsMd:lr=void 0}=e,{rowColsLg:fr=void 0}=e,{rowColsXl:cr=void 0}=e,{rowColsXxl:ur=void 0}=e,{g:hr=void 0}=e,{gSm:dr=void 0}=e,{gMd:gr=void 0}=e,{gLg:mr=void 0}=e,{gXl:pr=void 0}=e,{gXxl:vr=void 0}=e,{gx:_r=void 0}=e,{gy:br=void 0}=e,{alignItems:yr=void 0}=e,{alignSelf:Cr=void 0}=e,{justifyContent:Sr=void 0}=e;const tl=xi(tt()),il=A!=null&&A[0]?xi(A[0].component,A[0].except):we,nl=A!=null&&A[1]?xi(A[1].component,A[1].except):we,rl=A!=null&&A[2]?xi(A[2].component,A[2].except):we,sl=A!=null&&A[3]?xi(A[3].component,A[3].except):we,ol=A!=null&&A[4]?xi(A[4].component,A[4].except):we;Zt(()=>{s&&f(t(3,N=Kl({element:s,componentName:a,show:O})))});function al(D){Le[D?"unshift":"push"](()=>{s=D,t(0,s)})}function ll(D){Le[D?"unshift":"push"](()=>{s=D,t(0,s)})}function fl(){l=this.value,t(1,l)}function cl(D){Le[D?"unshift":"push"](()=>{s=D,t(0,s)})}function ul(){l=this.value,t(1,l)}function hl(D){Le[D?"unshift":"push"](()=>{s=D,t(0,s)})}return i.$$set=D=>{t(147,e=Se(Se({},e),De(D))),t(12,h=je(e,n)),"element"in D&&t(0,s=D.element),"componentName"in D&&t(13,a=D.componentName),"id"in D&&t(14,o=D.id),"tag"in D&&t(2,g=D.tag),"cssProps"in D&&t(15,m=D.cssProps),"value"in D&&t(1,l=D.value),"title"in D&&t(16,v=D.title),"tabindex"in D&&t(17,_=D.tabindex),"role"in D&&t(18,b=D.role),"ariaCurrent"in D&&t(19,y=D.ariaCurrent),"ariaLabel"in D&&t(20,C=D.ariaLabel),"ariaValuenow"in D&&t(21,S=D.ariaValuenow),"style"in D&&t(22,w=D.style),"show"in D&&t(23,O=D.show),"components"in D&&t(24,A=D.components),"gap"in D&&t(25,te=D.gap),"vAlign"in D&&t(26,re=D.vAlign),"shadow"in D&&t(27,me=D.shadow),"hidden"in D&&t(28,G=D.hidden),"bgColor"in D&&t(29,oe=D.bgColor),"bgGradient"in D&&t(30,T=D.bgGradient),"bgOpacity"in D&&t(31,F=D.bgOpacity),"border"in D&&t(32,L=D.border),"borderTop"in D&&t(33,M=D.borderTop),"borderStart"in D&&t(34,K=D.borderStart),"borderEnd"in D&&t(35,k=D.borderEnd),"borderBottom"in D&&t(36,P=D.borderBottom),"borderColor"in D&&t(37,X=D.borderColor),"borderRadius"in D&&t(38,V=D.borderRadius),"borderRoundSize"in D&&t(39,le=D.borderRoundSize),"borderOpacity"in D&&t(40,ee=D.borderOpacity),"p"in D&&t(41,he=D.p),"pt"in D&&t(42,pe=D.pt),"pb"in D&&t(43,U=D.pb),"ps"in D&&t(44,ne=D.ps),"pe"in D&&t(45,H=D.pe),"px"in D&&t(46,ce=D.px),"py"in D&&t(47,fe=D.py),"m"in D&&t(48,ie=D.m),"mt"in D&&t(49,de=D.mt),"mb"in D&&t(50,_e=D.mb),"ms"in D&&t(51,Pe=D.ms),"me"in D&&t(52,be=D.me),"mx"in D&&t(53,ae=D.mx),"my"in D&&t(54,ke=D.my),"clearfix"in D&&t(55,Ee=D.clearfix),"ratio"in D&&t(56,ze=D.ratio),"sticky"in D&&t(57,Je=D.sticky),"fixed"in D&&t(58,Ve=D.fixed),"d"in D&&t(59,Qe=D.d),"dSm"in D&&t(60,Ge=D.dSm),"dMd"in D&&t(61,St=D.dMd),"dLg"in D&&t(62,Ct=D.dLg),"dXl"in D&&t(63,wt=D.dXl),"dXxl"in D&&t(64,Yt=D.dXxl),"dPrint"in D&&t(65,Te=D.dPrint),"w"in D&&t(66,Oe=D.w),"h"in D&&t(67,Bt=D.h),"mw"in D&&t(68,oi=D.mw),"mh"in D&&t(69,$t=D.mh),"position"in D&&t(70,ai=D.position),"top"in D&&t(71,Wt=D.top),"start"in D&&t(72,R=D.start),"bottom"in D&&t(73,z=D.bottom),"end"in D&&t(74,$=D.end),"textColor"in D&&t(75,ve=D.textColor),"textAlign"in D&&t(76,Ce=D.textAlign),"textAlignSm"in D&&t(77,ye=D.textAlignSm),"textAlignMd"in D&&t(78,Ae=D.textAlignMd),"textAlignLg"in D&&t(79,xe=D.textAlignLg),"textAlignXl"in D&&t(80,$e=D.textAlignXl),"textWrap"in D&&t(81,Ke=D.textWrap),"textTransform"in D&&t(82,nt=D.textTransform),"textDecoration"in D&&t(83,et=D.textDecoration),"lineHeight"in D&&t(84,Ue=D.lineHeight),"textMuted"in D&&t(85,ft=D.textMuted),"textLead"in D&&t(86,_t=D.textLead),"textHeading"in D&&t(87,gt=D.textHeading),"textTruncate"in D&&t(88,mt=D.textTruncate),"textOpacity"in D&&t(89,Ut=D.textOpacity),"fontSize"in D&&t(90,Gt=D.fontSize),"fontWeight"in D&&t(91,mi=D.fontWeight),"fontStyle"in D&&t(92,yi=D.fontStyle),"float"in D&&t(93,pi=D.float),"floatSm"in D&&t(94,Ci=D.floatSm),"floatMd"in D&&t(95,Si=D.floatMd),"floatLg"in D&&t(96,jn=D.floatLg),"floatXl"in D&&t(97,Bn=D.floatXl),"floatXxl"in D&&t(98,Nn=D.floatXxl),"container"in D&&t(99,Xn=D.container),"col"in D&&t(100,zn=D.col),"colSm"in D&&t(101,Wn=D.colSm),"colMd"in D&&t(102,Hn=D.colMd),"colLg"in D&&t(103,Vn=D.colLg),"colXl"in D&&t(104,Yn=D.colXl),"colXxl"in D&&t(105,Un=D.colXxl),"order"in D&&t(106,Gn=D.order),"orderSm"in D&&t(107,qn=D.orderSm),"orderMd"in D&&t(108,Kn=D.orderMd),"orderLg"in D&&t(109,Jn=D.orderLg),"orderXl"in D&&t(110,Qn=D.orderXl),"orderXxl"in D&&t(111,Zn=D.orderXxl),"offset"in D&&t(112,$n=D.offset),"offsetSm"in D&&t(113,er=D.offsetSm),"offsetMd"in D&&t(114,tr=D.offsetMd),"offsetLg"in D&&t(115,ir=D.offsetLg),"offsetXl"in D&&t(116,nr=D.offsetXl),"offsetXxl"in D&&t(117,rr=D.offsetXxl),"row"in D&&t(118,sr=D.row),"rowCols"in D&&t(119,or=D.rowCols),"rowColsSm"in D&&t(120,ar=D.rowColsSm),"rowColsMd"in D&&t(121,lr=D.rowColsMd),"rowColsLg"in D&&t(122,fr=D.rowColsLg),"rowColsXl"in D&&t(123,cr=D.rowColsXl),"rowColsXxl"in D&&t(124,ur=D.rowColsXxl),"g"in D&&t(125,hr=D.g),"gSm"in D&&t(126,dr=D.gSm),"gMd"in D&&t(127,gr=D.gMd),"gLg"in D&&t(128,mr=D.gLg),"gXl"in D&&t(129,pr=D.gXl),"gXxl"in D&&t(130,vr=D.gXxl),"gx"in D&&t(131,_r=D.gx),"gy"in D&&t(132,br=D.gy),"alignItems"in D&&t(133,yr=D.alignItems),"alignSelf"in D&&t(134,Cr=D.alignSelf),"justifyContent"in D&&t(135,Sr=D.justifyContent),"$$scope"in D&&t(139,c=D.$$scope)},i.$$.update=()=>{var D;i.$$.dirty[0]&8388616&&(N&&O===!1&&N.leave(),N&&O===!0&&N.enter());{t(137,Y={bgColor:oe,bgGradient:T,bgOpacity:F,border:L,borderTop:M,borderStart:K,borderEnd:k,borderBottom:P,borderColor:X,borderRadius:V,borderRoundSize:le,borderOpacity:ee,p:he,pt:pe,pb:U,ps:ne,pe:H,px:ce,py:fe,m:ie,mt:de,mb:_e,ms:Pe,me:be,mx:ae,my:ke,gap:te,clearfix:Ee,ratio:ze,sticky:Je,fixed:Ve,d:Qe,dSm:Ge,dMd:St,dLg:Ct,dXl:wt,dXxl:Yt,dPrint:Te,shadow:me,w:Oe,h:Bt,mw:oi,mh:$t,position:ai,top:Wt,start:R,bottom:z,end:$,vAlign:re,textColor:ve,textAlign:Ce,textAlignSm:ye,textAlignMd:Ae,textAlignLg:xe,textAlignXl:$e,textWrap:Ke,textTransform:nt,textDecoration:et,lineHeight:Ue,textMuted:ft,textLead:_t,textHeading:gt,textTruncate:mt,textOpacity:Ut,fontSize:Gt,fontWeight:mi,fontStyle:yi,hidden:G,float:pi,floatSm:Ci,floatMd:Si,floatLg:jn,floatXl:Bn,floatXxl:Nn,container:Xn,col:zn,colSm:Wn,colMd:Hn,colLg:Vn,colXl:Yn,colXxl:Un,order:Gn,orderSm:qn,orderMd:Kn,orderLg:Jn,orderXl:Qn,orderXxl:Zn,offset:$n,offsetSm:er,offsetMd:tr,offsetLg:ir,offsetXl:nr,offsetXxl:rr,row:sr,rowCols:or,rowColsSm:ar,rowColsMd:lr,rowColsLg:fr,rowColsXl:cr,rowColsXxl:ur,g:hr,gSm:dr,gMd:gr,gLg:mr,gXl:pr,gXxl:vr,gx:_r,gy:br,alignItems:yr,alignSelf:Cr,justifyContent:Sr}),t(136,W=((D=Be(kr,Y,e.class))==null?void 0:D.replace("y-el ",""))??""),a!==kr&&t(136,W+=" "+Be(a,m)),t(136,W+=(u==null?void 0:u.classes)||"");const dl=`${w?w+";":""}${(u==null?void 0:u.styles)||""}`||void 0;t(4,q={id:o,class:W,title:v,tabindex:_,role:b,ariaCurrent:y,ariaLabel:C,ariaValuenow:S,style:dl})}},e=De(e),[s,l,g,N,q,tl,il,nl,rl,sl,ol,d,h,a,o,m,v,_,b,y,C,S,w,O,A,te,re,me,G,oe,T,F,L,M,K,k,P,X,V,le,ee,he,pe,U,ne,H,ce,fe,ie,de,_e,Pe,be,ae,ke,Ee,ze,Je,Ve,Qe,Ge,St,Ct,wt,Yt,Te,Oe,Bt,oi,$t,ai,Wt,R,z,$,ve,Ce,ye,Ae,xe,$e,Ke,nt,et,Ue,ft,_t,gt,mt,Ut,Gt,mi,yi,pi,Ci,Si,jn,Bn,Nn,Xn,zn,Wn,Hn,Vn,Yn,Un,Gn,qn,Kn,Jn,Qn,Zn,$n,er,tr,ir,nr,rr,sr,or,ar,lr,fr,cr,ur,hr,dr,gr,mr,pr,vr,_r,br,yr,Cr,Sr,W,Y,u,c,r,al,ll,fl,cl,ul,hl]}class of extends Ie{constructor(e){super(),Re(this,e,sf,tf,Me,{element:0,componentName:13,id:14,tag:2,cssProps:15,value:1,title:16,tabindex:17,role:18,ariaCurrent:19,ariaLabel:20,ariaValuenow:21,style:22,show:23,components:24,gap:25,vAlign:26,shadow:27,hidden:28,bgColor:29,bgGradient:30,bgOpacity:31,border:32,borderTop:33,borderStart:34,borderEnd:35,borderBottom:36,borderColor:37,borderRadius:38,borderRoundSize:39,borderOpacity:40,p:41,pt:42,pb:43,ps:44,pe:45,px:46,py:47,m:48,mt:49,mb:50,ms:51,me:52,mx:53,my:54,clearfix:55,ratio:56,sticky:57,fixed:58,d:59,dSm:60,dMd:61,dLg:62,dXl:63,dXxl:64,dPrint:65,w:66,h:67,mw:68,mh:69,position:70,top:71,start:72,bottom:73,end:74,textColor:75,textAlign:76,textAlignSm:77,textAlignMd:78,textAlignLg:79,textAlignXl:80,textWrap:81,textTransform:82,textDecoration:83,lineHeight:84,textMuted:85,textLead:86,textHeading:87,textTruncate:88,textOpacity:89,fontSize:90,fontWeight:91,fontStyle:92,float:93,floatSm:94,floatMd:95,floatLg:96,floatXl:97,floatXxl:98,container:99,col:100,colSm:101,colMd:102,colLg:103,colXl:104,colXxl:105,order:106,orderSm:107,orderMd:108,orderLg:109,orderXl:110,orderXxl:111,offset:112,offsetSm:113,offsetMd:114,offsetLg:115,offsetXl:116,offsetXxl:117,row:118,rowCols:119,rowColsSm:120,rowColsMd:121,rowColsLg:122,rowColsXl:123,rowColsXxl:124,g:125,gSm:126,gMd:127,gLg:128,gXl:129,gXxl:130,gx:131,gy:132,alignItems:133,alignSelf:134,justifyContent:135},null,[-1,-1,-1,-1,-1])}}const He=of;var wv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tv(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function af(i){if(i.__esModule)return i;var e=i.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(n){var h=Object.getOwnPropertyDescriptor(i,n);Object.defineProperty(t,n,h.get?h:{enumerable:!0,get:function(){return i[n]}})}),t}const Vi=Math.min,Ai=Math.max,Cn=Math.round,ui=i=>({x:i,y:i}),lf={left:"right",right:"left",bottom:"top",top:"bottom"},ff={start:"end",end:"start"};function Wr(i,e,t){return Ai(i,Vi(e,t))}function Qi(i,e){return typeof i=="function"?i(e):i}function bi(i){return i.split("-")[0]}function Zi(i){return i.split("-")[1]}function oa(i){return i==="x"?"y":"x"}function ss(i){return i==="y"?"height":"width"}function En(i){return["top","bottom"].includes(bi(i))?"y":"x"}function os(i){return oa(En(i))}function cf(i,e,t){t===void 0&&(t=!1);const n=Zi(i),h=os(i),u=ss(h);let p=h==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[u]>e.floating[u]&&(p=Sn(p)),[p,Sn(p)]}function uf(i){const e=Sn(i);return[Hr(i),e,Hr(e)]}function Hr(i){return i.replace(/start|end/g,e=>ff[e])}function hf(i,e,t){const n=["left","right"],h=["right","left"],u=["top","bottom"],p=["bottom","top"];switch(i){case"top":case"bottom":return t?e?h:n:e?n:h;case"left":case"right":return e?u:p;default:return[]}}function df(i,e,t,n){const h=Zi(i);let u=hf(bi(i),t==="start",n);return h&&(u=u.map(p=>p+"-"+h),e&&(u=u.concat(u.map(Hr)))),u}function Sn(i){return i.replace(/left|right|bottom|top/g,e=>lf[e])}function gf(i){return{top:0,right:0,bottom:0,left:0,...i}}function aa(i){return typeof i!="number"?gf(i):{top:i,right:i,bottom:i,left:i}}function wn(i){return{...i,top:i.y,left:i.x,right:i.x+i.width,bottom:i.y+i.height}}function Ts(i,e,t){let{reference:n,floating:h}=i;const u=En(e),p=os(e),f=ss(p),r=bi(e),c=u==="y",d=n.x+n.width/2-h.width/2,s=n.y+n.height/2-h.height/2,a=n[f]/2-h[f]/2;let o;switch(r){case"top":o={x:d,y:n.y-h.height};break;case"bottom":o={x:d,y:n.y+n.height};break;case"right":o={x:n.x+n.width,y:s};break;case"left":o={x:n.x-h.width,y:s};break;default:o={x:n.x,y:n.y}}switch(Zi(e)){case"start":o[p]-=a*(t&&c?-1:1);break;case"end":o[p]+=a*(t&&c?-1:1);break}return o}const mf=async(i,e,t)=>{const{placement:n="bottom",strategy:h="absolute",middleware:u=[],platform:p}=t,f=u.filter(Boolean),r=await(p.isRTL==null?void 0:p.isRTL(e));let c=await p.getElementRects({reference:i,floating:e,strategy:h}),{x:d,y:s}=Ts(c,n,r),a=n,o={},g=0;for(let m=0;m<f.length;m++){const{name:l,fn:v}=f[m],{x:_,y:b,data:y,reset:C}=await v({x:d,y:s,initialPlacement:n,placement:a,strategy:h,middlewareData:o,rects:c,platform:p,elements:{reference:i,floating:e}});if(d=_??d,s=b??s,o={...o,[l]:{...o[l],...y}},C&&g<=50){g++,typeof C=="object"&&(C.placement&&(a=C.placement),C.rects&&(c=C.rects===!0?await p.getElementRects({reference:i,floating:e,strategy:h}):C.rects),{x:d,y:s}=Ts(c,a,r)),m=-1;continue}}return{x:d,y:s,placement:a,strategy:h,middlewareData:o}};async function la(i,e){var t;e===void 0&&(e={});const{x:n,y:h,platform:u,rects:p,elements:f,strategy:r}=i,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:s="floating",altBoundary:a=!1,padding:o=0}=Qi(e,i),g=aa(o),l=f[a?s==="floating"?"reference":"floating":s],v=wn(await u.getClippingRect({element:(t=await(u.isElement==null?void 0:u.isElement(l)))==null||t?l:l.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(f.floating)),boundary:c,rootBoundary:d,strategy:r})),_=s==="floating"?{...p.floating,x:n,y:h}:p.reference,b=await(u.getOffsetParent==null?void 0:u.getOffsetParent(f.floating)),y=await(u.isElement==null?void 0:u.isElement(b))?await(u.getScale==null?void 0:u.getScale(b))||{x:1,y:1}:{x:1,y:1},C=wn(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({rect:_,offsetParent:b,strategy:r}):_);return{top:(v.top-C.top+g.top)/y.y,bottom:(C.bottom-v.bottom+g.bottom)/y.y,left:(v.left-C.left+g.left)/y.x,right:(C.right-v.right+g.right)/y.x}}const pf=i=>({name:"arrow",options:i,async fn(e){const{x:t,y:n,placement:h,rects:u,platform:p,elements:f,middlewareData:r}=e,{element:c,padding:d=0}=Qi(i,e)||{};if(c==null)return{};const s=aa(d),a={x:t,y:n},o=os(h),g=ss(o),m=await p.getDimensions(c),l=o==="y",v=l?"top":"left",_=l?"bottom":"right",b=l?"clientHeight":"clientWidth",y=u.reference[g]+u.reference[o]-a[o]-u.floating[g],C=a[o]-u.reference[o],S=await(p.getOffsetParent==null?void 0:p.getOffsetParent(c));let w=S?S[b]:0;(!w||!await(p.isElement==null?void 0:p.isElement(S)))&&(w=f.floating[b]||u.floating[g]);const O=y/2-C/2,A=w/2-m[g]/2-1,N=Vi(s[v],A),W=Vi(s[_],A),Y=N,q=w-m[g]-W,te=w/2-m[g]/2+O,re=Wr(Y,te,q),me=!r.arrow&&Zi(h)!=null&&te!=re&&u.reference[g]/2-(te<Y?N:W)-m[g]/2<0,G=me?te<Y?te-Y:te-q:0;return{[o]:a[o]+G,data:{[o]:re,centerOffset:te-re-G,...me&&{alignmentOffset:G}},reset:me}}}),vf=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(e){var t,n;const{placement:h,middlewareData:u,rects:p,initialPlacement:f,platform:r,elements:c}=e,{mainAxis:d=!0,crossAxis:s=!0,fallbackPlacements:a,fallbackStrategy:o="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...l}=Qi(i,e);if((t=u.arrow)!=null&&t.alignmentOffset)return{};const v=bi(h),_=bi(f)===f,b=await(r.isRTL==null?void 0:r.isRTL(c.floating)),y=a||(_||!m?[Sn(f)]:uf(f));!a&&g!=="none"&&y.push(...df(f,m,g,b));const C=[f,...y],S=await la(e,l),w=[];let O=((n=u.flip)==null?void 0:n.overflows)||[];if(d&&w.push(S[v]),s){const Y=cf(h,p,b);w.push(S[Y[0]],S[Y[1]])}if(O=[...O,{placement:h,overflows:w}],!w.every(Y=>Y<=0)){var A,N;const Y=(((A=u.flip)==null?void 0:A.index)||0)+1,q=C[Y];if(q)return{data:{index:Y,overflows:O},reset:{placement:q}};let te=(N=O.filter(re=>re.overflows[0]<=0).sort((re,me)=>re.overflows[1]-me.overflows[1])[0])==null?void 0:N.placement;if(!te)switch(o){case"bestFit":{var W;const re=(W=O.map(me=>[me.placement,me.overflows.filter(G=>G>0).reduce((G,oe)=>G+oe,0)]).sort((me,G)=>me[1]-G[1])[0])==null?void 0:W[0];re&&(te=re);break}case"initialPlacement":te=f;break}if(h!==te)return{reset:{placement:te}}}return{}}}};async function _f(i,e){const{placement:t,platform:n,elements:h}=i,u=await(n.isRTL==null?void 0:n.isRTL(h.floating)),p=bi(t),f=Zi(t),r=En(t)==="y",c=["left","top"].includes(p)?-1:1,d=u&&r?-1:1,s=Qi(e,i);let{mainAxis:a,crossAxis:o,alignmentAxis:g}=typeof s=="number"?{mainAxis:s,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...s};return f&&typeof g=="number"&&(o=f==="end"?g*-1:g),r?{x:o*d,y:a*c}:{x:a*c,y:o*d}}const bf=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(e){const{x:t,y:n}=e,h=await _f(e,i);return{x:t+h.x,y:n+h.y,data:h}}}},yf=function(i){return i===void 0&&(i={}),{name:"shift",options:i,async fn(e){const{x:t,y:n,placement:h}=e,{mainAxis:u=!0,crossAxis:p=!1,limiter:f={fn:l=>{let{x:v,y:_}=l;return{x:v,y:_}}},...r}=Qi(i,e),c={x:t,y:n},d=await la(e,r),s=En(bi(h)),a=oa(s);let o=c[a],g=c[s];if(u){const l=a==="y"?"top":"left",v=a==="y"?"bottom":"right",_=o+d[l],b=o-d[v];o=Wr(_,o,b)}if(p){const l=s==="y"?"top":"left",v=s==="y"?"bottom":"right",_=g+d[l],b=g-d[v];g=Wr(_,g,b)}const m=f.fn({...e,[a]:o,[s]:g});return{...m,data:{x:m.x-t,y:m.y-n}}}}};function hi(i){return fa(i)?(i.nodeName||"").toLowerCase():"#document"}function jt(i){var e;return(i==null||(e=i.ownerDocument)==null?void 0:e.defaultView)||window}function gi(i){var e;return(e=(fa(i)?i.ownerDocument:i.document)||window.document)==null?void 0:e.documentElement}function fa(i){return i instanceof Node||i instanceof jt(i).Node}function si(i){return i instanceof Element||i instanceof jt(i).Element}function Jt(i){return i instanceof HTMLElement||i instanceof jt(i).HTMLElement}function xs(i){return typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof jt(i).ShadowRoot}function $i(i){const{overflow:e,overflowX:t,overflowY:n,display:h}=zt(i);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!["inline","contents"].includes(h)}function Cf(i){return["table","td","th"].includes(hi(i))}function as(i){const e=ls(),t=zt(i);return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(t.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(t.contain||"").includes(n))}function Sf(i){let e=Di(i);for(;Jt(e)&&!An(e);){if(as(e))return e;e=Di(e)}return null}function ls(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function An(i){return["html","body","#document"].includes(hi(i))}function zt(i){return jt(i).getComputedStyle(i)}function Mn(i){return si(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.pageXOffset,scrollTop:i.pageYOffset}}function Di(i){if(hi(i)==="html")return i;const e=i.assignedSlot||i.parentNode||xs(i)&&i.host||gi(i);return xs(e)?e.host:e}function ca(i){const e=Di(i);return An(e)?i.ownerDocument?i.ownerDocument.body:i.body:Jt(e)&&$i(e)?e:ca(e)}function Vr(i,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const h=ca(i),u=h===((n=i.ownerDocument)==null?void 0:n.body),p=jt(h);return u?e.concat(p,p.visualViewport||[],$i(h)?h:[],p.frameElement&&t?Vr(p.frameElement):[]):e.concat(h,Vr(h,[],t))}function ua(i){const e=zt(i);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const h=Jt(i),u=h?i.offsetWidth:t,p=h?i.offsetHeight:n,f=Cn(t)!==u||Cn(n)!==p;return f&&(t=u,n=p),{width:t,height:n,$:f}}function ha(i){return si(i)?i:i.contextElement}function Mi(i){const e=ha(i);if(!Jt(e))return ui(1);const t=e.getBoundingClientRect(),{width:n,height:h,$:u}=ua(e);let p=(u?Cn(t.width):t.width)/n,f=(u?Cn(t.height):t.height)/h;return(!p||!Number.isFinite(p))&&(p=1),(!f||!Number.isFinite(f))&&(f=1),{x:p,y:f}}const wf=ui(0);function da(i){const e=jt(i);return!ls()||!e.visualViewport?wf:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Tf(i,e,t){return e===void 0&&(e=!1),!t||e&&t!==jt(i)?!1:e}function Yi(i,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const h=i.getBoundingClientRect(),u=ha(i);let p=ui(1);e&&(n?si(n)&&(p=Mi(n)):p=Mi(i));const f=Tf(u,t,n)?da(u):ui(0);let r=(h.left+f.x)/p.x,c=(h.top+f.y)/p.y,d=h.width/p.x,s=h.height/p.y;if(u){const a=jt(u),o=n&&si(n)?jt(n):n;let g=a.frameElement;for(;g&&n&&o!==a;){const m=Mi(g),l=g.getBoundingClientRect(),v=zt(g),_=l.left+(g.clientLeft+parseFloat(v.paddingLeft))*m.x,b=l.top+(g.clientTop+parseFloat(v.paddingTop))*m.y;r*=m.x,c*=m.y,d*=m.x,s*=m.y,r+=_,c+=b,g=jt(g).frameElement}}return wn({width:d,height:s,x:r,y:c})}function xf(i){let{rect:e,offsetParent:t,strategy:n}=i;const h=Jt(t),u=gi(t);if(t===u)return e;let p={scrollLeft:0,scrollTop:0},f=ui(1);const r=ui(0);if((h||!h&&n!=="fixed")&&((hi(t)!=="body"||$i(u))&&(p=Mn(t)),Jt(t))){const c=Yi(t);f=Mi(t),r.x=c.x+t.clientLeft,r.y=c.y+t.clientTop}return{width:e.width*f.x,height:e.height*f.y,x:e.x*f.x-p.scrollLeft*f.x+r.x,y:e.y*f.y-p.scrollTop*f.y+r.y}}function Of(i){return Array.from(i.getClientRects())}function ga(i){return Yi(gi(i)).left+Mn(i).scrollLeft}function kf(i){const e=gi(i),t=Mn(i),n=i.ownerDocument.body,h=Ai(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),u=Ai(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let p=-t.scrollLeft+ga(i);const f=-t.scrollTop;return zt(n).direction==="rtl"&&(p+=Ai(e.clientWidth,n.clientWidth)-h),{width:h,height:u,x:p,y:f}}function Pf(i,e){const t=jt(i),n=gi(i),h=t.visualViewport;let u=n.clientWidth,p=n.clientHeight,f=0,r=0;if(h){u=h.width,p=h.height;const c=ls();(!c||c&&e==="fixed")&&(f=h.offsetLeft,r=h.offsetTop)}return{width:u,height:p,x:f,y:r}}function Ef(i,e){const t=Yi(i,!0,e==="fixed"),n=t.top+i.clientTop,h=t.left+i.clientLeft,u=Jt(i)?Mi(i):ui(1),p=i.clientWidth*u.x,f=i.clientHeight*u.y,r=h*u.x,c=n*u.y;return{width:p,height:f,x:r,y:c}}function Os(i,e,t){let n;if(e==="viewport")n=Pf(i,t);else if(e==="document")n=kf(gi(i));else if(si(e))n=Ef(e,t);else{const h=da(i);n={...e,x:e.x-h.x,y:e.y-h.y}}return wn(n)}function ma(i,e){const t=Di(i);return t===e||!si(t)||An(t)?!1:zt(t).position==="fixed"||ma(t,e)}function Af(i,e){const t=e.get(i);if(t)return t;let n=Vr(i,[],!1).filter(f=>si(f)&&hi(f)!=="body"),h=null;const u=zt(i).position==="fixed";let p=u?Di(i):i;for(;si(p)&&!An(p);){const f=zt(p),r=as(p);!r&&f.position==="fixed"&&(h=null),(u?!r&&!h:!r&&f.position==="static"&&!!h&&["absolute","fixed"].includes(h.position)||$i(p)&&!r&&ma(i,p))?n=n.filter(d=>d!==p):h=f,p=Di(p)}return e.set(i,n),n}function Mf(i){let{element:e,boundary:t,rootBoundary:n,strategy:h}=i;const p=[...t==="clippingAncestors"?Af(e,this._c):[].concat(t),n],f=p[0],r=p.reduce((c,d)=>{const s=Os(e,d,h);return c.top=Ai(s.top,c.top),c.right=Vi(s.right,c.right),c.bottom=Vi(s.bottom,c.bottom),c.left=Ai(s.left,c.left),c},Os(e,f,h));return{width:r.right-r.left,height:r.bottom-r.top,x:r.left,y:r.top}}function Df(i){return ua(i)}function Lf(i,e,t){const n=Jt(e),h=gi(e),u=t==="fixed",p=Yi(i,!0,u,e);let f={scrollLeft:0,scrollTop:0};const r=ui(0);if(n||!n&&!u)if((hi(e)!=="body"||$i(h))&&(f=Mn(e)),n){const c=Yi(e,!0,u,e);r.x=c.x+e.clientLeft,r.y=c.y+e.clientTop}else h&&(r.x=ga(h));return{x:p.left+f.scrollLeft-r.x,y:p.top+f.scrollTop-r.y,width:p.width,height:p.height}}function ks(i,e){return!Jt(i)||zt(i).position==="fixed"?null:e?e(i):i.offsetParent}function pa(i,e){const t=jt(i);if(!Jt(i))return t;let n=ks(i,e);for(;n&&Cf(n)&&zt(n).position==="static";)n=ks(n,e);return n&&(hi(n)==="html"||hi(n)==="body"&&zt(n).position==="static"&&!as(n))?t:n||Sf(i)||t}const Ff=async function(i){let{reference:e,floating:t,strategy:n}=i;const h=this.getOffsetParent||pa,u=this.getDimensions;return{reference:Lf(e,await h(t),n),floating:{x:0,y:0,...await u(t)}}};function Rf(i){return zt(i).direction==="rtl"}const If={convertOffsetParentRelativeRectToViewportRelativeRect:xf,getDocumentElement:gi,getClippingRect:Mf,getOffsetParent:pa,getElementRects:Ff,getClientRects:Of,getDimensions:Df,getScale:Mi,isElement:si,isRTL:Rf},jf=(i,e,t)=>{const n=new Map,h={platform:If,...t},u={...h.platform,_c:n};return mf(i,e,{...h,platform:u})};function Ps(i){let e,t,n;const h=[i[3]];function u(f){i[21](f)}let p={};for(let f=0;f<h.length;f+=1)p=Se(p,h[f]);return i[2]!==void 0&&(p.element=i[2]),e=new He({props:p}),Le.push(()=>Ze(e,"element",u)),{c(){B(e.$$.fragment)},m(f,r){I(e,f,r),n=!0},p(f,r){const c=r[0]&8?rt(h,[qe(f[3])]):{};!t&&r[0]&4&&(t=!0,c.element=f[2],ct(()=>t=!1)),e.$set(c)},i(f){n||(x(e.$$.fragment,f),n=!0)},o(f){E(e.$$.fragment,f),n=!1},d(f){j(e,f)}}}function Bf(i){let e,t,n=i[0]&&Ps(i);const h=i[20].default,u=st(h,i,i[23],null);return{c(){n&&n.c(),e=ue(),u&&u.c()},m(p,f){n&&n.m(p,f),Z(p,e,f),u&&u.m(p,f),t=!0},p(p,f){p[0]?n?(n.p(p,f),f[0]&1&&x(n,1)):(n=Ps(p),n.c(),x(n,1),n.m(e.parentNode,e)):n&&(Ne(),E(n,1,1,()=>{n=null}),Xe()),u&&u.p&&(!t||f[0]&8388608)&&at(u,h,p,p[23],t?ot(h,p[23],f,null):lt(p[23]),null)},i(p){t||(x(n),x(u,p),t=!0)},o(p){E(n),E(u,p),t=!1},d(p){p&&J(e),n&&n.d(p),u&&u.d(p)}}}function Nf(i){let e,t,n;const h=[{components:i[5]},i[6],i[4]];function u(f){i[22](f)}let p={$$slots:{default:[Bf]},$$scope:{ctx:i}};for(let f=0;f<h.length;f+=1)p=Se(p,h[f]);return i[1]!==void 0&&(p.element=i[1]),e=new He({props:p}),Le.push(()=>Ze(e,"element",u)),{c(){B(e.$$.fragment)},m(f,r){I(e,f,r),n=!0},p(f,r){const c=r[0]&112?rt(h,[r[0]&32&&{components:f[5]},r[0]&64&&qe(f[6]),r[0]&16&&qe(f[4])]):{};r[0]&8388621&&(c.$$scope={dirty:r,ctx:f}),!t&&r[0]&2&&(t=!0,c.element=f[1],ct(()=>t=!1)),e.$set(c)},i(f){n||(x(e.$$.fragment,f),n=!0)},o(f){E(e.$$.fragment,f),n=!1},d(f){j(e,f)}}}function Xf(i,e,t){let n,h;const u=["target","placement","trigger","popupOffset","autoClose","arrow","componentName","show"];let p=je(e,u),{$$slots:f={},$$scope:r}=e,{target:c=void 0}=e,{placement:d=void 0}=e,{trigger:s=void 0}=e,{popupOffset:a=void 0}=e,{autoClose:o="outside"}=e,{arrow:g=void 0}=e,{componentName:m="popup"}=e,{show:l=void 0}=e;const v=[{component:tt(),except:[]},...e.components??[]];let _,b,y,C,S,w,O,A,N="",W="";function Y(){A&&s==="hover"&&clearTimeout(A),t(7,l=!0);let M=[];a&&M.push(bf(a)),M.push(yf({padding:a})),M.push(vf()),g&&M.push(pf({element:y})),jf(b,_,{placement:d,middleware:M}).then(({x:K,y:k,...P})=>{if(t(18,N=`${K}px`),t(19,W=`${k}px`),g){t(15,C=P.placement.split("-")[0]);const X=P.middlewareData.arrow;X&&(t(16,S=X.x?`${X.x}px`:""),t(17,w=X.y?`${X.y}px`:""))}})}function q(){s==="hover"?A=setTimeout(()=>{t(7,l=!1)},300):t(7,l=!1)}const te=()=>{l?q():Y()};function re(M){if(l&&(o===!0||o==="outside")){if(M.composedPath().some(K=>K==_||K==b))return;t(7,l=!1)}}function me(){(o===!0||o==="inside")&&t(7,l=!1)}function G(M){return M?typeof M=="string"?document.querySelector(M)||_.parentElement:M:_.previousElementSibling||_.parentElement}async function oe(){window&&(window.process={env:{NODE_ENV:"production"}}),O=b,typeof window<"u"&&document.addEventListener("click",re),_==null||_.addEventListener("click",me),s==="click"&&(b==null||b.addEventListener("click",te)),s==="hover"&&(b==null||b.addEventListener("mouseenter",Y),b==null||b.addEventListener("mouseleave",q),_==null||_.addEventListener("mouseenter",Y),_==null||_.addEventListener("mouseleave",q)),s==="focus"&&(b==null||b.addEventListener("focus",Y),b==null||b.addEventListener("blur",q))}function T(){O&&(s==="click"&&O.removeEventListener("click",te),typeof window<"u"&&document.removeEventListener("click",re),_==null||_.removeEventListener("click",me),s==="hover"&&(O.removeEventListener("mouseenter",Y),O.removeEventListener("mouseleave",q),_==null||_.removeEventListener("mouseenter",Y),_==null||_.removeEventListener("mouseleave",q)),s==="focus"&&(O.removeEventListener("focus",Y),O.removeEventListener("blur",q)))}function F(M){y=M,t(2,y)}function L(M){_=M,t(1,_)}return i.$$set=M=>{t(34,e=Se(Se({},e),De(M))),t(6,p=je(e,u)),"target"in M&&t(8,c=M.target),"placement"in M&&t(9,d=M.placement),"trigger"in M&&t(10,s=M.trigger),"popupOffset"in M&&t(11,a=M.popupOffset),"autoClose"in M&&t(12,o=M.autoClose),"arrow"in M&&t(0,g=M.arrow),"componentName"in M&&t(13,m=M.componentName),"show"in M&&t(7,l=M.show),"$$scope"in M&&t(23,r=M.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&258&&_&&t(14,b=G(c)),i.$$.dirty[0]&16384&&b&&(T(),oe()),t(4,n={componentName:m,class:Be("popup",{show:l,arrowPlacement:C},e.class),style:`left: ${N}; top: ${W};`}),i.$$.dirty[0]&204800&&t(3,h={componentName:m+"-arrow",class:Be("popup-arrow"),style:`left: ${S}; top: ${w}`})},e=De(e),[g,_,y,h,n,v,p,l,c,d,s,a,o,m,b,C,S,w,N,W,f,F,L,r]}class zf extends Ie{constructor(e){super(),Re(this,e,Xf,Nf,Me,{target:8,placement:9,trigger:10,popupOffset:11,autoClose:12,arrow:0,componentName:13,show:7},null,[-1,-1])}}const va=zf;/**
* (c) Iconify
*
* For the full copyright and license information, please view the license.txt
* files at https://github.com/iconify/iconify
*
* Licensed under MIT.
*
* @license MIT
* @version 1.0.8
*/const _a=Object.freeze({left:0,top:0,width:16,height:16}),Tn=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),en=Object.freeze({..._a,...Tn}),Yr=Object.freeze({...en,body:"",hidden:!1}),Wf=Object.freeze({width:null,height:null}),ba=Object.freeze({...Wf,...Tn});function Hf(i,e=0){const t=i.replace(/^-?[0-9.]*/,"");function n(h){for(;h<0;)h+=4;return h%4}if(t===""){const h=parseInt(i);return isNaN(h)?0:n(h)}else if(t!==i){let h=0;switch(t){case"%":h=25;break;case"deg":h=90}if(h){let u=parseFloat(i.slice(0,i.length-t.length));return isNaN(u)?0:(u=u/h,u%1===0?n(u):0)}}return e}const Vf=/[\s,]+/;function Yf(i,e){e.split(Vf).forEach(t=>{switch(t.trim()){case"horizontal":i.hFlip=!0;break;case"vertical":i.vFlip=!0;break}})}const ya={...ba,preserveAspectRatio:""};function Es(i){const e={...ya},t=(n,h)=>i.getAttribute(n)||h;return e.width=t("width",null),e.height=t("height",null),e.rotate=Hf(t("rotate","")),Yf(e,t("flip","")),e.preserveAspectRatio=t("preserveAspectRatio",t("preserveaspectratio","")),e}function Uf(i,e){for(const t in ya)if(i[t]!==e[t])return!0;return!1}const Ni=/^[a-z0-9]+(-[a-z0-9]+)*$/,tn=(i,e,t,n="")=>{const h=i.split(":");if(i.slice(0,1)==="@"){if(h.length<2||h.length>3)return null;n=h.shift().slice(1)}if(h.length>3||!h.length)return null;if(h.length>1){const f=h.pop(),r=h.pop(),c={provider:h.length>0?h[0]:n,prefix:r,name:f};return e&&!hn(c)?null:c}const u=h[0],p=u.split("-");if(p.length>1){const f={provider:n,prefix:p.shift(),name:p.join("-")};return e&&!hn(f)?null:f}if(t&&n===""){const f={provider:n,prefix:"",name:u};return e&&!hn(f,t)?null:f}return null},hn=(i,e)=>i?!!((i.provider===""||i.provider.match(Ni))&&(e&&i.prefix===""||i.prefix.match(Ni))&&i.name.match(Ni)):!1;function Gf(i,e){const t={};!i.hFlip!=!e.hFlip&&(t.hFlip=!0),!i.vFlip!=!e.vFlip&&(t.vFlip=!0);const n=((i.rotate||0)+(e.rotate||0))%4;return n&&(t.rotate=n),t}function As(i,e){const t=Gf(i,e);for(const n in Yr)n in Tn?n in i&&!(n in t)&&(t[n]=Tn[n]):n in e?t[n]=e[n]:n in i&&(t[n]=i[n]);return t}function qf(i,e){const t=i.icons,n=i.aliases||Object.create(null),h=Object.create(null);function u(p){if(t[p])return h[p]=[];if(!(p in h)){h[p]=null;const f=n[p]&&n[p].parent,r=f&&u(f);r&&(h[p]=[f].concat(r))}return h[p]}return(e||Object.keys(t).concat(Object.keys(n))).forEach(u),h}function Kf(i,e,t){const n=i.icons,h=i.aliases||Object.create(null);let u={};function p(f){u=As(n[f]||h[f],u)}return p(e),t.forEach(p),As(i,u)}function Ca(i,e){const t=[];if(typeof i!="object"||typeof i.icons!="object")return t;i.not_found instanceof Array&&i.not_found.forEach(h=>{e(h,null),t.push(h)});const n=qf(i);for(const h in n){const u=n[h];u&&(e(h,Kf(i,h,u)),t.push(h))}return t}const Jf={provider:"",aliases:{},not_found:{},..._a};function Pr(i,e){for(const t in e)if(t in i&&typeof i[t]!=typeof e[t])return!1;return!0}function Sa(i){if(typeof i!="object"||i===null)return null;const e=i;if(typeof e.prefix!="string"||!i.icons||typeof i.icons!="object"||!Pr(i,Jf))return null;const t=e.icons;for(const h in t){const u=t[h];if(!h.match(Ni)||typeof u.body!="string"||!Pr(u,Yr))return null}const n=e.aliases||Object.create(null);for(const h in n){const u=n[h],p=u.parent;if(!h.match(Ni)||typeof p!="string"||!t[p]&&!n[p]||!Pr(u,Yr))return null}return e}const xn=Object.create(null);function Qf(i,e){return{provider:i,prefix:e,icons:Object.create(null),missing:new Set}}function di(i,e){const t=xn[i]||(xn[i]=Object.create(null));return t[e]||(t[e]=Qf(i,e))}function fs(i,e){return Sa(e)?Ca(e,(t,n)=>{n?i.icons[t]=n:i.missing.add(t)}):[]}function Zf(i,e,t){try{if(typeof t.body=="string")return i.icons[e]={...t},!0}catch{}return!1}function $f(i,e){let t=[];return(typeof i=="string"?[i]:Object.keys(xn)).forEach(h=>{(typeof h=="string"&&typeof e=="string"?[e]:Object.keys(xn[h]||{})).forEach(p=>{const f=di(h,p);t=t.concat(Object.keys(f.icons).map(r=>(h!==""?"@"+h+":":"")+p+":"+r))})}),t}let Ui=!1;function wa(i){return typeof i=="boolean"&&(Ui=i),Ui}function Gi(i){const e=typeof i=="string"?tn(i,!0,Ui):i;if(e){const t=di(e.provider,e.prefix),n=e.name;return t.icons[n]||(t.missing.has(n)?null:void 0)}}function Ta(i,e){const t=tn(i,!0,Ui);if(!t)return!1;const n=di(t.provider,t.prefix);return Zf(n,t.name,e)}function Ms(i,e){if(typeof i!="object")return!1;if(typeof e!="string"&&(e=i.provider||""),Ui&&!e&&!i.prefix){let h=!1;return Sa(i)&&(i.prefix="",Ca(i,(u,p)=>{p&&Ta(u,p)&&(h=!0)})),h}const t=i.prefix;if(!hn({provider:e,prefix:t,name:"a"}))return!1;const n=di(e,t);return!!fs(n,i)}function ec(i){return!!Gi(i)}function tc(i){const e=Gi(i);return e?{...en,...e}:null}function ic(i){const e={loaded:[],missing:[],pending:[]},t=Object.create(null);i.sort((h,u)=>h.provider!==u.provider?h.provider.localeCompare(u.provider):h.prefix!==u.prefix?h.prefix.localeCompare(u.prefix):h.name.localeCompare(u.name));let n={provider:"",prefix:"",name:""};return i.forEach(h=>{if(n.name===h.name&&n.prefix===h.prefix&&n.provider===h.provider)return;n=h;const u=h.provider,p=h.prefix,f=h.name,r=t[u]||(t[u]=Object.create(null)),c=r[p]||(r[p]=di(u,p));let d;f in c.icons?d=e.loaded:p===""||c.missing.has(f)?d=e.missing:d=e.pending;const s={provider:u,prefix:p,name:f};d.push(s)}),e}function xa(i,e){i.forEach(t=>{const n=t.loaderCallbacks;n&&(t.loaderCallbacks=n.filter(h=>h.id!==e))})}function nc(i){i.pendingCallbacksFlag||(i.pendingCallbacksFlag=!0,setTimeout(()=>{i.pendingCallbacksFlag=!1;const e=i.loaderCallbacks?i.loaderCallbacks.slice(0):[];if(!e.length)return;let t=!1;const n=i.provider,h=i.prefix;e.forEach(u=>{const p=u.icons,f=p.pending.length;p.pending=p.pending.filter(r=>{if(r.prefix!==h)return!0;const c=r.name;if(i.icons[c])p.loaded.push({provider:n,prefix:h,name:c});else if(i.missing.has(c))p.missing.push({provider:n,prefix:h,name:c});else return t=!0,!0;return!1}),p.pending.length!==f&&(t||xa([i],u.id),u.callback(p.loaded.slice(0),p.missing.slice(0),p.pending.slice(0),u.abort))})}))}let rc=0;function sc(i,e,t){const n=rc++,h=xa.bind(null,t,n);if(!e.pending.length)return h;const u={id:n,icons:e,callback:i,abort:h};return t.forEach(p=>{(p.loaderCallbacks||(p.loaderCallbacks=[])).push(u)}),h}const Ur=Object.create(null);function Ds(i,e){Ur[i]=e}function Gr(i){return Ur[i]||Ur[""]}function oc(i,e=!0,t=!1){const n=[];return i.forEach(h=>{const u=typeof h=="string"?tn(h,e,t):h;u&&n.push(u)}),n}var ac={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function lc(i,e,t,n){const h=i.resources.length,u=i.random?Math.floor(Math.random()*h):i.index;let p;if(i.random){let S=i.resources.slice(0);for(p=[];S.length>1;){const w=Math.floor(Math.random()*S.length);p.push(S[w]),S=S.slice(0,w).concat(S.slice(w+1))}p=p.concat(S)}else p=i.resources.slice(u).concat(i.resources.slice(0,u));const f=Date.now();let r="pending",c=0,d,s=null,a=[],o=[];typeof n=="function"&&o.push(n);function g(){s&&(clearTimeout(s),s=null)}function m(){r==="pending"&&(r="aborted"),g(),a.forEach(S=>{S.status==="pending"&&(S.status="aborted")}),a=[]}function l(S,w){w&&(o=[]),typeof S=="function"&&o.push(S)}function v(){return{startTime:f,payload:e,status:r,queriesSent:c,queriesPending:a.length,subscribe:l,abort:m}}function _(){r="failed",o.forEach(S=>{S(void 0,d)})}function b(){a.forEach(S=>{S.status==="pending"&&(S.status="aborted")}),a=[]}function y(S,w,O){const A=w!=="success";switch(a=a.filter(N=>N!==S),r){case"pending":break;case"failed":if(A||!i.dataAfterTimeout)return;break;default:return}if(w==="abort"){d=O,_();return}if(A){d=O,a.length||(p.length?C():_());return}if(g(),b(),!i.random){const N=i.resources.indexOf(S.resource);N!==-1&&N!==i.index&&(i.index=N)}r="completed",o.forEach(N=>{N(O)})}function C(){if(r!=="pending")return;g();const S=p.shift();if(S===void 0){if(a.length){s=setTimeout(()=>{g(),r==="pending"&&(b(),_())},i.timeout);return}_();return}const w={status:"pending",resource:S,callback:(O,A)=>{y(w,O,A)}};a.push(w),c++,s=setTimeout(C,i.rotate),t(S,e,w.callback)}return setTimeout(C),v}function Oa(i){const e={...ac,...i};let t=[];function n(){t=t.filter(f=>f().status==="pending")}function h(f,r,c){const d=lc(e,f,r,(s,a)=>{n(),c&&c(s,a)});return t.push(d),d}function u(f){return t.find(r=>f(r))||null}return{query:h,find:u,setIndex:f=>{e.index=f},getIndex:()=>e.index,cleanup:n}}function cs(i){let e;if(typeof i.resources=="string")e=[i.resources];else if(e=i.resources,!(e instanceof Array)||!e.length)return null;return{resources:e,path:i.path||"/",maxURL:i.maxURL||500,rotate:i.rotate||750,timeout:i.timeout||5e3,random:i.random===!0,index:i.index||0,dataAfterTimeout:i.dataAfterTimeout!==!1}}const Dn=Object.create(null),Ri=["https://api.simplesvg.com","https://api.unisvg.com"],dn=[];for(;Ri.length>0;)Ri.length===1||Math.random()>.5?dn.push(Ri.shift()):dn.push(Ri.pop());Dn[""]=cs({resources:["https://api.iconify.design"].concat(dn)});function Ls(i,e){const t=cs(e);return t===null?!1:(Dn[i]=t,!0)}function Ln(i){return Dn[i]}function fc(){return Object.keys(Dn)}function Fs(){}const Er=Object.create(null);function cc(i){if(!Er[i]){const e=Ln(i);if(!e)return;const t=Oa(e),n={config:e,redundancy:t};Er[i]=n}return Er[i]}function ka(i,e,t){let n,h;if(typeof i=="string"){const u=Gr(i);if(!u)return t(void 0,424),Fs;h=u.send;const p=cc(i);p&&(n=p.redundancy)}else{const u=cs(i);if(u){n=Oa(u);const p=i.resources?i.resources[0]:"",f=Gr(p);f&&(h=f.send)}}return!n||!h?(t(void 0,424),Fs):n.query(e,h,t)().abort}const Rs="iconify2",qi="iconify",Pa=qi+"-count",Is=qi+"-version",Ea=36e5,uc=168;function qr(i,e){try{return i.getItem(e)}catch{}}function us(i,e,t){try{return i.setItem(e,t),!0}catch{}}function js(i,e){try{i.removeItem(e)}catch{}}function Kr(i,e){return us(i,Pa,e.toString())}function Jr(i){return parseInt(qr(i,Pa))||0}const _i={local:!0,session:!0},Aa={local:new Set,session:new Set};let hs=!1;function hc(i){hs=i}let on=typeof window>"u"?{}:window;function Ma(i){const e=i+"Storage";try{if(on&&on[e]&&typeof on[e].length=="number")return on[e]}catch{}_i[i]=!1}function Da(i,e){const t=Ma(i);if(!t)return;const n=qr(t,Is);if(n!==Rs){if(n){const f=Jr(t);for(let r=0;r<f;r++)js(t,qi+r.toString())}us(t,Is,Rs),Kr(t,0);return}const h=Math.floor(Date.now()/Ea)-uc,u=f=>{const r=qi+f.toString(),c=qr(t,r);if(typeof c=="string"){try{const d=JSON.parse(c);if(typeof d=="object"&&typeof d.cached=="number"&&d.cached>h&&typeof d.provider=="string"&&typeof d.data=="object"&&typeof d.data.prefix=="string"&&e(d,f))return!0}catch{}js(t,r)}};let p=Jr(t);for(let f=p-1;f>=0;f--)u(f)||(f===p-1?(p--,Kr(t,p)):Aa[i].add(f))}function La(){if(!hs){hc(!0);for(const i in _i)Da(i,e=>{const t=e.data,n=e.provider,h=t.prefix,u=di(n,h);if(!fs(u,t).length)return!1;const p=t.lastModified||-1;return u.lastModifiedCached=u.lastModifiedCached?Math.min(u.lastModifiedCached,p):p,!0})}}function dc(i,e){const t=i.lastModifiedCached;if(t&&t>=e)return t===e;if(i.lastModifiedCached=e,t)for(const n in _i)Da(n,h=>{const u=h.data;return h.provider!==i.provider||u.prefix!==i.prefix||u.lastModified===e});return!0}function gc(i,e){hs||La();function t(n){let h;if(!_i[n]||!(h=Ma(n)))return;const u=Aa[n];let p;if(u.size)u.delete(p=Array.from(u).shift());else if(p=Jr(h),!Kr(h,p+1))return;const f={cached:Math.floor(Date.now()/Ea),provider:i.provider,data:e};return us(h,qi+p.toString(),JSON.stringify(f))}e.lastModified&&!dc(i,e.lastModified)||Object.keys(e.icons).length&&(e.not_found&&(e=Object.assign({},e),delete e.not_found),t("local")||t("session"))}function Bs(){}function mc(i){i.iconsLoaderFlag||(i.iconsLoaderFlag=!0,setTimeout(()=>{i.iconsLoaderFlag=!1,nc(i)}))}function pc(i,e){i.iconsToLoad?i.iconsToLoad=i.iconsToLoad.concat(e).sort():i.iconsToLoad=e,i.iconsQueueFlag||(i.iconsQueueFlag=!0,setTimeout(()=>{i.iconsQueueFlag=!1;const{provider:t,prefix:n}=i,h=i.iconsToLoad;delete i.iconsToLoad;let u;if(!h||!(u=Gr(t)))return;u.prepare(t,n,h).forEach(f=>{ka(t,f,r=>{if(typeof r!="object")f.icons.forEach(c=>{i.missing.add(c)});else try{const c=fs(i,r);if(!c.length)return;const d=i.pendingIcons;d&&c.forEach(s=>{d.delete(s)}),gc(i,r)}catch(c){console.error(c)}mc(i)})})}))}const ds=(i,e)=>{const t=oc(i,!0,wa()),n=ic(t);if(!n.pending.length){let r=!0;return e&&setTimeout(()=>{r&&e(n.loaded,n.missing,n.pending,Bs)}),()=>{r=!1}}const h=Object.create(null),u=[];let p,f;return n.pending.forEach(r=>{const{provider:c,prefix:d}=r;if(d===f&&c===p)return;p=c,f=d,u.push(di(c,d));const s=h[c]||(h[c]=Object.create(null));s[d]||(s[d]=[])}),n.pending.forEach(r=>{const{provider:c,prefix:d,name:s}=r,a=di(c,d),o=a.pendingIcons||(a.pendingIcons=new Set);o.has(s)||(o.add(s),h[c][d].push(s))}),u.forEach(r=>{const{provider:c,prefix:d}=r;h[c][d].length&&pc(r,h[c][d])}),e?sc(e,n,u):Bs},vc=i=>new Promise((e,t)=>{const n=typeof i=="string"?tn(i,!0):i;if(!n){t(i);return}ds([n||i],h=>{if(h.length&&n){const u=Gi(n);if(u){e({...en,...u});return}}t(i)})});function _c(i){try{const e=typeof i=="string"?JSON.parse(i):i;if(typeof e.body=="string")return{...e}}catch{}}function bc(i,e){const t=typeof i=="string"?tn(i,!0,!0):null;if(!t){const u=_c(i);return{value:i,data:u}}const n=Gi(t);if(n!==void 0||!t.prefix)return{value:i,name:t,data:n};const h=ds([t],()=>e(i,t,Gi(t)));return{value:i,name:t,loading:h}}function Ar(i){return i.hasAttribute("inline")}let Fa=!1;try{Fa=navigator.vendor.indexOf("Apple")===0}catch{}function yc(i,e){switch(e){case"svg":case"bg":case"mask":return e}return e!=="style"&&(Fa||i.indexOf("<a")===-1)?"svg":i.indexOf("currentColor")===-1?"bg":"mask"}const Cc=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Sc=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Qr(i,e,t){if(e===1)return i;if(t=t||100,typeof i=="number")return Math.ceil(i*e*t)/t;if(typeof i!="string")return i;const n=i.split(Cc);if(n===null||!n.length)return i;const h=[];let u=n.shift(),p=Sc.test(u);for(;;){if(p){const f=parseFloat(u);isNaN(f)?h.push(u):h.push(Math.ceil(f*e*t)/t)}else h.push(u);if(u=n.shift(),u===void 0)return h.join("");p=!p}}const wc=i=>i==="unset"||i==="undefined"||i==="none";function Ra(i,e){const t={...en,...i},n={...ba,...e},h={left:t.left,top:t.top,width:t.width,height:t.height};let u=t.body;[t,n].forEach(g=>{const m=[],l=g.hFlip,v=g.vFlip;let _=g.rotate;l?v?_+=2:(m.push("translate("+(h.width+h.left).toString()+" "+(0-h.top).toString()+")"),m.push("scale(-1 1)"),h.top=h.left=0):v&&(m.push("translate("+(0-h.left).toString()+" "+(h.height+h.top).toString()+")"),m.push("scale(1 -1)"),h.top=h.left=0);let b;switch(_<0&&(_-=Math.floor(_/4)*4),_=_%4,_){case 1:b=h.height/2+h.top,m.unshift("rotate(90 "+b.toString()+" "+b.toString()+")");break;case 2:m.unshift("rotate(180 "+(h.width/2+h.left).toString()+" "+(h.height/2+h.top).toString()+")");break;case 3:b=h.width/2+h.left,m.unshift("rotate(-90 "+b.toString()+" "+b.toString()+")");break}_%2===1&&(h.left!==h.top&&(b=h.left,h.left=h.top,h.top=b),h.width!==h.height&&(b=h.width,h.width=h.height,h.height=b)),m.length&&(u='<g transform="'+m.join(" ")+'">'+u+"</g>")});const p=n.width,f=n.height,r=h.width,c=h.height;let d,s;p===null?(s=f===null?"1em":f==="auto"?c:f,d=Qr(s,r/c)):(d=p==="auto"?r:p,s=f===null?Qr(d,c/r):f==="auto"?c:f);const a={},o=(g,m)=>{wc(m)||(a[g]=m.toString())};return o("width",d),o("height",s),a.viewBox=h.left.toString()+" "+h.top.toString()+" "+r.toString()+" "+c.toString(),{attributes:a,body:u}}const Tc=()=>{let i;try{if(i=fetch,typeof i=="function")return i}catch{}};let On=Tc();function xc(i){On=i}function Oc(){return On}function kc(i,e){const t=Ln(i);if(!t)return 0;let n;if(!t.maxURL)n=0;else{let h=0;t.resources.forEach(p=>{h=Math.max(h,p.length)});const u=e+".json?icons=";n=t.maxURL-h-t.path.length-u.length}return n}function Pc(i){return i===404}const Ec=(i,e,t)=>{const n=[],h=kc(i,e),u="icons";let p={type:u,provider:i,prefix:e,icons:[]},f=0;return t.forEach((r,c)=>{f+=r.length+1,f>=h&&c>0&&(n.push(p),p={type:u,provider:i,prefix:e,icons:[]},f=r.length),p.icons.push(r)}),n.push(p),n};function Ac(i){if(typeof i=="string"){const e=Ln(i);if(e)return e.path}return"/"}const Mc=(i,e,t)=>{if(!On){t("abort",424);return}let n=Ac(e.provider);switch(e.type){case"icons":{const u=e.prefix,f=e.icons.join(","),r=new URLSearchParams({icons:f});n+=u+".json?"+r.toString();break}case"custom":{const u=e.uri;n+=u.slice(0,1)==="/"?u.slice(1):u;break}default:t("abort",400);return}let h=503;On(i+n).then(u=>{const p=u.status;if(p!==200){setTimeout(()=>{t(Pc(p)?"abort":"next",p)});return}return h=501,u.json()}).then(u=>{if(typeof u!="object"||u===null){setTimeout(()=>{u===404?t("abort",u):t("next",h)});return}setTimeout(()=>{t("success",u)})}).catch(()=>{t("next",h)})},Dc={prepare:Ec,send:Mc};function Ns(i,e){switch(i){case"local":case"session":_i[i]=e;break;case"all":for(const t in _i)_i[t]=e;break}}const Mr="data-style";let Ia="";function ja(i){Ia=i}function Xs(i,e){let t=Array.from(i.childNodes).find(n=>n.hasAttribute&&n.hasAttribute(Mr));t||(t=document.createElement("style"),t.setAttribute(Mr,Mr),i.appendChild(t)),t.textContent=":host{display:inline-block;vertical-align:"+(e?"-0.125em":"0")+"}span,svg{display:block}"+Ia}function Ba(){Ds("",Dc),wa(!0);let i;try{i=window}catch{}if(i){if(La(),i.IconifyPreload!==void 0){const t=i.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof t=="object"&&t!==null&&(t instanceof Array?t:[t]).forEach(h=>{try{(typeof h!="object"||h===null||h instanceof Array||typeof h.icons!="object"||typeof h.prefix!="string"||!Ms(h))&&console.error(n)}catch{console.error(n)}})}if(i.IconifyProviders!==void 0){const t=i.IconifyProviders;if(typeof t=="object"&&t!==null)for(const n in t){const h="IconifyProviders["+n+"] is invalid.";try{const u=t[n];if(typeof u!="object"||!u||u.resources===void 0)continue;Ls(n,u)||console.error(h)}catch{console.error(h)}}}}return{enableCache:t=>Ns(t,!0),disableCache:t=>Ns(t,!1),iconExists:ec,getIcon:tc,listIcons:$f,addIcon:Ta,addCollection:Ms,calculateSize:Qr,buildIcon:Ra,loadIcons:ds,loadIcon:vc,addAPIProvider:Ls,appendCustomStyle:ja,_api:{getAPIConfig:Ln,setAPIModule:Ds,sendAPIQuery:ka,setFetch:xc,getFetch:Oc,listAPIProviders:fc}}}function Na(i,e){let t=i.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in e)t+=" "+n+'="'+e[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+t+">"+i+"</svg>"}function Lc(i){return i.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Fc(i){return"data:image/svg+xml,"+Lc(i)}function Rc(i){return'url("'+Fc(i)+'")'}const Zr={"background-color":"currentColor"},Xa={"background-color":"transparent"},zs={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},Ws={"-webkit-mask":Zr,mask:Zr,background:Xa};for(const i in Ws){const e=Ws[i];for(const t in zs)e[i+"-"+t]=zs[t]}function Hs(i){return i?i+(i.match(/^[-0-9.]+$/)?"px":""):"inherit"}function Ic(i,e,t){const n=document.createElement("span");let h=i.body;h.indexOf("<a")!==-1&&(h+="<!-- "+Date.now()+" -->");const u=i.attributes,p=Na(h,{...u,width:e.width+"",height:e.height+""}),f=Rc(p),r=n.style,c={"--svg":f,width:Hs(u.width),height:Hs(u.height),...t?Zr:Xa};for(const d in c)r.setProperty(d,c[d]);return n}let Xi;function jc(){try{Xi=window.trustedTypes.createPolicy("iconify",{createHTML:i=>i})}catch{Xi=null}}function Bc(i){return Xi===void 0&&jc(),Xi?Xi.createHTML(i):i}function Nc(i){const e=document.createElement("span"),t=i.attributes;let n="";t.width||(n="width: inherit;"),t.height||(n+="height: inherit;"),n&&(t.style=n);const h=Na(i.body,t);return e.innerHTML=Bc(h),e.firstChild}function Vs(i,e){const t=e.icon.data,n=e.customisations,h=Ra(t,n);n.preserveAspectRatio&&(h.attributes.preserveAspectRatio=n.preserveAspectRatio);const u=e.renderedMode;let p;switch(u){case"svg":p=Nc(h);break;default:p=Ic(h,{...en,...t},u==="mask")}const f=Array.from(i.childNodes).find(r=>{const c=r.tagName&&r.tagName.toUpperCase();return c==="SPAN"||c==="SVG"});f?p.tagName==="SPAN"&&f.tagName===p.tagName?f.setAttribute("style",p.getAttribute("style")):i.replaceChild(p,f):i.appendChild(p)}function Ys(i,e,t){const n=t&&(t.rendered?t:t.lastRender);return{rendered:!1,inline:e,icon:i,lastRender:n}}function Xc(i="iconify-icon"){let e,t;try{e=window.customElements,t=window.HTMLElement}catch{return}if(!e||!t)return;const n=e.get(i);if(n)return n;const h=["icon","mode","inline","width","height","rotate","flip"],u=class extends t{constructor(){super();ut(this,"_shadowRoot");ut(this,"_state");ut(this,"_checkQueued",!1);const r=this._shadowRoot=this.attachShadow({mode:"open"}),c=Ar(this);Xs(r,c),this._state=Ys({value:""},c),this._queueCheck()}static get observedAttributes(){return h.slice(0)}attributeChangedCallback(r){if(r==="inline"){const c=Ar(this),d=this._state;c!==d.inline&&(d.inline=c,Xs(this._shadowRoot,c))}else this._queueCheck()}get icon(){const r=this.getAttribute("icon");if(r&&r.slice(0,1)==="{")try{return JSON.parse(r)}catch{}return r}set icon(r){typeof r=="object"&&(r=JSON.stringify(r)),this.setAttribute("icon",r)}get inline(){return Ar(this)}set inline(r){r?this.setAttribute("inline","true"):this.removeAttribute("inline")}restartAnimation(){const r=this._state;if(r.rendered){const c=this._shadowRoot;if(r.renderedMode==="svg")try{c.lastChild.setCurrentTime(0);return}catch{}Vs(c,r)}}get status(){const r=this._state;return r.rendered?"rendered":r.icon.data===null?"failed":"loading"}_queueCheck(){this._checkQueued||(this._checkQueued=!0,setTimeout(()=>{this._check()}))}_check(){if(!this._checkQueued)return;this._checkQueued=!1;const r=this._state,c=this.getAttribute("icon");if(c!==r.icon.value){this._iconChanged(c);return}if(!r.rendered)return;const d=this.getAttribute("mode"),s=Es(this);(r.attrMode!==d||Uf(r.customisations,s))&&this._renderIcon(r.icon,s,d)}_iconChanged(r){const c=bc(r,(d,s,a)=>{const o=this._state;if(o.rendered||this.getAttribute("icon")!==d)return;const g={value:d,name:s,data:a};g.data?this._gotIconData(g):o.icon=g});c.data?this._gotIconData(c):this._state=Ys(c,this._state.inline,this._state)}_gotIconData(r){this._checkQueued=!1,this._renderIcon(r,Es(this),this.getAttribute("mode"))}_renderIcon(r,c,d){const s=yc(r.data.body,d),a=this._state.inline;Vs(this._shadowRoot,this._state={rendered:!0,icon:r,inline:a,customisations:c,attrMode:d,renderedMode:s})}};h.forEach(f=>{f in u.prototype||Object.defineProperty(u.prototype,f,{get:function(){return this.getAttribute(f)},set:function(r){r!==null?this.setAttribute(f,r):this.removeAttribute(f)}})});const p=Ba();for(const f in p)u[f]=u.prototype[f]=p[f];return e.define(i,u),u}Xc()||Ba();function Us(i){let e,t;return{c(){e=ge("iconify-icon"),ji(e,"icon",t=i[2]+":"+i[1]),ji(e,"width","100%"),ji(e,"height","100%")},m(n,h){Z(n,e,h)},p(n,h){h&6&&t!==(t=n[2]+":"+n[1])&&ji(e,"icon",t)},d(n){n&&J(e)}}}function zc(i){let e,t=i[3]&&Us(i);return{c(){t&&t.c(),e=yt()},m(n,h){t&&t.m(n,h),Z(n,e,h)},p(n,h){n[3]?t?t.p(n,h):(t=Us(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&J(e),t&&t.d(n)}}}function Wc(i){let e,t;const n=[{componentName:i[0]},{components:i[5]},i[6],{cssProps:i[4]}];let h={$$slots:{default:[zc]},$$scope:{ctx:i}};for(let u=0;u<n.length;u+=1)h=Se(h,n[u]);return e=new He({props:h}),{c(){B(e.$$.fragment)},m(u,p){I(e,u,p),t=!0},p(u,[p]){const f=p&113?rt(n,[p&1&&{componentName:u[0]},p&32&&{components:u[5]},p&64&&qe(u[6]),p&16&&{cssProps:u[4]}]):{};p&1038&&(f.$$scope={dirty:p,ctx:u}),e.$set(f)},i(u){t||(x(e.$$.fragment,u),t=!0)},o(u){E(e.$$.fragment,u),t=!1},d(u){j(e,u)}}}ja('svg [stroke-width="2"] { stroke-width: 1.5; }');function Hc(i,e,t){let n;const h=["componentName","color","name","pack","size"];let u=je(e,h),{componentName:p="icon"}=e,{color:f=void 0}=e,{name:r=void 0}=e,{pack:c="tabler"}=e,{size:d=void 0}=e;const s=[{component:tt(),except:[]},...e.components??[]];let a=!1;return Zt(()=>{t(3,a=!0)}),i.$$set=o=>{t(9,e=Se(Se({},e),De(o))),t(6,u=je(e,h)),"componentName"in o&&t(0,p=o.componentName),"color"in o&&t(7,f=o.color),"name"in o&&t(1,r=o.name),"pack"in o&&t(2,c=o.pack),"size"in o&&t(8,d=o.size)},i.$$.update=()=>{i.$$.dirty&384&&t(4,n={color:f,size:d})},e=De(e),[p,r,c,a,n,s,u,f,d]}class Vc extends Ie{constructor(e){super(),Re(this,e,Hc,Wc,Me,{componentName:0,color:7,name:1,pack:2,size:8})}}const it=Vc;function Yc(i){let e;const t=i[8].default,n=st(t,i,i[9],null);return{c(){n&&n.c()},m(h,u){n&&n.m(h,u),e=!0},p(h,u){n&&n.p&&(!e||u&512)&&at(n,t,h,h[9],e?ot(t,h[9],u,null):lt(h[9]),null)},i(h){e||(x(n,h),e=!0)},o(h){E(n,h),e=!1},d(h){n&&n.d(h)}}}function Uc(i){let e,t;const n=[{components:i[2]},{tag:"span"},i[3],{cssProps:i[0]},i[1]];let h={$$slots:{default:[Yc]},$$scope:{ctx:i}};for(let u=0;u<n.length;u+=1)h=Se(h,n[u]);return e=new He({props:h}),{c(){B(e.$$.fragment)},m(u,p){I(e,u,p),t=!0},p(u,[p]){const f=p&15?rt(n,[p&4&&{components:u[2]},n[1],p&8&&qe(u[3]),p&1&&{cssProps:u[0]},p&2&&qe(u[1])]):{};p&512&&(f.$$scope={dirty:p,ctx:u}),e.$set(f)},i(u){t||(x(e.$$.fragment,u),t=!0)},o(u){E(e.$$.fragment,u),t=!1},d(u){j(e,u)}}}function Gc(i,e,t){const n=["componentName","color","shape","size"];let h=je(e,n),{$$slots:u={},$$scope:p}=e,{componentName:f="avatar"}=e,{color:r=void 0}=e,{shape:c=void 0}=e,{size:d=void 0}=e;const s=[{component:tt(),except:[]},...e.components??[]];let a={},o={};return i.$$set=g=>{t(10,e=Se(Se({},e),De(g))),t(3,h=je(e,n)),"componentName"in g&&t(4,f=g.componentName),"color"in g&&t(5,r=g.color),"shape"in g&&t(6,c=g.shape),"size"in g&&t(7,d=g.size),"$$scope"in g&&t(9,p=g.$$scope)},i.$$.update=()=>{i.$$.dirty&240&&(t(0,a={color:r,size:d,shape:c}),t(1,o={componentName:f}))},e=De(e),[a,o,s,h,f,r,c,d,u,p]}class qc extends Ie{constructor(e){super(),Re(this,e,Gc,Uc,Me,{componentName:4,color:5,shape:6,size:7})}}const an=qc;function Kc(i){let e;const t=i[19].default,n=st(t,i,i[22],null);return{c(){n&&n.c()},m(h,u){n&&n.m(h,u),e=!0},p(h,u){n&&n.p&&(!e||u&4194304)&&at(n,t,h,h[22],e?ot(t,h[22],u,null):lt(h[22]),null)},i(h){e||(x(n,h),e=!0)},o(h){E(n,h),e=!1},d(h){n&&n.d(h)}}}function Jc(i){let e,t,n;const h=[{components:i[3]},i[4],{cssProps:i[1]},i[2]];function u(f){i[20](f)}let p={$$slots:{default:[Kc]},$$scope:{ctx:i}};for(let f=0;f<h.length;f+=1)p=Se(p,h[f]);return i[0]!==void 0&&(p.element=i[0]),e=new He({props:p}),Le.push(()=>Ze(e,"element",u)),e.$on("click",i[21]),{c(){B(e.$$.fragment)},m(f,r){I(e,f,r),n=!0},p(f,[r]){const c=r&30?rt(h,[r&8&&{components:f[3]},r&16&&qe(f[4]),r&2&&{cssProps:f[1]},r&4&&qe(f[2])]):{};r&4194304&&(c.$$scope={dirty:r,ctx:f}),!t&&r&1&&(t=!0,c.element=f[0],ct(()=>t=!1)),e.$set(c)},i(f){n||(x(e.$$.fragment,f),n=!0)},o(f){E(e.$$.fragment,f),n=!1},d(f){j(e,f)}}}function Qc(i,e,t){let n;const h=["active","color","componentName","disabled","ghost","href","link","loading","outline","shape","size","target","type"];let u=je(e,h),{$$slots:p={},$$scope:f}=e,{active:r=void 0}=e,{color:c=void 0}=e,{componentName:d="button"}=e,{disabled:s=void 0}=e,{ghost:a=void 0}=e,{href:o=void 0}=e,{link:g=void 0}=e,{loading:m=void 0}=e,{outline:l=void 0}=e,{shape:v=void 0}=e,{size:_=void 0}=e,{target:b=void 0}=e,{type:y=void 0}=e;const C=[{component:tt(),except:[]},...e.components??[]];let S={},w={},O;function A(W){O=W,t(0,O)}function N(W){ra.call(this,i,W)}return i.$$set=W=>{t(23,e=Se(Se({},e),De(W))),t(4,u=je(e,h)),"active"in W&&t(5,r=W.active),"color"in W&&t(6,c=W.color),"componentName"in W&&t(7,d=W.componentName),"disabled"in W&&t(8,s=W.disabled),"ghost"in W&&t(9,a=W.ghost),"href"in W&&t(10,o=W.href),"link"in W&&t(11,g=W.link),"loading"in W&&t(12,m=W.loading),"outline"in W&&t(13,l=W.outline),"shape"in W&&t(14,v=W.shape),"size"in W&&t(15,_=W.size),"target"in W&&t(16,b=W.target),"type"in W&&t(17,y=W.type),"$$scope"in W&&t(22,f=W.$$scope)},i.$$.update=()=>{i.$$.dirty&1&&t(18,n=!((O==null?void 0:O.textContent)??!0)),i.$$.dirty&524256&&(t(1,S={active:r,color:c,disabled:s,ghost:a,icon:n,link:g,loading:m,outline:l,shape:v,size:_}),t(2,w={componentName:d,href:o,role:"button",tag:o?"a":"button",target:b,type:y??"button"}))},e=De(e),[O,S,w,C,u,r,c,d,s,a,o,g,m,l,v,_,b,y,n,p,A,N,f]}class Zc extends Ie{constructor(e){super(),Re(this,e,Qc,Jc,Me,{active:5,color:6,componentName:7,disabled:8,ghost:9,href:10,link:11,loading:12,outline:13,shape:14,size:15,target:16,type:17})}}const Ye=Zc;function $c(i){let e;const t=i[5].default,n=st(t,i,i[6],null);return{c(){n&&n.c()},m(h,u){n&&n.m(h,u),e=!0},p(h,u){n&&n.p&&(!e||u&64)&&at(n,t,h,h[6],e?ot(t,h[6],u,null):lt(h[6]),null)},i(h){e||(x(n,h),e=!0)},o(h){E(n,h),e=!1},d(h){n&&n.d(h)}}}function eu(i){let e,t;const n=[{components:i[2]},i[3],{cssProps:i[1]},{componentName:i[0]}];let h={$$slots:{default:[$c]},$$scope:{ctx:i}};for(let u=0;u<n.length;u+=1)h=Se(h,n[u]);return e=new He({props:h}),{c(){B(e.$$.fragment)},m(u,p){I(e,u,p),t=!0},p(u,[p]){const f=p&15?rt(n,[p&4&&{components:u[2]},p&8&&qe(u[3]),p&2&&{cssProps:u[1]},p&1&&{componentName:u[0]}]):{};p&64&&(f.$$scope={dirty:p,ctx:u}),e.$set(f)},i(u){t||(x(e.$$.fragment,u),t=!0)},o(u){E(e.$$.fragment,u),t=!1},d(u){j(e,u)}}}function tu(i,e,t){const n=["componentName","light"];let h=je(e,n),{$$slots:u={},$$scope:p}=e,{componentName:f="card-header"}=e,{light:r=void 0}=e;const c=[{component:tt(),except:[]},...e.components??[]];let d={};return i.$$set=s=>{t(7,e=Se(Se({},e),De(s))),t(3,h=je(e,n)),"componentName"in s&&t(0,f=s.componentName),"light"in s&&t(4,r=s.light),"$$scope"in s&&t(6,p=s.$$scope)},i.$$.update=()=>{i.$$.dirty&16&&t(1,d={light:r})},e=De(e),[f,d,c,h,r,u,p]}class iu extends Ie{constructor(e){super(),Re(this,e,tu,eu,Me,{componentName:0,light:4})}}const Fn=iu;function nu(i){let e;const t=i[3].default,n=st(t,i,i[4],null);return{c(){n&&n.c()},m(h,u){n&&n.m(h,u),e=!0},p(h,u){n&&n.p&&(!e||u&16)&&at(n,t,h,h[4],e?ot(t,h[4],u,null):lt(h[4]),null)},i(h){e||(x(n,h),e=!0)},o(h){E(n,h),e=!1},d(h){n&&n.d(h)}}}function ru(i){let e,t;const n=[{components:i[1]},i[2],{componentName:i[0]}];let h={$$slots:{default:[nu]},$$scope:{ctx:i}};for(let u=0;u<n.length;u+=1)h=Se(h,n[u]);return e=new He({props:h}),{c(){B(e.$$.fragment)},m(u,p){I(e,u,p),t=!0},p(u,[p]){const f=p&7?rt(n,[p&2&&{components:u[1]},p&4&&qe(u[2]),p&1&&{componentName:u[0]}]):{};p&16&&(f.$$scope={dirty:p,ctx:u}),e.$set(f)},i(u){t||(x(e.$$.fragment,u),t=!0)},o(u){E(e.$$.fragment,u),t=!1},d(u){j(e,u)}}}function su(i,e,t){const n=["componentName"];let h=je(e,n),{$$slots:u={},$$scope:p}=e,{componentName:f="card-title"}=e;const r=[{component:tt(),except:[]},...e.components??[]];return i.$$set=c=>{t(5,e=Se(Se({},e),De(c))),t(2,h=je(e,n)),"componentName"in c&&t(0,f=c.componentName),"$$scope"in c&&t(4,p=c.$$scope)},e=De(e),[f,r,h,u,p]}class ou extends Ie{constructor(e){super(),Re(this,e,su,ru,Me,{componentName:0})}}const Rn=ou;function Gs(i){let e,t;return e=new He({props:{componentName:i[0]+"-status",cssProps:i[5]}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p(n,h){const u={};h&1&&(u.componentName=n[0]+"-status"),h&32&&(u.cssProps=n[5]),e.$set(u)},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function qs(i){let e,t;return e=new Fn({props:{$$slots:{default:[lu]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p(n,h){const u={};h&262146&&(u.$$scope={dirty:h,ctx:n}),e.$set(u)},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function au(i){let e;return{c(){e=We(i[1])},m(t,n){Z(t,e,n)},p(t,n){n&2&&Vt(e,t[1])},d(t){t&&J(e)}}}function lu(i){let e,t;return e=new Rn({props:{$$slots:{default:[au]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p(n,h){const u={};h&262146&&(u.$$scope={dirty:h,ctx:n}),e.$set(u)},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function fu(i){let e,t,n,h=i[2]&&Gs(i),u=i[1]&&qs(i);const p=i[17].default,f=st(p,i,i[18],null);return{c(){h&&h.c(),e=ue(),u&&u.c(),t=ue(),f&&f.c()},m(r,c){h&&h.m(r,c),Z(r,e,c),u&&u.m(r,c),Z(r,t,c),f&&f.m(r,c),n=!0},p(r,c){r[2]?h?(h.p(r,c),c&4&&x(h,1)):(h=Gs(r),h.c(),x(h,1),h.m(e.parentNode,e)):h&&(Ne(),E(h,1,1,()=>{h=null}),Xe()),r[1]?u?(u.p(r,c),c&2&&x(u,1)):(u=qs(r),u.c(),x(u,1),u.m(t.parentNode,t)):u&&(Ne(),E(u,1,1,()=>{u=null}),Xe()),f&&f.p&&(!n||c&262144)&&at(f,p,r,r[18],n?ot(p,r[18],c,null):lt(r[18]),null)},i(r){n||(x(h),x(u),x(f,r),n=!0)},o(r){E(h),E(u),E(f,r),n=!1},d(r){r&&(J(e),J(t)),h&&h.d(r),u&&u.d(r),f&&f.d(r)}}}function cu(i){let e,t;const n=[{components:i[6]},i[7],{cssProps:i[3]},i[4]];let h={$$slots:{default:[fu]},$$scope:{ctx:i}};for(let u=0;u<n.length;u+=1)h=Se(h,n[u]);return e=new He({props:h}),{c(){B(e.$$.fragment)},m(u,p){I(e,u,p),t=!0},p(u,[p]){const f=p&216?rt(n,[p&64&&{components:u[6]},p&128&&qe(u[7]),p&8&&{cssProps:u[3]},p&16&&qe(u[4])]):{};p&262183&&(f.$$scope={dirty:p,ctx:u}),e.$set(f)},i(u){t||(x(e.$$.fragment,u),t=!0)},o(u){E(e.$$.fragment,u),t=!1},d(u){j(e,u)}}}function uu(i,e,t){const n=["componentName","title","stacked","statusColor","statusPosition","statusSize","status","bgColor","borderless","rotate","state","size"];let h=je(e,n),{$$slots:u={},$$scope:p}=e,{componentName:f="card"}=e,{title:r=void 0}=e,{stacked:c=void 0}=e,{statusColor:d="primary"}=e,{statusPosition:s="top"}=e,{statusSize:a="md"}=e,{status:o=void 0}=e,{bgColor:g=void 0}=e,{borderless:m=void 0}=e,{rotate:l=void 0}=e,{state:v=void 0}=e,{size:_=void 0}=e;const b=[{component:tt(),except:[]},...e.components??[]];let y={},C={},S={};return i.$$set=w=>{t(19,e=Se(Se({},e),De(w))),t(7,h=je(e,n)),"componentName"in w&&t(0,f=w.componentName),"title"in w&&t(1,r=w.title),"stacked"in w&&t(8,c=w.stacked),"statusColor"in w&&t(9,d=w.statusColor),"statusPosition"in w&&t(10,s=w.statusPosition),"statusSize"in w&&t(11,a=w.statusSize),"status"in w&&t(2,o=w.status),"bgColor"in w&&t(12,g=w.bgColor),"borderless"in w&&t(13,m=w.borderless),"rotate"in w&&t(14,l=w.rotate),"state"in w&&t(15,v=w.state),"size"in w&&t(16,_=w.size),"$$scope"in w&&t(18,p=w.$$scope)},i.$$.update=()=>{i.$$.dirty&130817&&(t(3,y={stacked:c,bgColor:g,borderless:m,rotate:l,state:v,size:_}),t(4,C={componentName:f}),t(5,S={size:a,position:s,color:d}))},e=De(e),[f,r,o,y,C,S,b,h,c,d,s,a,g,m,l,v,_,u,p]}class hu extends Ie{constructor(e){super(),Re(this,e,uu,cu,Me,{componentName:0,title:1,stacked:8,statusColor:9,statusPosition:10,statusSize:11,status:2,bgColor:12,borderless:13,rotate:14,state:15,size:16})}}const nn=hu;function du(i){let e;const t=i[3].default,n=st(t,i,i[4],null);return{c(){n&&n.c()},m(h,u){n&&n.m(h,u),e=!0},p(h,u){n&&n.p&&(!e||u&16)&&at(n,t,h,h[4],e?ot(t,h[4],u,null):lt(h[4]),null)},i(h){e||(x(n,h),e=!0)},o(h){E(n,h),e=!1},d(h){n&&n.d(h)}}}function gu(i){let e,t;const n=[{components:i[1]},i[2],{componentName:i[0]}];let h={$$slots:{default:[du]},$$scope:{ctx:i}};for(let u=0;u<n.length;u+=1)h=Se(h,n[u]);return e=new He({props:h}),{c(){B(e.$$.fragment)},m(u,p){I(e,u,p),t=!0},p(u,[p]){const f=p&7?rt(n,[p&2&&{components:u[1]},p&4&&qe(u[2]),p&1&&{componentName:u[0]}]):{};p&16&&(f.$$scope={dirty:p,ctx:u}),e.$set(f)},i(u){t||(x(e.$$.fragment,u),t=!0)},o(u){E(e.$$.fragment,u),t=!1},d(u){j(e,u)}}}function mu(i,e,t){const n=["componentName"];let h=je(e,n),{$$slots:u={},$$scope:p}=e,{componentName:f="card-body"}=e;const r=[{component:tt(),except:[]},...e.components??[]];return i.$$set=c=>{t(5,e=Se(Se({},e),De(c))),t(2,h=je(e,n)),"componentName"in c&&t(0,f=c.componentName),"$$scope"in c&&t(4,p=c.$$scope)},e=De(e),[f,r,h,u,p]}class pu extends Ie{constructor(e){super(),Re(this,e,mu,gu,Me,{componentName:0})}}const rn=pu,vu="modulepreload",_u=function(i){return"/call/"+i},Ks={},gs=function(e,t,n){if(!t||t.length===0)return e();const h=document.getElementsByTagName("link");return Promise.all(t.map(u=>{if(u=_u(u),u in Ks)return;Ks[u]=!0;const p=u.endsWith(".css"),f=p?'[rel="stylesheet"]':"";if(!!n)for(let d=h.length-1;d>=0;d--){const s=h[d];if(s.href===u&&(!p||s.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const c=document.createElement("link");if(c.rel=p?"stylesheet":vu,p||(c.as="script",c.crossOrigin=""),c.href=u,document.head.appendChild(c),p)return new Promise((d,s)=>{c.addEventListener("load",d),c.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${u}`)))})})).then(()=>e()).catch(u=>{const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=u,window.dispatchEvent(p),!p.defaultPrevented)throw u})};function Js(i){let e,t,n,h,u,p;return e=new He({props:{componentName:"dot-indicator-circle"}}),n=new He({props:{componentName:"dot-indicator-circle"}}),u=new He({props:{componentName:"dot-indicator-circle"}}),{c(){B(e.$$.fragment),t=ue(),B(n.$$.fragment),h=ue(),B(u.$$.fragment)},m(f,r){I(e,f,r),Z(f,t,r),I(n,f,r),Z(f,h,r),I(u,f,r),p=!0},i(f){p||(x(e.$$.fragment,f),x(n.$$.fragment,f),x(u.$$.fragment,f),p=!0)},o(f){E(e.$$.fragment,f),E(n.$$.fragment,f),E(u.$$.fragment,f),p=!1},d(f){f&&(J(t),J(h)),j(e,f),j(n,f),j(u,f)}}}function bu(i){let e,t,n=i[0]&&Js();return{c(){n&&n.c(),e=yt()},m(h,u){n&&n.m(h,u),Z(h,e,u),t=!0},p(h,u){h[0]?n?u&1&&x(n,1):(n=Js(),n.c(),x(n,1),n.m(e.parentNode,e)):n&&(Ne(),E(n,1,1,()=>{n=null}),Xe())},i(h){t||(x(n),t=!0)},o(h){E(n),t=!1},d(h){h&&J(e),n&&n.d(h)}}}function yu(i){let e,t;const n=[{components:i[3]},i[4],{cssProps:i[1]},i[2]];let h={$$slots:{default:[bu]},$$scope:{ctx:i}};for(let u=0;u<n.length;u+=1)h=Se(h,n[u]);return e=new He({props:h}),{c(){B(e.$$.fragment)},m(u,p){I(e,u,p),t=!0},p(u,[p]){const f=p&30?rt(n,[p&8&&{components:u[3]},p&16&&qe(u[4]),p&2&&{cssProps:u[1]},p&4&&qe(u[2])]):{};p&1025&&(f.$$scope={dirty:p,ctx:u}),e.$set(f)},i(u){t||(x(e.$$.fragment,u),t=!0)},o(u){E(e.$$.fragment,u),t=!1},d(u){j(e,u)}}}function Cu(i,e,t){const n=["animated","color","componentName","indicator","tag"];let h=je(e,n),{animated:u=void 0}=e,{color:p=void 0}=e,{componentName:f="dot"}=e,{indicator:r=void 0}=e,{tag:c="span"}=e;const d=[{component:tt(),except:[]},...e.components??[]];let s={},a={};return i.$$set=o=>{t(9,e=Se(Se({},e),De(o))),t(4,h=je(e,n)),"animated"in o&&t(5,u=o.animated),"color"in o&&t(6,p=o.color),"componentName"in o&&t(7,f=o.componentName),"indicator"in o&&t(0,r=o.indicator),"tag"in o&&t(8,c=o.tag)},i.$$.update=()=>{i.$$.dirty&481&&(t(1,s={animated:u,color:p,indicator:r}),t(2,a={tag:c,componentName:f}))},e=De(e),[r,s,a,d,h,u,p,f,c]}class Su extends Ie{constructor(e){super(),Re(this,e,Cu,yu,Me,{animated:5,color:6,componentName:7,indicator:0,tag:8})}}const wu=Su,Tu=i=>({}),Qs=i=>({}),xu=i=>({}),Zs=i=>({});function Ou(i){let e,t,n,h,u;const p=[i[9],{tag:"input"},{components:i[6]},i[4],{cssProps:i[5]}];function f(s){i[32](s)}function r(s){i[33](s)}function c(s){i[34](s)}let d={};for(let s=0;s<p.length;s+=1)d=Se(d,p[s]);return i[0]!==void 0&&(d.value=i[0]),i[3]!==void 0&&(d.element=i[3]),i[1]!==void 0&&(d.id=i[1]),e=new He({props:d}),Le.push(()=>Ze(e,"value",f)),Le.push(()=>Ze(e,"element",r)),Le.push(()=>Ze(e,"id",c)),{c(){B(e.$$.fragment)},m(s,a){I(e,s,a),u=!0},p(s,a){const o=a[0]&624?rt(p,[a[0]&512&&qe(s[9]),p[1],a[0]&64&&{components:s[6]},a[0]&16&&qe(s[4]),a[0]&32&&{cssProps:s[5]}]):{};!t&&a[0]&1&&(t=!0,o.value=s[0],ct(()=>t=!1)),!n&&a[0]&8&&(n=!0,o.element=s[3],ct(()=>n=!1)),!h&&a[0]&2&&(h=!0,o.id=s[1],ct(()=>h=!1)),e.$set(o)},i(s){u||(x(e.$$.fragment,s),u=!0)},o(s){E(e.$$.fragment,s),u=!1},d(s){j(e,s)}}}function ku(i){let e,t;const n=[{components:i[6]},{componentName:i[2]+"-wrapper"},i[9],{cssProps:i[7]}];let h={$$slots:{default:[Au]},$$scope:{ctx:i}};for(let u=0;u<n.length;u+=1)h=Se(h,n[u]);return e=new He({props:h}),{c(){B(e.$$.fragment)},m(u,p){I(e,u,p),t=!0},p(u,p){const f=p[0]&708?rt(n,[p[0]&64&&{components:u[6]},p[0]&4&&{componentName:u[2]+"-wrapper"},p[0]&512&&qe(u[9]),p[0]&128&&{cssProps:u[7]}]):{};p[0]&319|p[1]&16&&(f.$$scope={dirty:p,ctx:u}),e.$set(f)},i(u){t||(x(e.$$.fragment,u),t=!0)},o(u){E(e.$$.fragment,u),t=!1},d(u){j(e,u)}}}function $s(i){let e,t;return e=new He({props:{tag:"span",componentName:i[2]+"-icon",$$slots:{default:[Pu]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p(n,h){const u={};h[0]&4&&(u.componentName=n[2]+"-icon"),h[1]&16&&(u.$$scope={dirty:h,ctx:n}),e.$set(u)},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Pu(i){let e;const t=i[28].start,n=st(t,i,i[35],Zs);return{c(){n&&n.c()},m(h,u){n&&n.m(h,u),e=!0},p(h,u){n&&n.p&&(!e||u[1]&16)&&at(n,t,h,h[35],e?ot(t,h[35],u,xu):lt(h[35]),Zs)},i(h){e||(x(n,h),e=!0)},o(h){E(n,h),e=!1},d(h){n&&n.d(h)}}}function eo(i){let e,t;return e=new He({props:{tag:"span",componentName:i[2]+"-icon",$$slots:{default:[Eu]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p(n,h){const u={};h[0]&4&&(u.componentName=n[2]+"-icon"),h[1]&16&&(u.$$scope={dirty:h,ctx:n}),e.$set(u)},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Eu(i){let e;const t=i[28].end,n=st(t,i,i[35],Qs);return{c(){n&&n.c()},m(h,u){n&&n.m(h,u),e=!0},p(h,u){n&&n.p&&(!e||u[1]&16)&&at(n,t,h,h[35],e?ot(t,h[35],u,Tu):lt(h[35]),Qs)},i(h){e||(x(n,h),e=!0)},o(h){E(n,h),e=!1},d(h){n&&n.d(h)}}}function Au(i){let e,t,n,h,u,p,f,r,c=i[8].start&&$s(i);const d=[{tag:"input"},i[4],{cssProps:i[5]}];function s(l){i[29](l)}function a(l){i[30](l)}function o(l){i[31](l)}let g={};for(let l=0;l<d.length;l+=1)g=Se(g,d[l]);i[0]!==void 0&&(g.value=i[0]),i[3]!==void 0&&(g.element=i[3]),i[1]!==void 0&&(g.id=i[1]),t=new He({props:g}),Le.push(()=>Ze(t,"value",s)),Le.push(()=>Ze(t,"element",a)),Le.push(()=>Ze(t,"id",o));let m=i[8].end&&eo(i);return{c(){c&&c.c(),e=ue(),B(t.$$.fragment),p=ue(),m&&m.c(),f=yt()},m(l,v){c&&c.m(l,v),Z(l,e,v),I(t,l,v),Z(l,p,v),m&&m.m(l,v),Z(l,f,v),r=!0},p(l,v){l[8].start?c?(c.p(l,v),v[0]&256&&x(c,1)):(c=$s(l),c.c(),x(c,1),c.m(e.parentNode,e)):c&&(Ne(),E(c,1,1,()=>{c=null}),Xe());const _=v[0]&48?rt(d,[d[0],v[0]&16&&qe(l[4]),v[0]&32&&{cssProps:l[5]}]):{};!n&&v[0]&1&&(n=!0,_.value=l[0],ct(()=>n=!1)),!h&&v[0]&8&&(h=!0,_.element=l[3],ct(()=>h=!1)),!u&&v[0]&2&&(u=!0,_.id=l[1],ct(()=>u=!1)),t.$set(_),l[8].end?m?(m.p(l,v),v[0]&256&&x(m,1)):(m=eo(l),m.c(),x(m,1),m.m(f.parentNode,f)):m&&(Ne(),E(m,1,1,()=>{m=null}),Xe())},i(l){r||(x(c),x(t.$$.fragment,l),x(m),r=!0)},o(l){E(c),E(t.$$.fragment,l),E(m),r=!1},d(l){l&&(J(e),J(p),J(f)),c&&c.d(l),j(t,l),m&&m.d(l)}}}function Mu(i){let e,t,n,h;const u=[ku,Ou],p=[];function f(r,c){return r[8].start||r[8].end?0:1}return e=f(i),t=p[e]=u[e](i),{c(){t.c(),n=yt()},m(r,c){p[e].m(r,c),Z(r,n,c),h=!0},p(r,c){let d=e;e=f(r),e===d?p[e].p(r,c):(Ne(),E(p[d],1,1,()=>{p[d]=null}),Xe(),t=p[e],t?t.p(r,c):(t=p[e]=u[e](r),t.c()),x(t,1),t.m(n.parentNode,n))},i(r){h||(x(t),h=!0)},o(r){E(t),h=!1},d(r){r&&J(n),p[e].d(r)}}}function Du(i,e,t){const n=["componentName","disabled","borderRounded","borderFlush","mask","maskOptions","placeholder","readonly","required","size","state","type","value","name","id","min","max","minlength","maxlength","pattern","step"];let h=je(e,n),{$$slots:u={},$$scope:p}=e;const f=Ko(u);let{componentName:r="input"}=e,{disabled:c=void 0}=e,{borderRounded:d=void 0}=e,{borderFlush:s=void 0}=e,{mask:a=void 0}=e,{maskOptions:o=void 0}=e,{placeholder:g=void 0}=e,{readonly:m=void 0}=e,{required:l=void 0}=e,{size:v=void 0}=e,{state:_=void 0}=e,{type:b=void 0}=e,{value:y=void 0}=e,{name:C=void 0}=e,{id:S=void 0}=e,{min:w=void 0}=e,{max:O=void 0}=e,{minlength:A=void 0}=e,{maxlength:N=void 0}=e,{pattern:W=void 0}=e,{step:Y=void 0}=e;const q=[{component:tt(),except:[]},...e.components??[]];let te;Zt(async()=>{const k=await gs(()=>import("./inputmask-09a42038.js").then(X=>X.i),[]);if(te!==void 0&&a){var P=new k.default(a,o);P.mask(te)}return()=>{te!==void 0&&a&&k.default.remove(te)}});let re={componentName:r,placeholder:g,disabled:c,readonly:m,type:b},me={state:_,borderRounded:d,borderFlush:s},G={size:v};function oe(k){y=k,t(0,y)}function T(k){te=k,t(3,te)}function F(k){S=k,t(1,S)}function L(k){y=k,t(0,y)}function M(k){te=k,t(3,te)}function K(k){S=k,t(1,S)}return i.$$set=k=>{t(36,e=Se(Se({},e),De(k))),t(9,h=je(e,n)),"componentName"in k&&t(2,r=k.componentName),"disabled"in k&&t(10,c=k.disabled),"borderRounded"in k&&t(11,d=k.borderRounded),"borderFlush"in k&&t(12,s=k.borderFlush),"mask"in k&&t(13,a=k.mask),"maskOptions"in k&&t(14,o=k.maskOptions),"placeholder"in k&&t(15,g=k.placeholder),"readonly"in k&&t(16,m=k.readonly),"required"in k&&t(17,l=k.required),"size"in k&&t(18,v=k.size),"state"in k&&t(19,_=k.state),"type"in k&&t(20,b=k.type),"value"in k&&t(0,y=k.value),"name"in k&&t(21,C=k.name),"id"in k&&t(1,S=k.id),"min"in k&&t(22,w=k.min),"max"in k&&t(23,O=k.max),"minlength"in k&&t(24,A=k.minlength),"maxlength"in k&&t(25,N=k.maxlength),"pattern"in k&&t(26,W=k.pattern),"step"in k&&t(27,Y=k.step),"$$scope"in k&&t(35,p=k.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&268409860&&(t(5,me={size:v,state:_,borderRounded:d,borderFlush:s}),t(4,re={componentName:r,placeholder:g,disabled:c,readonly:m,required:l,type:b,name:C,min:w,max:O,minlength:A,maxlength:N,pattern:W,step:Y}))},e=De(e),[y,S,r,te,re,me,q,G,f,h,c,d,s,a,o,g,m,l,v,_,b,C,w,O,A,N,W,Y,u,oe,T,F,L,M,K,p]}let Lu=class extends Ie{constructor(e){super(),Re(this,e,Du,Mu,Me,{componentName:2,disabled:10,borderRounded:11,borderFlush:12,mask:13,maskOptions:14,placeholder:15,readonly:16,required:17,size:18,state:19,type:20,value:0,name:21,id:1,min:22,max:23,minlength:24,maxlength:25,pattern:26,step:27},null,[-1,-1])}};const Fu=Lu;var fi;(function(i){i.Range="range",i.Steps="steps",i.Positions="positions",i.Count="count",i.Values="values"})(fi||(fi={}));var At;(function(i){i[i.None=-1]="None",i[i.NoValue=0]="NoValue",i[i.LargeValue=1]="LargeValue",i[i.SmallValue=2]="SmallValue"})(At||(At={}));function Ru(i){return kn(i)&&typeof i.from=="function"}function kn(i){return typeof i=="object"&&typeof i.to=="function"}function to(i){i.parentElement.removeChild(i)}function $r(i){return i!=null}function io(i){i.preventDefault()}function Iu(i){return i.filter(function(e){return this[e]?!1:this[e]=!0},{})}function ju(i,e){return Math.round(i/e)*e}function Bu(i,e){var t=i.getBoundingClientRect(),n=i.ownerDocument,h=n.documentElement,u=za(n);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(u.x=0),e?t.top+u.y-h.clientTop:t.left+u.x-h.clientLeft}function Ht(i){return typeof i=="number"&&!isNaN(i)&&isFinite(i)}function no(i,e,t){t>0&&(Pt(i,e),setTimeout(function(){gn(i,e)},t))}function ro(i){return Math.max(Math.min(i,100),0)}function In(i){return Array.isArray(i)?i:[i]}function Nu(i){i=String(i);var e=i.split(".");return e.length>1?e[1].length:0}function Pt(i,e){i.classList&&!/\s/.test(e)?i.classList.add(e):i.className+=" "+e}function gn(i,e){i.classList&&!/\s/.test(e)?i.classList.remove(e):i.className=i.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function Xu(i,e){return i.classList?i.classList.contains(e):new RegExp("\\b"+e+"\\b").test(i.className)}function za(i){var e=window.pageXOffset!==void 0,t=(i.compatMode||"")==="CSS1Compat",n=e?window.pageXOffset:t?i.documentElement.scrollLeft:i.body.scrollLeft,h=e?window.pageYOffset:t?i.documentElement.scrollTop:i.body.scrollTop;return{x:n,y:h}}function zu(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function Wu(){var i=!1;try{var e=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("test",null,e)}catch{}return i}function Hu(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function ms(i,e){return 100/(e-i)}function es(i,e,t){return e*100/(i[t+1]-i[t])}function Vu(i,e){return es(i,i[0]<0?e+Math.abs(i[0]):e-i[0],0)}function Yu(i,e){return e*(i[1]-i[0])/100+i[0]}function Ki(i,e){for(var t=1;i>=e[t];)t+=1;return t}function Uu(i,e,t){if(t>=i.slice(-1)[0])return 100;var n=Ki(t,i),h=i[n-1],u=i[n],p=e[n-1],f=e[n];return p+Vu([h,u],t)/ms(p,f)}function Gu(i,e,t){if(t>=100)return i.slice(-1)[0];var n=Ki(t,e),h=i[n-1],u=i[n],p=e[n-1],f=e[n];return Yu([h,u],(t-p)*ms(p,f))}function qu(i,e,t,n){if(n===100)return n;var h=Ki(n,i),u=i[h-1],p=i[h];return t?n-u>(p-u)/2?p:u:e[h-1]?i[h-1]+ju(n-i[h-1],e[h-1]):n}var Wa=function(){function i(e,t,n){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.snap=t;var h,u=[];for(Object.keys(e).forEach(function(p){u.push([In(e[p]),p])}),u.sort(function(p,f){return p[0][0]-f[0][0]}),h=0;h<u.length;h++)this.handleEntryPoint(u[h][1],u[h][0]);for(this.xNumSteps=this.xSteps.slice(0),h=0;h<this.xNumSteps.length;h++)this.handleStepPoint(h,this.xNumSteps[h])}return i.prototype.getDistance=function(e){for(var t=[],n=0;n<this.xNumSteps.length-1;n++)t[n]=es(this.xVal,e,n);return t},i.prototype.getAbsoluteDistance=function(e,t,n){var h=0;if(e<this.xPct[this.xPct.length-1])for(;e>this.xPct[h+1];)h++;else e===this.xPct[this.xPct.length-1]&&(h=this.xPct.length-2);!n&&e===this.xPct[h+1]&&h++,t===null&&(t=[]);var u,p=1,f=t[h],r=0,c=0,d=0,s=0;for(n?u=(e-this.xPct[h])/(this.xPct[h+1]-this.xPct[h]):u=(this.xPct[h+1]-e)/(this.xPct[h+1]-this.xPct[h]);f>0;)r=this.xPct[h+1+s]-this.xPct[h+s],t[h+s]*p+100-u*100>100?(c=r*u,p=(f-100*u)/t[h+s],u=1):(c=t[h+s]*r/100*p,p=0),n?(d=d-c,this.xPct.length+s>=1&&s--):(d=d+c,this.xPct.length-s>=1&&s++),f=t[h+s]*p;return e+d},i.prototype.toStepping=function(e){return e=Uu(this.xVal,this.xPct,e),e},i.prototype.fromStepping=function(e){return Gu(this.xVal,this.xPct,e)},i.prototype.getStep=function(e){return e=qu(this.xPct,this.xSteps,this.snap,e),e},i.prototype.getDefaultStep=function(e,t,n){var h=Ki(e,this.xPct);return(e===100||t&&e===this.xPct[h-1])&&(h=Math.max(h-1,1)),(this.xVal[h]-this.xVal[h-1])/n},i.prototype.getNearbySteps=function(e){var t=Ki(e,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t],step:this.xNumSteps[t],highestStep:this.xHighestCompleteStep[t]}}},i.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(Nu);return Math.max.apply(null,e)},i.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},i.prototype.convert=function(e){return this.getStep(this.toStepping(e))},i.prototype.handleEntryPoint=function(e,t){var n;if(e==="min"?n=0:e==="max"?n=100:n=parseFloat(e),!Ht(n)||!Ht(t[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(n),this.xVal.push(t[0]);var h=Number(t[1]);n?this.xSteps.push(isNaN(h)?!1:h):isNaN(h)||(this.xSteps[0]=h),this.xHighestCompleteStep.push(0)},i.prototype.handleStepPoint=function(e,t){if(t){if(this.xVal[e]===this.xVal[e+1]){this.xSteps[e]=this.xHighestCompleteStep[e]=this.xVal[e];return}this.xSteps[e]=es([this.xVal[e],this.xVal[e+1]],t,0)/ms(this.xPct[e],this.xPct[e+1]);var n=(this.xVal[e+1]-this.xVal[e])/this.xNumSteps[e],h=Math.ceil(Number(n.toFixed(3))-1),u=this.xVal[e]+this.xNumSteps[e]*h;this.xHighestCompleteStep[e]=u}},i}(),so={to:function(i){return i===void 0?"":i.toFixed(2)},from:Number},Ha={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},li={tooltips:".__tooltips",aria:".__aria"};function Ku(i,e){if(!Ht(e))throw new Error("noUiSlider: 'step' is not numeric.");i.singleStep=e}function Ju(i,e){if(!Ht(e))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");i.keyboardPageMultiplier=e}function Qu(i,e){if(!Ht(e))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");i.keyboardMultiplier=e}function Zu(i,e){if(!Ht(e))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");i.keyboardDefaultStep=e}function $u(i,e){if(typeof e!="object"||Array.isArray(e))throw new Error("noUiSlider: 'range' is not an object.");if(e.min===void 0||e.max===void 0)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");i.spectrum=new Wa(e,i.snap||!1,i.singleStep)}function eh(i,e){if(e=In(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider: 'start' option is incorrect.");i.handles=e.length,i.start=e}function th(i,e){if(typeof e!="boolean")throw new Error("noUiSlider: 'snap' option must be a boolean.");i.snap=e}function ih(i,e){if(typeof e!="boolean")throw new Error("noUiSlider: 'animate' option must be a boolean.");i.animate=e}function nh(i,e){if(typeof e!="number")throw new Error("noUiSlider: 'animationDuration' option must be a number.");i.animationDuration=e}function rh(i,e){var t=[!1],n;if(e==="lower"?e=[!0,!1]:e==="upper"&&(e=[!1,!0]),e===!0||e===!1){for(n=1;n<i.handles;n++)t.push(e);t.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==i.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");t=e}i.connect=t}function sh(i,e){switch(e){case"horizontal":i.ort=0;break;case"vertical":i.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function Va(i,e){if(!Ht(e))throw new Error("noUiSlider: 'margin' option must be numeric.");e!==0&&(i.margin=i.spectrum.getDistance(e))}function oh(i,e){if(!Ht(e))throw new Error("noUiSlider: 'limit' option must be numeric.");if(i.limit=i.spectrum.getDistance(e),!i.limit||i.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function ah(i,e){var t;if(!Ht(e)&&!Array.isArray(e))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(e)&&!(e.length===2||Ht(e[0])||Ht(e[1])))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(e!==0){for(Array.isArray(e)||(e=[e,e]),i.padding=[i.spectrum.getDistance(e[0]),i.spectrum.getDistance(e[1])],t=0;t<i.spectrum.xNumSteps.length-1;t++)if(i.padding[0][t]<0||i.padding[1][t]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var n=e[0]+e[1],h=i.spectrum.xVal[0],u=i.spectrum.xVal[i.spectrum.xVal.length-1];if(n/(u-h)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function lh(i,e){switch(e){case"ltr":i.dir=0;break;case"rtl":i.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function fh(i,e){if(typeof e!="string")throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var t=e.indexOf("tap")>=0,n=e.indexOf("drag")>=0,h=e.indexOf("fixed")>=0,u=e.indexOf("snap")>=0,p=e.indexOf("hover")>=0,f=e.indexOf("unconstrained")>=0,r=e.indexOf("drag-all")>=0,c=e.indexOf("smooth-steps")>=0;if(h){if(i.handles!==2)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");Va(i,i.start[1]-i.start[0])}if(f&&(i.margin||i.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");i.events={tap:t||u,drag:n,dragAll:r,smoothSteps:c,fixed:h,snap:u,hover:p,unconstrained:f}}function ch(i,e){if(e!==!1)if(e===!0||kn(e)){i.tooltips=[];for(var t=0;t<i.handles;t++)i.tooltips.push(e)}else{if(e=In(e),e.length!==i.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");e.forEach(function(n){if(typeof n!="boolean"&&!kn(n))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),i.tooltips=e}}function uh(i,e){if(e.length!==i.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");i.handleAttributes=e}function hh(i,e){if(!kn(e))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");i.ariaFormat=e}function dh(i,e){if(!Ru(e))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");i.format=e}function gh(i,e){if(typeof e!="boolean")throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");i.keyboardSupport=e}function mh(i,e){i.documentElement=e}function ph(i,e){if(typeof e!="string"&&e!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");i.cssPrefix=e}function vh(i,e){if(typeof e!="object")throw new Error("noUiSlider: 'cssClasses' must be an object.");typeof i.cssPrefix=="string"?(i.cssClasses={},Object.keys(e).forEach(function(t){i.cssClasses[t]=i.cssPrefix+e[t]})):i.cssClasses=e}function Ya(i){var e={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:so,format:so},t={step:{r:!1,t:Ku},keyboardPageMultiplier:{r:!1,t:Ju},keyboardMultiplier:{r:!1,t:Qu},keyboardDefaultStep:{r:!1,t:Zu},start:{r:!0,t:eh},connect:{r:!0,t:rh},direction:{r:!0,t:lh},snap:{r:!1,t:th},animate:{r:!1,t:ih},animationDuration:{r:!1,t:nh},range:{r:!0,t:$u},orientation:{r:!1,t:sh},margin:{r:!1,t:Va},limit:{r:!1,t:oh},padding:{r:!1,t:ah},behaviour:{r:!0,t:fh},ariaFormat:{r:!1,t:hh},format:{r:!1,t:dh},tooltips:{r:!1,t:ch},keyboardSupport:{r:!0,t:gh},documentElement:{r:!1,t:mh},cssPrefix:{r:!0,t:ph},cssClasses:{r:!0,t:vh},handleAttributes:{r:!1,t:uh}},n={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:Ha,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};i.format&&!i.ariaFormat&&(i.ariaFormat=i.format),Object.keys(t).forEach(function(r){if(!$r(i[r])&&n[r]===void 0){if(t[r].r)throw new Error("noUiSlider: '"+r+"' is required.");return}t[r].t(e,$r(i[r])?i[r]:n[r])}),e.pips=i.pips;var h=document.createElement("div"),u=h.style.msTransform!==void 0,p=h.style.transform!==void 0;e.transformRule=p?"transform":u?"msTransform":"webkitTransform";var f=[["left","top"],["right","bottom"]];return e.style=f[e.dir][e.ort],e}function _h(i,e,t){var n=zu(),h=Hu(),u=h&&Wu(),p=i,f,r,c,d,s,a=e.spectrum,o=[],g=[],m=[],l=0,v={},_=i.ownerDocument,b=e.documentElement||_.documentElement,y=_.body,C=_.dir==="rtl"||e.ort===1?0:100;function S(R,z){var $=_.createElement("div");return z&&Pt($,z),R.appendChild($),$}function w(R,z){var $=S(R,e.cssClasses.origin),ve=S($,e.cssClasses.handle);if(S(ve,e.cssClasses.touchArea),ve.setAttribute("data-handle",String(z)),e.keyboardSupport&&(ve.setAttribute("tabindex","0"),ve.addEventListener("keydown",function(ye){return fe(ye,z)})),e.handleAttributes!==void 0){var Ce=e.handleAttributes[z];Object.keys(Ce).forEach(function(ye){ve.setAttribute(ye,Ce[ye])})}return ve.setAttribute("role","slider"),ve.setAttribute("aria-orientation",e.ort?"vertical":"horizontal"),z===0?Pt(ve,e.cssClasses.handleLower):z===e.handles-1&&Pt(ve,e.cssClasses.handleUpper),$.handle=ve,$}function O(R,z){return z?S(R,e.cssClasses.connect):!1}function A(R,z){var $=S(z,e.cssClasses.connects);r=[],c=[],c.push(O($,R[0]));for(var ve=0;ve<e.handles;ve++)r.push(w(z,ve)),m[ve]=ve,c.push(O($,R[ve+1]))}function N(R){Pt(R,e.cssClasses.target),e.dir===0?Pt(R,e.cssClasses.ltr):Pt(R,e.cssClasses.rtl),e.ort===0?Pt(R,e.cssClasses.horizontal):Pt(R,e.cssClasses.vertical);var z=getComputedStyle(R).direction;return z==="rtl"?Pt(R,e.cssClasses.textDirectionRtl):Pt(R,e.cssClasses.textDirectionLtr),S(R,e.cssClasses.base)}function W(R,z){return!e.tooltips||!e.tooltips[z]?!1:S(R.firstChild,e.cssClasses.tooltip)}function Y(){return p.hasAttribute("disabled")}function q(R){var z=r[R];return z.hasAttribute("disabled")}function te(R){R!=null?(r[R].setAttribute("disabled",""),r[R].handle.removeAttribute("tabindex")):(p.setAttribute("disabled",""),r.forEach(function(z){z.handle.removeAttribute("tabindex")}))}function re(R){R!=null?(r[R].removeAttribute("disabled"),r[R].handle.setAttribute("tabindex","0")):(p.removeAttribute("disabled"),r.forEach(function(z){z.removeAttribute("disabled"),z.handle.setAttribute("tabindex","0")}))}function me(){s&&(Pe("update"+li.tooltips),s.forEach(function(R){R&&to(R)}),s=null)}function G(){me(),s=r.map(W),de("update"+li.tooltips,function(R,z,$){if(!(!s||!e.tooltips)&&s[z]!==!1){var ve=R[z];e.tooltips[z]!==!0&&(ve=e.tooltips[z].to($[z])),s[z].innerHTML=ve}})}function oe(){Pe("update"+li.aria),de("update"+li.aria,function(R,z,$,ve,Ce){m.forEach(function(ye){var Ae=r[ye],xe=ae(g,ye,0,!0,!0,!0),$e=ae(g,ye,100,!0,!0,!0),Ke=Ce[ye],nt=String(e.ariaFormat.to($[ye]));xe=a.fromStepping(xe).toFixed(1),$e=a.fromStepping($e).toFixed(1),Ke=a.fromStepping(Ke).toFixed(1),Ae.children[0].setAttribute("aria-valuemin",xe),Ae.children[0].setAttribute("aria-valuemax",$e),Ae.children[0].setAttribute("aria-valuenow",Ke),Ae.children[0].setAttribute("aria-valuetext",nt)})})}function T(R){if(R.mode===fi.Range||R.mode===fi.Steps)return a.xVal;if(R.mode===fi.Count){if(R.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var z=R.values-1,$=100/z,ve=[];z--;)ve[z]=z*$;return ve.push(100),F(ve,R.stepped)}return R.mode===fi.Positions?F(R.values,R.stepped):R.mode===fi.Values?R.stepped?R.values.map(function(Ce){return a.fromStepping(a.getStep(a.toStepping(Ce)))}):R.values:[]}function F(R,z){return R.map(function($){return a.fromStepping(z?a.getStep($):$)})}function L(R){function z(Ke,nt){return Number((Ke+nt).toFixed(7))}var $=T(R),ve={},Ce=a.xVal[0],ye=a.xVal[a.xVal.length-1],Ae=!1,xe=!1,$e=0;return $=Iu($.slice().sort(function(Ke,nt){return Ke-nt})),$[0]!==Ce&&($.unshift(Ce),Ae=!0),$[$.length-1]!==ye&&($.push(ye),xe=!0),$.forEach(function(Ke,nt){var et,Ue,ft,_t=Ke,gt=$[nt+1],mt,Ut,Gt,mi,yi,pi,Ci,Si=R.mode===fi.Steps;for(Si&&(et=a.xNumSteps[nt]),et||(et=gt-_t),gt===void 0&&(gt=_t),et=Math.max(et,1e-7),Ue=_t;Ue<=gt;Ue=z(Ue,et)){for(mt=a.toStepping(Ue),Ut=mt-$e,yi=Ut/(R.density||1),pi=Math.round(yi),Ci=Ut/pi,ft=1;ft<=pi;ft+=1)Gt=$e+ft*Ci,ve[Gt.toFixed(5)]=[a.fromStepping(Gt),0];mi=$.indexOf(Ue)>-1?At.LargeValue:Si?At.SmallValue:At.NoValue,!nt&&Ae&&Ue!==gt&&(mi=0),Ue===gt&&xe||(ve[mt.toFixed(5)]=[Ue,mi]),$e=mt}}),ve}function M(R,z,$){var ve,Ce,ye=_.createElement("div"),Ae=(ve={},ve[At.None]="",ve[At.NoValue]=e.cssClasses.valueNormal,ve[At.LargeValue]=e.cssClasses.valueLarge,ve[At.SmallValue]=e.cssClasses.valueSub,ve),xe=(Ce={},Ce[At.None]="",Ce[At.NoValue]=e.cssClasses.markerNormal,Ce[At.LargeValue]=e.cssClasses.markerLarge,Ce[At.SmallValue]=e.cssClasses.markerSub,Ce),$e=[e.cssClasses.valueHorizontal,e.cssClasses.valueVertical],Ke=[e.cssClasses.markerHorizontal,e.cssClasses.markerVertical];Pt(ye,e.cssClasses.pips),Pt(ye,e.ort===0?e.cssClasses.pipsHorizontal:e.cssClasses.pipsVertical);function nt(Ue,ft){var _t=ft===e.cssClasses.value,gt=_t?$e:Ke,mt=_t?Ae:xe;return ft+" "+gt[e.ort]+" "+mt[Ue]}function et(Ue,ft,_t){if(_t=z?z(ft,_t):_t,_t!==At.None){var gt=S(ye,!1);gt.className=nt(_t,e.cssClasses.marker),gt.style[e.style]=Ue+"%",_t>At.NoValue&&(gt=S(ye,!1),gt.className=nt(_t,e.cssClasses.value),gt.setAttribute("data-value",String(ft)),gt.style[e.style]=Ue+"%",gt.innerHTML=String($.to(ft)))}}return Object.keys(R).forEach(function(Ue){et(Ue,R[Ue][0],R[Ue][1])}),ye}function K(){d&&(to(d),d=null)}function k(R){K();var z=L(R),$=R.filter,ve=R.format||{to:function(Ce){return String(Math.round(Ce))}};return d=p.appendChild(M(z,$,ve)),d}function P(){var R=f.getBoundingClientRect(),z="offset"+["Width","Height"][e.ort];return e.ort===0?R.width||f[z]:R.height||f[z]}function X(R,z,$,ve){var Ce=function(Ae){var xe=V(Ae,ve.pageOffset,ve.target||z);if(!xe||Y()&&!ve.doNotReject||Xu(p,e.cssClasses.tap)&&!ve.doNotReject||R===n.start&&xe.buttons!==void 0&&xe.buttons>1||ve.hover&&xe.buttons)return!1;u||xe.preventDefault(),xe.calcPoint=xe.points[e.ort],$(xe,ve)},ye=[];return R.split(" ").forEach(function(Ae){z.addEventListener(Ae,Ce,u?{passive:!0}:!1),ye.push([Ae,Ce])}),ye}function V(R,z,$){var ve=R.type.indexOf("touch")===0,Ce=R.type.indexOf("mouse")===0,ye=R.type.indexOf("pointer")===0,Ae=0,xe=0;if(R.type.indexOf("MSPointer")===0&&(ye=!0),R.type==="mousedown"&&!R.buttons&&!R.touches)return!1;if(ve){var $e=function(et){var Ue=et.target;return Ue===$||$.contains(Ue)||R.composed&&R.composedPath().shift()===$};if(R.type==="touchstart"){var Ke=Array.prototype.filter.call(R.touches,$e);if(Ke.length>1)return!1;Ae=Ke[0].pageX,xe=Ke[0].pageY}else{var nt=Array.prototype.find.call(R.changedTouches,$e);if(!nt)return!1;Ae=nt.pageX,xe=nt.pageY}}return z=z||za(_),(Ce||ye)&&(Ae=R.clientX+z.x,xe=R.clientY+z.y),R.pageOffset=z,R.points=[Ae,xe],R.cursor=Ce||ye,R}function le(R){var z=R-Bu(f,e.ort),$=z*100/P();return $=ro($),e.dir?100-$:$}function ee(R){var z=100,$=!1;return r.forEach(function(ve,Ce){if(!q(Ce)){var ye=g[Ce],Ae=Math.abs(ye-R),xe=Ae===100&&z===100,$e=Ae<z,Ke=Ae<=z&&R>ye;($e||Ke||xe)&&($=Ce,z=Ae)}}),$}function he(R,z){R.type==="mouseout"&&R.target.nodeName==="HTML"&&R.relatedTarget===null&&U(R,z)}function pe(R,z){if(navigator.appVersion.indexOf("MSIE 9")===-1&&R.buttons===0&&z.buttonsProperty!==0)return U(R,z);var $=(e.dir?-1:1)*(R.calcPoint-z.startCalcPoint),ve=$*100/z.baseSize;Ee($>0,ve,z.locations,z.handleNumbers,z.connect)}function U(R,z){z.handle&&(gn(z.handle,e.cssClasses.active),l-=1),z.listeners.forEach(function($){b.removeEventListener($[0],$[1])}),l===0&&(gn(p,e.cssClasses.drag),Ve(),R.cursor&&(y.style.cursor="",y.removeEventListener("selectstart",io))),e.events.smoothSteps&&(z.handleNumbers.forEach(function($){Qe($,g[$],!0,!0,!1,!1)}),z.handleNumbers.forEach(function($){be("update",$)})),z.handleNumbers.forEach(function($){be("change",$),be("set",$),be("end",$)})}function ne(R,z){if(!z.handleNumbers.some(q)){var $;if(z.handleNumbers.length===1){var ve=r[z.handleNumbers[0]];$=ve.children[0],l+=1,Pt($,e.cssClasses.active)}R.stopPropagation();var Ce=[],ye=X(n.move,b,pe,{target:R.target,handle:$,connect:z.connect,listeners:Ce,startCalcPoint:R.calcPoint,baseSize:P(),pageOffset:R.pageOffset,handleNumbers:z.handleNumbers,buttonsProperty:R.buttons,locations:g.slice()}),Ae=X(n.end,b,U,{target:R.target,handle:$,listeners:Ce,doNotReject:!0,handleNumbers:z.handleNumbers}),xe=X("mouseout",b,he,{target:R.target,handle:$,listeners:Ce,doNotReject:!0,handleNumbers:z.handleNumbers});Ce.push.apply(Ce,ye.concat(Ae,xe)),R.cursor&&(y.style.cursor=getComputedStyle(R.target).cursor,r.length>1&&Pt(p,e.cssClasses.drag),y.addEventListener("selectstart",io,!1)),z.handleNumbers.forEach(function($e){be("start",$e)})}}function H(R){R.stopPropagation();var z=le(R.calcPoint),$=ee(z);$!==!1&&(e.events.snap||no(p,e.cssClasses.tap,e.animationDuration),Qe($,z,!0,!0),Ve(),be("slide",$,!0),be("update",$,!0),e.events.snap?ne(R,{handleNumbers:[$]}):(be("change",$,!0),be("set",$,!0)))}function ce(R){var z=le(R.calcPoint),$=a.getStep(z),ve=a.fromStepping($);Object.keys(v).forEach(function(Ce){Ce.split(".")[0]==="hover"&&v[Ce].forEach(function(ye){ye.call(Wt,ve)})})}function fe(R,z){if(Y()||q(z))return!1;var $=["Left","Right"],ve=["Down","Up"],Ce=["PageDown","PageUp"],ye=["Home","End"];e.dir&&!e.ort?$.reverse():e.ort&&!e.dir&&(ve.reverse(),Ce.reverse());var Ae=R.key.replace("Arrow",""),xe=Ae===Ce[0],$e=Ae===Ce[1],Ke=Ae===ve[0]||Ae===$[0]||xe,nt=Ae===ve[1]||Ae===$[1]||$e,et=Ae===ye[0],Ue=Ae===ye[1];if(!Ke&&!nt&&!et&&!Ue)return!0;R.preventDefault();var ft;if(nt||Ke){var _t=Ke?0:1,gt=Bt(z),mt=gt[_t];if(mt===null)return!1;mt===!1&&(mt=a.getDefaultStep(g[z],Ke,e.keyboardDefaultStep)),$e||xe?mt*=e.keyboardPageMultiplier:mt*=e.keyboardMultiplier,mt=Math.max(mt,1e-7),mt=(Ke?-1:1)*mt,ft=o[z]+mt}else Ue?ft=e.spectrum.xVal[e.spectrum.xVal.length-1]:ft=e.spectrum.xVal[0];return Qe(z,a.toStepping(ft),!0,!0),be("slide",z),be("update",z),be("change",z),be("set",z),!1}function ie(R){R.fixed||r.forEach(function(z,$){X(n.start,z.children[0],ne,{handleNumbers:[$]})}),R.tap&&X(n.start,f,H,{}),R.hover&&X(n.move,f,ce,{hover:!0}),R.drag&&c.forEach(function(z,$){if(!(z===!1||$===0||$===c.length-1)){var ve=r[$-1],Ce=r[$],ye=[z],Ae=[ve,Ce],xe=[$-1,$];Pt(z,e.cssClasses.draggable),R.fixed&&(ye.push(ve.children[0]),ye.push(Ce.children[0])),R.dragAll&&(Ae=r,xe=m),ye.forEach(function($e){X(n.start,$e,ne,{handles:Ae,handleNumbers:xe,connect:z})})}})}function de(R,z){v[R]=v[R]||[],v[R].push(z),R.split(".")[0]==="update"&&r.forEach(function($,ve){be("update",ve)})}function _e(R){return R===li.aria||R===li.tooltips}function Pe(R){var z=R&&R.split(".")[0],$=z?R.substring(z.length):R;Object.keys(v).forEach(function(ve){var Ce=ve.split(".")[0],ye=ve.substring(Ce.length);(!z||z===Ce)&&(!$||$===ye)&&(!_e(ye)||$===ye)&&delete v[ve]})}function be(R,z,$){Object.keys(v).forEach(function(ve){var Ce=ve.split(".")[0];R===Ce&&v[ve].forEach(function(ye){ye.call(Wt,o.map(e.format.to),z,o.slice(),$||!1,g.slice(),Wt)})})}function ae(R,z,$,ve,Ce,ye,Ae){var xe;return r.length>1&&!e.events.unconstrained&&(ve&&z>0&&(xe=a.getAbsoluteDistance(R[z-1],e.margin,!1),$=Math.max($,xe)),Ce&&z<r.length-1&&(xe=a.getAbsoluteDistance(R[z+1],e.margin,!0),$=Math.min($,xe))),r.length>1&&e.limit&&(ve&&z>0&&(xe=a.getAbsoluteDistance(R[z-1],e.limit,!1),$=Math.min($,xe)),Ce&&z<r.length-1&&(xe=a.getAbsoluteDistance(R[z+1],e.limit,!0),$=Math.max($,xe))),e.padding&&(z===0&&(xe=a.getAbsoluteDistance(0,e.padding[0],!1),$=Math.max($,xe)),z===r.length-1&&(xe=a.getAbsoluteDistance(100,e.padding[1],!0),$=Math.min($,xe))),Ae||($=a.getStep($)),$=ro($),$===R[z]&&!ye?!1:$}function ke(R,z){var $=e.ort;return($?z:R)+", "+($?R:z)}function Ee(R,z,$,ve,Ce){var ye=$.slice(),Ae=ve[0],xe=e.events.smoothSteps,$e=[!R,R],Ke=[R,!R];ve=ve.slice(),R&&ve.reverse(),ve.length>1?ve.forEach(function(et,Ue){var ft=ae(ye,et,ye[et]+z,$e[Ue],Ke[Ue],!1,xe);ft===!1?z=0:(z=ft-ye[et],ye[et]=ft)}):$e=Ke=[!0];var nt=!1;ve.forEach(function(et,Ue){nt=Qe(et,$[et]+z,$e[Ue],Ke[Ue],!1,xe)||nt}),nt&&(ve.forEach(function(et){be("update",et),be("slide",et)}),Ce!=null&&be("drag",Ae))}function ze(R,z){return e.dir?100-R-z:R}function Je(R,z){g[R]=z,o[R]=a.fromStepping(z);var $=ze(z,0)-C,ve="translate("+ke($+"%","0")+")";r[R].style[e.transformRule]=ve,Ge(R),Ge(R+1)}function Ve(){m.forEach(function(R){var z=g[R]>50?-1:1,$=3+(r.length+z*R);r[R].style.zIndex=String($)})}function Qe(R,z,$,ve,Ce,ye){return Ce||(z=ae(g,R,z,$,ve,!1,ye)),z===!1?!1:(Je(R,z),!0)}function Ge(R){if(c[R]){var z=0,$=100;R!==0&&(z=g[R-1]),R!==c.length-1&&($=g[R]);var ve=$-z,Ce="translate("+ke(ze(z,ve)+"%","0")+")",ye="scale("+ke(ve/100,"1")+")";c[R].style[e.transformRule]=Ce+" "+ye}}function St(R,z){return R===null||R===!1||R===void 0||(typeof R=="number"&&(R=String(R)),R=e.format.from(R),R!==!1&&(R=a.toStepping(R)),R===!1||isNaN(R))?g[z]:R}function Ct(R,z,$){var ve=In(R),Ce=g[0]===void 0;z=z===void 0?!0:z,e.animate&&!Ce&&no(p,e.cssClasses.tap,e.animationDuration),m.forEach(function(xe){Qe(xe,St(ve[xe],xe),!0,!1,$)});var ye=m.length===1?0:1;if(Ce&&a.hasNoSize()&&($=!0,g[0]=0,m.length>1)){var Ae=100/(m.length-1);m.forEach(function(xe){g[xe]=xe*Ae})}for(;ye<m.length;++ye)m.forEach(function(xe){Qe(xe,g[xe],!0,!0,$)});Ve(),m.forEach(function(xe){be("update",xe),ve[xe]!==null&&z&&be("set",xe)})}function wt(R){Ct(e.start,R)}function Yt(R,z,$,ve){if(R=Number(R),!(R>=0&&R<m.length))throw new Error("noUiSlider: invalid handle number, got: "+R);Qe(R,St(z,R),!0,!0,ve),be("update",R),$&&be("set",R)}function Te(R){if(R===void 0&&(R=!1),R)return o.length===1?o[0]:o.slice(0);var z=o.map(e.format.to);return z.length===1?z[0]:z}function Oe(){for(Pe(li.aria),Pe(li.tooltips),Object.keys(e.cssClasses).forEach(function(R){gn(p,e.cssClasses[R])});p.firstChild;)p.removeChild(p.firstChild);delete p.noUiSlider}function Bt(R){var z=g[R],$=a.getNearbySteps(z),ve=o[R],Ce=$.thisStep.step,ye=null;if(e.snap)return[ve-$.stepBefore.startValue||null,$.stepAfter.startValue-ve||null];Ce!==!1&&ve+Ce>$.stepAfter.startValue&&(Ce=$.stepAfter.startValue-ve),ve>$.thisStep.startValue?ye=$.thisStep.step:$.stepBefore.step===!1?ye=!1:ye=ve-$.stepBefore.highestStep,z===100?Ce=null:z===0&&(ye=null);var Ae=a.countStepDecimals();return Ce!==null&&Ce!==!1&&(Ce=Number(Ce.toFixed(Ae))),ye!==null&&ye!==!1&&(ye=Number(ye.toFixed(Ae))),[ye,Ce]}function oi(){return m.map(Bt)}function $t(R,z){var $=Te(),ve=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];ve.forEach(function(ye){R[ye]!==void 0&&(t[ye]=R[ye])});var Ce=Ya(t);ve.forEach(function(ye){R[ye]!==void 0&&(e[ye]=Ce[ye])}),a=Ce.spectrum,e.margin=Ce.margin,e.limit=Ce.limit,e.padding=Ce.padding,e.pips?k(e.pips):K(),e.tooltips?G():me(),g=[],Ct($r(R.start)?R.start:$,z)}function ai(){f=N(p),A(e.connect,f),ie(e.events),Ct(e.start),e.pips&&k(e.pips),e.tooltips&&G(),oe()}ai();var Wt={destroy:Oe,steps:oi,on:de,off:Pe,get:Te,set:Ct,setHandle:Yt,reset:wt,disable:te,enable:re,__moveHandles:function(R,z,$){Ee(R,z,g,$)},options:t,updateOptions:$t,target:p,removePips:K,removeTooltips:me,getPositions:function(){return g.slice()},getTooltips:function(){return s},getOrigins:function(){return r},pips:k};return Wt}function bh(i,e){if(!i||!i.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+i);if(i.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var t=Ya(e),n=_h(i,t,e);return i.noUiSlider=n,n}const yh={__spectrum:Wa,cssClasses:Ha,create:bh};function Ch(i){let e,t,n,h;const u=i[10].default,p=st(u,i,i[12],null);return{c(){e=ge("div"),n=ue(),p&&p.c(),Q(e,"class",t=Be("slider",{color:i[1]}))},m(f,r){Z(f,e,r),i[11](e),Z(f,n,r),p&&p.m(f,r),h=!0},p(f,r){(!h||r&2&&t!==(t=Be("slider",{color:f[1]})))&&Q(e,"class",t),p&&p.p&&(!h||r&4096)&&at(p,u,f,f[12],h?ot(u,f[12],r,null):lt(f[12]),null)},i(f){h||(x(p,f),h=!0)},o(f){E(p,f),h=!1},d(f){f&&(J(e),J(n)),i[11](null),p&&p.d(f)}}}function Sh(i){let e,t;return e=new He({props:{components:i[3],componentName:i[0]+"-wrapper",$$slots:{default:[Ch]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p(n,[h]){const u={};h&1&&(u.componentName=n[0]+"-wrapper"),h&4102&&(u.$$scope={dirty:h,ctx:n}),e.$set(u)},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function wh(i,e,t){let n,{$$slots:h={},$$scope:u}=e,{componentName:p="slider"}=e,{color:f=void 0}=e,{min:r=void 0}=e,{max:c=void 0}=e,{step:d=void 0}=e,{name:s=void 0}=e,{connect:a=void 0}=e;const o=[{component:tt(),except:[]},...e.components??[]];let g=[],m,l;function v(S){const w=g.length;return g=[...g,S],kt(b,n[w]=S.value,n),w}function _(S){g=g.filter((w,O)=>O!==S)}const b=Lt([]);dt(i,b,S=>t(15,n=S)),Zt(()=>{if(!m)return;s&&m.setAttribute("name",s);const S={start:g.map(w=>w.value),tooltips:g.map(w=>w.tooltip??!1),connect:[a??!1,...g.map(w=>w.connect??!1)],step:d,cssPrefix:"",cssClasses:{active:Be(p+"-active"),background:Be(p+"-background"),base:Be(p+"-base"),connect:Be(p+"-connect"),connects:Be(p+"-connects"),drag:Be(p+"-drag"),draggable:Be(p+"-draggable"),handle:Be(p+"-handle"),handleLower:Be(p+"-handle-lower"),handleUpper:Be(p+"-handle-upper"),horizontal:Be(p+"-horizontal"),ltr:Be(p+"-ltr"),marker:Be(p+"-marker"),markerHorizontal:Be(p+"-marker-horizontal"),markerLarge:Be(p+"-marker-large"),markerNormal:Be(p+"-marker-normal"),markerSub:Be(p+"-marker-sub"),markerVertical:Be(p+"-marker-vertical"),origin:Be(p+"-origin"),pips:Be(p+"-pips"),pipsHorizontal:Be(p+"-pips-horizontal"),pipsVertical:Be(p+"-pips-vertical"),rtl:Be(p+"-rtl"),tap:Be(p+"-tap"),target:Be(p+"-target"),textDirectionLtr:Be(p+"-text-direction-ltr"),tooltip:Be(p+"-tooltip"),textDirectionRtl:Be(p+"-text-direction-rtl"),touchArea:Be(p+"-touchArea"),value:Be(p+"-value"),valueHorizontal:Be(p+"-value-horizontal"),valueLarge:Be(p+"-value-large"),valueNormal:Be(p+"-value-normal"),valueSub:Be(p+"-value-sub"),valueVertical:Be(p+"-value-vertical"),vertical:Be(p+"-vertical")},range:{min:r??0,max:c??100}};l=yh.create(m,S),l.on("update",(w,O)=>{kt(b,n[O]=+w[O],n)})}),ta(()=>{l&&l.destroy()});function y(S,w){l.setHandle(S,w)}ia("SLIDER",{register:v,unregister:_,setValue:y,values:b});function C(S){Le[S?"unshift":"push"](()=>{m=S,t(2,m)})}return i.$$set=S=>{t(19,e=Se(Se({},e),De(S))),"componentName"in S&&t(0,p=S.componentName),"color"in S&&t(1,f=S.color),"min"in S&&t(5,r=S.min),"max"in S&&t(6,c=S.max),"step"in S&&t(7,d=S.step),"name"in S&&t(8,s=S.name),"connect"in S&&t(9,a=S.connect),"$$scope"in S&&t(12,u=S.$$scope)},e=De(e),[p,f,m,o,b,r,c,d,s,a,h,C,u]}let Th=class extends Ie{constructor(e){super(),Re(this,e,wh,Sh,Me,{componentName:0,color:1,min:5,max:6,step:7,name:8,connect:9})}};const xh=Th;function Oh(i){let e,t;return e=new He({props:{tag:"input",type:"hidden",components:i[2],name:i[1],value:i[0]}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p(n,[h]){const u={};h&2&&(u.name=n[1]),h&1&&(u.value=n[0]),e.$set(u)},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function kh(i,e,t){let n,{value:h=0}=e,{connect:u=!1}=e,{tooltip:p=!1}=e,{name:f=void 0}=e;const r=[{component:tt(),except:[]},...e.components??[]],{register:c,unregister:d,values:s,setValue:a}=na("SLIDER");dt(i,s,m=>t(7,n=m));let o;Zt(()=>{t(6,o=c({connect:u,value:h,tooltip:p}))}),ta(()=>{o&&d(o)});const g=m=>typeof m<"u";return i.$$set=m=>{t(12,e=Se(Se({},e),De(m))),"value"in m&&t(0,h=m.value),"connect"in m&&t(4,u=m.connect),"tooltip"in m&&t(5,p=m.tooltip),"name"in m&&t(1,f=m.name)},i.$$.update=()=>{i.$$.dirty&192&&g(o)&&g(n[o])&&t(0,h=n[o]),i.$$.dirty&65&&g(o)&&g(h)&&a(o,h)},e=De(e),[h,f,r,s,u,p,o,n]}class Ph extends Ie{constructor(e){super(),Re(this,e,kh,Oh,Me,{value:0,connect:4,tooltip:5,name:1})}}const Eh=Ph;function Ah(i){let e;const t=i[3].default,n=st(t,i,i[4],null);return{c(){n&&n.c()},m(h,u){n&&n.m(h,u),e=!0},p(h,u){n&&n.p&&(!e||u&16)&&at(n,t,h,h[4],e?ot(t,h[4],u,null):lt(h[4]),null)},i(h){e||(x(n,h),e=!0)},o(h){E(n,h),e=!1},d(h){n&&n.d(h)}}}function Mh(i){let e,t;const n=[i[2],{componentName:i[0]},{components:i[1]}];let h={$$slots:{default:[Ah]},$$scope:{ctx:i}};for(let u=0;u<n.length;u+=1)h=Se(h,n[u]);return e=new He({props:h}),{c(){B(e.$$.fragment)},m(u,p){I(e,u,p),t=!0},p(u,[p]){const f=p&7?rt(n,[p&4&&qe(u[2]),p&1&&{componentName:u[0]},p&2&&{components:u[1]}]):{};p&16&&(f.$$scope={dirty:p,ctx:u}),e.$set(f)},i(u){t||(x(e.$$.fragment,u),t=!0)},o(u){E(e.$$.fragment,u),t=!1},d(u){j(e,u)}}}function Dh(i,e,t){const n=["componentName"];let h=je(e,n),{$$slots:u={},$$scope:p}=e,{componentName:f="modal-title"}=e;const r=[{component:tt(),except:[]},...e.components??[]];return i.$$set=c=>{t(5,e=Se(Se({},e),De(c))),t(2,h=je(e,n)),"componentName"in c&&t(0,f=c.componentName),"$$scope"in c&&t(4,p=c.$$scope)},e=De(e),[f,r,h,u,p]}class Lh extends Ie{constructor(e){super(),Re(this,e,Dh,Mh,Me,{componentName:0})}}const Fh=Lh;function Rh(i){let e;const t=i[3].default,n=st(t,i,i[4],null);return{c(){n&&n.c()},m(h,u){n&&n.m(h,u),e=!0},p(h,u){n&&n.p&&(!e||u&16)&&at(n,t,h,h[4],e?ot(t,h[4],u,null):lt(h[4]),null)},i(h){e||(x(n,h),e=!0)},o(h){E(n,h),e=!1},d(h){n&&n.d(h)}}}function Ih(i){let e,t;const n=[i[2],{componentName:i[0]},{components:i[1]}];let h={$$slots:{default:[Rh]},$$scope:{ctx:i}};for(let u=0;u<n.length;u+=1)h=Se(h,n[u]);return e=new He({props:h}),{c(){B(e.$$.fragment)},m(u,p){I(e,u,p),t=!0},p(u,[p]){const f=p&7?rt(n,[p&4&&qe(u[2]),p&1&&{componentName:u[0]},p&2&&{components:u[1]}]):{};p&16&&(f.$$scope={dirty:p,ctx:u}),e.$set(f)},i(u){t||(x(e.$$.fragment,u),t=!0)},o(u){E(e.$$.fragment,u),t=!1},d(u){j(e,u)}}}function jh(i,e,t){const n=["componentName"];let h=je(e,n),{$$slots:u={},$$scope:p}=e,{componentName:f="modal-header"}=e;const r=[{component:tt(),except:[]},...e.components??[]];return i.$$set=c=>{t(5,e=Se(Se({},e),De(c))),t(2,h=je(e,n)),"componentName"in c&&t(0,f=c.componentName),"$$scope"in c&&t(4,p=c.$$scope)},e=De(e),[f,r,h,u,p]}class Bh extends Ie{constructor(e){super(),Re(this,e,jh,Ih,Me,{componentName:0})}}const Nh=Bh,Xh=i=>({}),oo=i=>({});function ao(i){let e,t;return e=new Nh({props:{$$slots:{default:[Wh]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p(n,h){const u={};h&2097184&&(u.$$scope={dirty:h,ctx:n}),e.$set(u)},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function zh(i){let e;return{c(){e=We(i[5])},m(t,n){Z(t,e,n)},p(t,n){n&32&&Vt(e,t[5])},d(t){t&&J(e)}}}function Wh(i){let e,t;return e=new Fh({props:{$$slots:{default:[zh]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p(n,h){const u={};h&2097184&&(u.$$scope={dirty:h,ctx:n}),e.$set(u)},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function lo(i){let e,t;return e=new Ye({props:{"aria-label":"X",type:"button",componentName:i[2]+"-close"}}),e.$on("click",i[19]),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p(n,h){const u={};h&4&&(u.componentName=n[2]+"-close"),e.$set(u)},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Hh(i){let e,t,n=i[4]&&lo(i);return{c(){n&&n.c(),e=yt()},m(h,u){n&&n.m(h,u),Z(h,e,u),t=!0},p(h,u){h[4]?n?(n.p(h,u),u&16&&x(n,1)):(n=lo(h),n.c(),x(n,1),n.m(e.parentNode,e)):n&&(Ne(),E(n,1,1,()=>{n=null}),Xe())},i(h){t||(x(n),t=!0)},o(h){E(n),t=!1},d(h){h&&J(e),n&&n.d(h)}}}function Vh(i){let e,t,n,h=i[5]&&ao(i);const u=i[18].default,p=st(u,i,i[21],null),f=i[18].close,r=st(f,i,i[21],oo),c=r||Hh(i);return{c(){h&&h.c(),e=ue(),p&&p.c(),t=ue(),c&&c.c()},m(d,s){h&&h.m(d,s),Z(d,e,s),p&&p.m(d,s),Z(d,t,s),c&&c.m(d,s),n=!0},p(d,s){d[5]?h?(h.p(d,s),s&32&&x(h,1)):(h=ao(d),h.c(),x(h,1),h.m(e.parentNode,e)):h&&(Ne(),E(h,1,1,()=>{h=null}),Xe()),p&&p.p&&(!n||s&2097152)&&at(p,u,d,d[21],n?ot(u,d[21],s,null):lt(d[21]),null),r?r.p&&(!n||s&2097152)&&at(r,f,d,d[21],n?ot(f,d[21],s,Xh):lt(d[21]),oo):c&&c.p&&(!n||s&20)&&c.p(d,n?s:-1)},i(d){n||(x(h),x(p,d),x(c,d),n=!0)},o(d){E(h),E(p,d),E(c,d),n=!1},d(d){d&&(J(e),J(t)),h&&h.d(d),p&&p.d(d),c&&c.d(d)}}}function Yh(i){let e,t;return e=new He({props:{componentName:i[2]+"-content",$$slots:{default:[Vh]},$$scope:{ctx:i}}}),e.$on("click",i[11]),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p(n,h){const u={};h&4&&(u.componentName=n[2]+"-content"),h&2097204&&(u.$$scope={dirty:h,ctx:n}),e.$set(u)},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Uh(i){let e,t;return e=new He({props:{componentName:i[2]+"-container",$$slots:{default:[Yh]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p(n,h){const u={};h&4&&(u.componentName=n[2]+"-container"),h&2097204&&(u.$$scope={dirty:h,ctx:n}),e.$set(u)},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function fo(i){let e,t;return e=new He({props:{componentName:i[2]+"-backdrop",cssProps:{absolute:i[3]},show:i[0]}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p(n,h){const u={};h&4&&(u.componentName=n[2]+"-backdrop"),h&8&&(u.cssProps={absolute:n[3]}),h&1&&(u.show=n[0]),e.$set(u)},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Gh(i){let e,t,n,h,u;const p=[i[12],{componentName:i[2]},{cssProps:i[8]},{components:i[9]},{tabindex:"0"},{role:"dialog"},{show:i[0]}];function f(d){i[20](d)}let r={$$slots:{default:[Uh]},$$scope:{ctx:i}};for(let d=0;d<p.length;d+=1)r=Se(r,p[d]);i[7]!==void 0&&(r.element=i[7]),e=new He({props:r}),Le.push(()=>Ze(e,"element",f)),e.$on("click",i[10]);let c=i[1]&&fo(i);return{c(){B(e.$$.fragment),n=ue(),c&&c.c(),h=yt()},m(d,s){I(e,d,s),Z(d,n,s),c&&c.m(d,s),Z(d,h,s),u=!0},p(d,[s]){const a=s&4869?rt(p,[s&4096&&qe(d[12]),s&4&&{componentName:d[2]},s&256&&{cssProps:d[8]},s&512&&{components:d[9]},p[4],p[5],s&1&&{show:d[0]}]):{};s&2097204&&(a.$$scope={dirty:s,ctx:d}),!t&&s&128&&(t=!0,a.element=d[7],ct(()=>t=!1)),e.$set(a),d[1]?c?(c.p(d,s),s&2&&x(c,1)):(c=fo(d),c.c(),x(c,1),c.m(h.parentNode,h)):c&&(Ne(),E(c,1,1,()=>{c=null}),Xe())},i(d){u||(x(e.$$.fragment,d),x(c),u=!0)},o(d){E(e.$$.fragment,d),E(c),u=!1},d(d){d&&(J(n),J(h)),j(e,d),c&&c.d(d)}}}function qh(i,e,t){const n=["autoClose","backdrop","componentName","absolute","dismissible","show","placement","scrollable","size","title","close"];let h=je(e,n),{$$slots:u={},$$scope:p}=e;const f=Li(),r=[{component:tt(),except:["close"]},...e.components??[]];let{autoClose:c=void 0}=e,{backdrop:d=!0}=e,{componentName:s="modal"}=e,{absolute:a=void 0}=e,{dismissible:o=void 0}=e,{show:g=void 0}=e,{placement:m="top"}=e,{scrollable:l=void 0}=e,{size:v="md"}=e,{title:_=void 0}=e;const b=()=>{t(0,g=!1),f("close")},y=Y=>{g&&S&&c&&Y.key==="Escape"&&!Y.defaultPrevented&&b()},C=Y=>{g&&S&&c&&!Y.defaultPrevented&&b()};let S,w;const O=Y=>{Y.stopPropagation()};Zt(()=>{if(gs(()=>import("./focus-trap.esm-4d3da9a7.js"),[]).then(Y=>{t(17,w=Y.createFocusTrap(S,{escapeDeactivates:!1}))}),document&&c)return document.addEventListener("keyup",y,!0),()=>{document.removeEventListener("keyup",y,!0)}});let A={};const N=()=>b();function W(Y){S=Y,t(7,S)}return i.$$set=Y=>{t(24,e=Se(Se({},e),De(Y))),t(12,h=je(e,n)),"autoClose"in Y&&t(13,c=Y.autoClose),"backdrop"in Y&&t(1,d=Y.backdrop),"componentName"in Y&&t(2,s=Y.componentName),"absolute"in Y&&t(3,a=Y.absolute),"dismissible"in Y&&t(4,o=Y.dismissible),"show"in Y&&t(0,g=Y.show),"placement"in Y&&t(14,m=Y.placement),"scrollable"in Y&&t(15,l=Y.scrollable),"size"in Y&&t(16,v=Y.size),"title"in Y&&t(5,_=Y.title),"$$scope"in Y&&t(21,p=Y.$$scope)},i.$$.update=()=>{i.$$.dirty&9&&typeof window<"u"&&!a&&(g?document.body.classList.add(Be("body-modal-show")??""):document.body.classList.contains(Be("body-modal-show")??"")&&document.body.classList.remove(Be("body-modal-show")??"")),i.$$.dirty&131075&&w&&d&&setTimeout(()=>{try{g?w.activate():w.deactivate()}catch(Y){console.log("erro: ",Y)}},500),i.$$.dirty&114696&&t(8,A={placement:m,scrollable:l,size:v,absolute:a})},e=De(e),[g,d,s,a,o,_,b,S,A,r,C,O,h,c,m,l,v,w,u,N,W,p]}class Kh extends Ie{constructor(e){super(),Re(this,e,qh,Gh,Me,{autoClose:13,backdrop:1,componentName:2,absolute:3,dismissible:4,show:0,placement:14,scrollable:15,size:16,title:5,close:6})}get close(){return this.$$.ctx[6]}}const Jh=Kh;function Qh(i){let e;const t=i[3].default,n=st(t,i,i[4],null);return{c(){n&&n.c()},m(h,u){n&&n.m(h,u),e=!0},p(h,u){n&&n.p&&(!e||u&16)&&at(n,t,h,h[4],e?ot(t,h[4],u,null):lt(h[4]),null)},i(h){e||(x(n,h),e=!0)},o(h){E(n,h),e=!1},d(h){n&&n.d(h)}}}function Zh(i){let e,t;const n=[i[2],{componentName:i[0]},{components:i[1]}];let h={$$slots:{default:[Qh]},$$scope:{ctx:i}};for(let u=0;u<n.length;u+=1)h=Se(h,n[u]);return e=new He({props:h}),{c(){B(e.$$.fragment)},m(u,p){I(e,u,p),t=!0},p(u,[p]){const f=p&7?rt(n,[p&4&&qe(u[2]),p&1&&{componentName:u[0]},p&2&&{components:u[1]}]):{};p&16&&(f.$$scope={dirty:p,ctx:u}),e.$set(f)},i(u){t||(x(e.$$.fragment,u),t=!0)},o(u){E(e.$$.fragment,u),t=!1},d(u){j(e,u)}}}function $h(i,e,t){const n=["componentName"];let h=je(e,n),{$$slots:u={},$$scope:p}=e,{componentName:f="modal-body"}=e;const r=[{component:tt(),except:[]},...e.components??[]];return i.$$set=c=>{t(5,e=Se(Se({},e),De(c))),t(2,h=je(e,n)),"componentName"in c&&t(0,f=c.componentName),"$$scope"in c&&t(4,p=c.$$scope)},e=De(e),[f,r,h,u,p]}class ed extends Ie{constructor(e){super(),Re(this,e,$h,Zh,Me,{componentName:0})}}const td=ed;function id(i){let e;const t=i[3].default,n=st(t,i,i[4],null);return{c(){n&&n.c()},m(h,u){n&&n.m(h,u),e=!0},p(h,u){n&&n.p&&(!e||u&16)&&at(n,t,h,h[4],e?ot(t,h[4],u,null):lt(h[4]),null)},i(h){e||(x(n,h),e=!0)},o(h){E(n,h),e=!1},d(h){n&&n.d(h)}}}function nd(i){let e,t;const n=[i[2],{componentName:i[0]},{components:i[1]}];let h={$$slots:{default:[id]},$$scope:{ctx:i}};for(let u=0;u<n.length;u+=1)h=Se(h,n[u]);return e=new He({props:h}),{c(){B(e.$$.fragment)},m(u,p){I(e,u,p),t=!0},p(u,[p]){const f=p&7?rt(n,[p&4&&qe(u[2]),p&1&&{componentName:u[0]},p&2&&{components:u[1]}]):{};p&16&&(f.$$scope={dirty:p,ctx:u}),e.$set(f)},i(u){t||(x(e.$$.fragment,u),t=!0)},o(u){E(e.$$.fragment,u),t=!1},d(u){j(e,u)}}}function rd(i,e,t){const n=["componentName"];let h=je(e,n),{$$slots:u={},$$scope:p}=e,{componentName:f="modal-footer"}=e;const r=[{component:tt(),except:[]},...e.components??[]];return i.$$set=c=>{t(5,e=Se(Se({},e),De(c))),t(2,h=je(e,n)),"componentName"in c&&t(0,f=c.componentName),"$$scope"in c&&t(4,p=c.$$scope)},e=De(e),[f,r,h,u,p]}class sd extends Ie{constructor(e){super(),Re(this,e,rd,nd,Me,{componentName:0})}}const od=sd;function ad(i){let e;const t=i[13].default,n=st(t,i,i[15],null);return{c(){n&&n.c()},m(h,u){n&&n.m(h,u),e=!0},p(h,u){n&&n.p&&(!e||u&32768)&&at(n,t,h,h[15],e?ot(t,h[15],u,null):lt(h[15]),null)},i(h){e||(x(n,h),e=!0)},o(h){E(n,h),e=!1},d(h){n&&n.d(h)}}}function co(i){let e,t;return e=new He({props:{componentName:i[1]+"-backdrop",show:i[0]}}),e.$on("click",i[8]),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p(n,h){const u={};h&2&&(u.componentName=n[1]+"-backdrop"),h&1&&(u.show=n[0]),e.$set(u)},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function uo(i){let e,t,n=i[2]&&ho(i);return{c(){n&&n.c(),e=yt()},m(h,u){n&&n.m(h,u),Z(h,e,u),t=!0},p(h,u){h[2]?n?(n.p(h,u),u&4&&x(n,1)):(n=ho(h),n.c(),x(n,1),n.m(e.parentNode,e)):n&&(Ne(),E(n,1,1,()=>{n=null}),Xe())},i(h){t||(x(n),t=!0)},o(h){E(n),t=!1},d(h){h&&J(e),n&&n.d(h)}}}function ho(i){let e,t;return e=new He({props:{componentName:i[1]+"-no-scroll"}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p(n,h){const u={};h&2&&(u.componentName=n[1]+"-no-scroll"),e.$set(u)},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function ld(i){let e,t,n,h,u,p;const f=[i[7],i[9],{cssProps:i[5]},{componentName:i[1]},{tabindex:"0"},{show:i[0]}];function r(a){i[14](a)}let c={$$slots:{default:[ad]},$$scope:{ctx:i}};for(let a=0;a<f.length;a+=1)c=Se(c,f[a]);i[4]!==void 0&&(c.element=i[4]),e=new He({props:c}),Le.push(()=>Ze(e,"element",r));let d=i[3]&&co(i),s=i[0]&&uo(i);return{c(){B(e.$$.fragment),n=ue(),d&&d.c(),h=ue(),s&&s.c(),u=yt()},m(a,o){I(e,a,o),Z(a,n,o),d&&d.m(a,o),Z(a,h,o),s&&s.m(a,o),Z(a,u,o),p=!0},p(a,o){const g=o&675?rt(f,[o&128&&qe(a[7]),o&512&&qe(a[9]),o&32&&{cssProps:a[5]},o&2&&{componentName:a[1]},f[4],o&1&&{show:a[0]}]):{};o&32768&&(g.$$scope={dirty:o,ctx:a}),!t&&o&16&&(t=!0,g.element=a[4],ct(()=>t=!1)),e.$set(g),a[3]?d?(d.p(a,o),o&8&&x(d,1)):(d=co(a),d.c(),x(d,1),d.m(h.parentNode,h)):d&&(Ne(),E(d,1,1,()=>{d=null}),Xe()),a[0]?s?(s.p(a,o),o&1&&x(s,1)):(s=uo(a),s.c(),x(s,1),s.m(u.parentNode,u)):s&&(Ne(),E(s,1,1,()=>{s=null}),Xe())},i(a){p||(x(e.$$.fragment,a),x(d),x(s),p=!0)},o(a){E(e.$$.fragment,a),E(d),E(s),p=!1},d(a){a&&(J(n),J(h),J(u)),j(e,a),d&&d.d(a),s&&s.d(a)}}}function fd(i){let e,t;return e=new He({props:{components:i[6],componentName:i[1]+"-wrapper",$$slots:{default:[ld]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p(n,[h]){const u={};h&2&&(u.componentName=n[1]+"-wrapper"),h&33343&&(u.$$scope={dirty:h,ctx:n}),e.$set(u)},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function cd(i,e,t){const n=["componentName","placement","noScroll","backdrop","autoClose","show"];let h=je(e,n),{$$slots:u={},$$scope:p}=e,{componentName:f="offcanvas"}=e,{placement:r="start"}=e,{noScroll:c=void 0}=e,{backdrop:d=void 0}=e,{autoClose:s=void 0}=e,{show:a=void 0}=e;const o=Li(),g=[{component:tt(),except:["close"]},...e.components??[]],m=()=>{t(0,a=!1),o("close")};ia("OFFCANVAS",{close:m});let l,v,_={componentName:f,...h},b={placement:r};const y=w=>{a&&l&&s&&w.key==="Escape"&&!w.defaultPrevented&&m()},C=w=>{a&&l&&s&&!l.contains(w.target)&&!w.defaultPrevented&&m()};Zt(()=>{if(gs(()=>import("./focus-trap.esm-4d3da9a7.js"),[]).then(w=>{t(12,v=w.createFocusTrap(l,{escapeDeactivates:!1}))}),document&&s)return document.addEventListener("keyup",y,!0),document.addEventListener("click",C,!0),()=>{document.removeEventListener("keyup",y,!0),document.removeEventListener("click",C,!0)}});function S(w){l=w,t(4,l)}return i.$$set=w=>{t(19,e=Se(Se({},e),De(w))),t(9,h=je(e,n)),"componentName"in w&&t(1,f=w.componentName),"placement"in w&&t(10,r=w.placement),"noScroll"in w&&t(2,c=w.noScroll),"backdrop"in w&&t(3,d=w.backdrop),"autoClose"in w&&t(11,s=w.autoClose),"show"in w&&t(0,a=w.show),"$$scope"in w&&t(15,p=w.$$scope)},i.$$.update=()=>{i.$$.dirty&4105&&v&&d&&setTimeout(()=>{try{a?v.activate():v.deactivate()}catch{}},500),i.$$.dirty&1024&&t(5,b={placement:r})},e=De(e),[a,f,c,d,l,b,g,_,C,h,r,s,v,u,S,p]}class ud extends Ie{constructor(e){super(),Re(this,e,cd,fd,Me,{componentName:1,placement:10,noScroll:2,backdrop:3,autoClose:11,show:0})}}const hd=ud;function dd(i){let e;const t=i[3].default,n=st(t,i,i[4],null);return{c(){n&&n.c()},m(h,u){n&&n.m(h,u),e=!0},p(h,u){n&&n.p&&(!e||u&16)&&at(n,t,h,h[4],e?ot(t,h[4],u,null):lt(h[4]),null)},i(h){e||(x(n,h),e=!0)},o(h){E(n,h),e=!1},d(h){n&&n.d(h)}}}function gd(i){let e,t;const n=[i[2],{componentName:i[0]},{components:i[1]}];let h={$$slots:{default:[dd]},$$scope:{ctx:i}};for(let u=0;u<n.length;u+=1)h=Se(h,n[u]);return e=new He({props:h}),{c(){B(e.$$.fragment)},m(u,p){I(e,u,p),t=!0},p(u,[p]){const f=p&7?rt(n,[p&4&&qe(u[2]),p&1&&{componentName:u[0]},p&2&&{components:u[1]}]):{};p&16&&(f.$$scope={dirty:p,ctx:u}),e.$set(f)},i(u){t||(x(e.$$.fragment,u),t=!0)},o(u){E(e.$$.fragment,u),t=!1},d(u){j(e,u)}}}function md(i,e,t){const n=["componentName"];let h=je(e,n),{$$slots:u={},$$scope:p}=e,{componentName:f="offcanvas-body"}=e;const r=[{component:tt(),except:[]},...e.components??[]];return i.$$set=c=>{t(5,e=Se(Se({},e),De(c))),t(2,h=je(e,n)),"componentName"in c&&t(0,f=c.componentName),"$$scope"in c&&t(4,p=c.$$scope)},e=De(e),[f,r,h,u,p]}class pd extends Ie{constructor(e){super(),Re(this,e,md,gd,Me,{componentName:0})}}const vd=pd;function _d(i){let e;const t=i[5].default,n=st(t,i,i[6],null);return{c(){n&&n.c()},m(h,u){n&&n.m(h,u),e=!0},p(h,u){n&&n.p&&(!e||u&64)&&at(n,t,h,h[6],e?ot(t,h[6],u,null):lt(h[6]),null)},i(h){e||(x(n,h),e=!0)},o(h){E(n,h),e=!1},d(h){n&&n.d(h)}}}function bd(i){let e,t;return e=new He({props:{componentName:i[0]+"-title",$$slots:{default:[yd]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p(n,h){const u={};h&1&&(u.componentName=n[0]+"-title"),h&66&&(u.$$scope={dirty:h,ctx:n}),e.$set(u)},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function yd(i){let e;return{c(){e=We(i[1])},m(t,n){Z(t,e,n)},p(t,n){n&2&&Vt(e,t[1])},d(t){t&&J(e)}}}function Cd(i){let e,t,n,h,u;const p=[bd,_d],f=[];function r(c,d){return c[1]?0:1}return e=r(i),t=f[e]=p[e](i),h=new Ye({props:{componentName:i[0]+"-btn","aria-label":"Close"}}),h.$on("click",i[3]),{c(){t.c(),n=ue(),B(h.$$.fragment)},m(c,d){f[e].m(c,d),Z(c,n,d),I(h,c,d),u=!0},p(c,d){let s=e;e=r(c),e===s?f[e].p(c,d):(Ne(),E(f[s],1,1,()=>{f[s]=null}),Xe(),t=f[e],t?t.p(c,d):(t=f[e]=p[e](c),t.c()),x(t,1),t.m(n.parentNode,n));const a={};d&1&&(a.componentName=c[0]+"-btn"),h.$set(a)},i(c){u||(x(t),x(h.$$.fragment,c),u=!0)},o(c){E(t),E(h.$$.fragment,c),u=!1},d(c){c&&J(n),f[e].d(c),j(h,c)}}}function Sd(i){let e,t;const n=[i[4],{componentName:i[0]},{components:i[2]}];let h={$$slots:{default:[Cd]},$$scope:{ctx:i}};for(let u=0;u<n.length;u+=1)h=Se(h,n[u]);return e=new He({props:h}),{c(){B(e.$$.fragment)},m(u,p){I(e,u,p),t=!0},p(u,[p]){const f=p&21?rt(n,[p&16&&qe(u[4]),p&1&&{componentName:u[0]},p&4&&{components:u[2]}]):{};p&67&&(f.$$scope={dirty:p,ctx:u}),e.$set(f)},i(u){t||(x(e.$$.fragment,u),t=!0)},o(u){E(e.$$.fragment,u),t=!1},d(u){j(e,u)}}}function wd(i,e,t){const n=["componentName","title"];let h=je(e,n),{$$slots:u={},$$scope:p}=e,{componentName:f="offcanvas-header"}=e,{title:r=void 0}=e;const c=na("OFFCANVAS"),d=[{component:tt(),except:[]},...e.components??[]],s=()=>{c&&c.close&&c.close()};return i.$$set=a=>{t(8,e=Se(Se({},e),De(a))),t(4,h=je(e,n)),"componentName"in a&&t(0,f=a.componentName),"title"in a&&t(1,r=a.title),"$$scope"in a&&t(6,p=a.$$scope)},e=De(e),[f,r,d,s,h,u,p]}class Td extends Ie{constructor(e){super(),Re(this,e,wd,Sd,Me,{componentName:0,title:1})}}const xd=Td;function Od(i){let e;const t=i[3].default,n=st(t,i,i[4],null);return{c(){n&&n.c()},m(h,u){n&&n.m(h,u),e=!0},p(h,u){n&&n.p&&(!e||u&16)&&at(n,t,h,h[4],e?ot(t,h[4],u,null):lt(h[4]),null)},i(h){e||(x(n,h),e=!0)},o(h){E(n,h),e=!1},d(h){n&&n.d(h)}}}function kd(i){let e,t;const n=[{components:i[1]},i[2],{componentName:i[0]}];let h={$$slots:{default:[Od]},$$scope:{ctx:i}};for(let u=0;u<n.length;u+=1)h=Se(h,n[u]);return e=new He({props:h}),{c(){B(e.$$.fragment)},m(u,p){I(e,u,p),t=!0},p(u,[p]){const f=p&7?rt(n,[p&2&&{components:u[1]},p&4&&qe(u[2]),p&1&&{componentName:u[0]}]):{};p&16&&(f.$$scope={dirty:p,ctx:u}),e.$set(f)},i(u){t||(x(e.$$.fragment,u),t=!0)},o(u){E(e.$$.fragment,u),t=!1},d(u){j(e,u)}}}function Pd(i,e,t){const n=["componentName"];let h=je(e,n),{$$slots:u={},$$scope:p}=e,{componentName:f="popover-header"}=e;const r=[{component:tt(),except:[]},...e.components??[]];return i.$$set=c=>{t(5,e=Se(Se({},e),De(c))),t(2,h=je(e,n)),"componentName"in c&&t(0,f=c.componentName),"$$scope"in c&&t(4,p=c.$$scope)},e=De(e),[f,r,h,u,p]}class Ed extends Ie{constructor(e){super(),Re(this,e,Pd,kd,Me,{componentName:0})}}const Ua=Ed;function go(i){let e,t;return e=new Ua({props:{$$slots:{default:[Ad]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p(n,h){const u={};h&513&&(u.$$scope={dirty:h,ctx:n}),e.$set(u)},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Ad(i){let e;return{c(){e=We(i[0])},m(t,n){Z(t,e,n)},p(t,n){n&1&&Vt(e,t[0])},d(t){t&&J(e)}}}function Md(i){let e,t,n=i[0]&&go(i);const h=i[8].default,u=st(h,i,i[9],null);return{c(){n&&n.c(),e=ue(),u&&u.c()},m(p,f){n&&n.m(p,f),Z(p,e,f),u&&u.m(p,f),t=!0},p(p,f){p[0]?n?(n.p(p,f),f&1&&x(n,1)):(n=go(p),n.c(),x(n,1),n.m(e.parentNode,e)):n&&(Ne(),E(n,1,1,()=>{n=null}),Xe()),u&&u.p&&(!t||f&512)&&at(u,h,p,p[9],t?ot(h,p[9],f,null):lt(p[9]),null)},i(p){t||(x(n),x(u,p),t=!0)},o(p){E(n),E(u,p),t=!1},d(p){p&&J(e),n&&n.d(p),u&&u.d(p)}}}function Dd(i){let e,t;const n=[{components:i[2]},i[3],i[1]];let h={$$slots:{default:[Md]},$$scope:{ctx:i}};for(let u=0;u<n.length;u+=1)h=Se(h,n[u]);return e=new va({props:h}),{c(){B(e.$$.fragment)},m(u,p){I(e,u,p),t=!0},p(u,[p]){const f=p&14?rt(n,[p&4&&{components:u[2]},p&8&&qe(u[3]),p&2&&qe(u[1])]):{};p&513&&(f.$$scope={dirty:p,ctx:u}),e.$set(f)},i(u){t||(x(e.$$.fragment,u),t=!0)},o(u){E(e.$$.fragment,u),t=!1},d(u){j(e,u)}}}function Ld(i,e,t){let n;const h=["componentName","arrow","popupOffset","title","trigger"];let u=je(e,h),{$$slots:p={},$$scope:f}=e,{componentName:r="popover"}=e,{arrow:c=!0}=e,{popupOffset:d=8}=e,{title:s=void 0}=e,{trigger:a="click"}=e;const o=[{component:tt(),except:[]},...e.components??[]];return i.$$set=g=>{t(10,e=Se(Se({},e),De(g))),t(3,u=je(e,h)),"componentName"in g&&t(4,r=g.componentName),"arrow"in g&&t(5,c=g.arrow),"popupOffset"in g&&t(6,d=g.popupOffset),"title"in g&&t(0,s=g.title),"trigger"in g&&t(7,a=g.trigger),"$$scope"in g&&t(9,f=g.$$scope)},i.$$.update=()=>{i.$$.dirty&240&&t(1,n={componentName:r,arrow:c,trigger:a,popupOffset:d})},e=De(e),[s,n,o,u,r,c,d,a,p,f]}class Fd extends Ie{constructor(e){super(),Re(this,e,Ld,Dd,Me,{componentName:4,arrow:5,popupOffset:6,title:0,trigger:7})}}const Ga=Fd;function Rd(i){let e;const t=i[3].default,n=st(t,i,i[4],null);return{c(){n&&n.c()},m(h,u){n&&n.m(h,u),e=!0},p(h,u){n&&n.p&&(!e||u&16)&&at(n,t,h,h[4],e?ot(t,h[4],u,null):lt(h[4]),null)},i(h){e||(x(n,h),e=!0)},o(h){E(n,h),e=!1},d(h){n&&n.d(h)}}}function Id(i){let e,t;const n=[{components:i[1]},i[2],{componentName:i[0]}];let h={$$slots:{default:[Rd]},$$scope:{ctx:i}};for(let u=0;u<n.length;u+=1)h=Se(h,n[u]);return e=new He({props:h}),{c(){B(e.$$.fragment)},m(u,p){I(e,u,p),t=!0},p(u,[p]){const f=p&7?rt(n,[p&2&&{components:u[1]},p&4&&qe(u[2]),p&1&&{componentName:u[0]}]):{};p&16&&(f.$$scope={dirty:p,ctx:u}),e.$set(f)},i(u){t||(x(e.$$.fragment,u),t=!0)},o(u){E(e.$$.fragment,u),t=!1},d(u){j(e,u)}}}function jd(i,e,t){const n=["componentName"];let h=je(e,n),{$$slots:u={},$$scope:p}=e,{componentName:f="popover-body"}=e;const r=[{component:tt(),except:[]},...e.components??[]];return i.$$set=c=>{t(5,e=Se(Se({},e),De(c))),t(2,h=je(e,n)),"componentName"in c&&t(0,f=c.componentName),"$$scope"in c&&t(4,p=c.$$scope)},e=De(e),[f,r,h,u,p]}class Bd extends Ie{constructor(e){super(),Re(this,e,jd,Id,Me,{componentName:0})}}const qa=Bd;function Nd(i){let e;const t=i[7].default,n=st(t,i,i[8],null);return{c(){n&&n.c()},m(h,u){n&&n.m(h,u),e=!0},p(h,u){n&&n.p&&(!e||u&256)&&at(n,t,h,h[8],e?ot(t,h[8],u,null):lt(h[8]),null)},i(h){e||(x(n,h),e=!0)},o(h){E(n,h),e=!1},d(h){n&&n.d(h)}}}function Xd(i){let e,t;const n=[{components:i[2]},{tag:"span"},i[3],{cssProps:i[1]},i[0]];let h={$$slots:{default:[Nd]},$$scope:{ctx:i}};for(let u=0;u<n.length;u+=1)h=Se(h,n[u]);return e=new He({props:h}),{c(){B(e.$$.fragment)},m(u,p){I(e,u,p),t=!0},p(u,[p]){const f=p&15?rt(n,[p&4&&{components:u[2]},n[1],p&8&&qe(u[3]),p&2&&{cssProps:u[1]},p&1&&qe(u[0])]):{};p&256&&(f.$$scope={dirty:p,ctx:u}),e.$set(f)},i(u){t||(x(e.$$.fragment,u),t=!0)},o(u){E(e.$$.fragment,u),t=!1},d(u){j(e,u)}}}function zd(i,e,t){const n=["componentName","color","lite"];let h=je(e,n),{$$slots:u={},$$scope:p}=e,{componentName:f="status"}=e,{color:r=void 0}=e,{lite:c=void 0}=e;const d=[{component:tt(),except:[]},...e.components??[]];let s={},a={};return i.$$set=o=>{t(9,e=Se(Se({},e),De(o))),t(3,h=je(e,n)),"componentName"in o&&t(4,f=o.componentName),"color"in o&&t(5,r=o.color),"lite"in o&&t(6,c=o.lite),"$$scope"in o&&t(8,p=o.$$scope)},i.$$.update=()=>{i.$$.dirty&112&&(t(1,a={color:r,lite:c}),t(0,s={componentName:f}))},e=De(e),[s,a,d,h,f,r,c,u,p]}class Wd extends Ie{constructor(e){super(),Re(this,e,zd,Xd,Me,{componentName:4,color:5,lite:6})}}const Hd=Wd;function mo(i){let e;return{c(){e=We(i[1])},m(t,n){Z(t,e,n)},p(t,n){n&2&&Vt(e,t[1])},d(t){t&&J(e)}}}function Vd(i){let e,t=i[1]&&mo(i);return{c(){t&&t.c(),e=yt()},m(n,h){t&&t.m(n,h),Z(n,e,h)},p(n,h){n[1]?t?t.p(n,h):(t=mo(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){n&&J(e),t&&t.d(n)}}}function Yd(i){let e;const t=i[8].default,n=st(t,i,i[9],null),h=n||Vd(i);return{c(){h&&h.c()},m(u,p){h&&h.m(u,p),e=!0},p(u,p){n?n.p&&(!e||p&512)&&at(n,t,u,u[9],e?ot(t,u[9],p,null):lt(u[9]),null):h&&h.p&&(!e||p&2)&&h.p(u,e?p:-1)},i(u){e||(x(h,u),e=!0)},o(u){E(h,u),e=!1},d(u){h&&h.d(u)}}}function Ud(i){let e,t;return e=new He({props:{componentName:i[0]+"-inner",$$slots:{default:[Yd]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p(n,h){const u={};h&1&&(u.componentName=n[0]+"-inner"),h&514&&(u.$$scope={dirty:h,ctx:n}),e.$set(u)},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Gd(i){let e,t;const n=[{components:i[3]},i[4],i[2]];let h={$$slots:{default:[Ud]},$$scope:{ctx:i}};for(let u=0;u<n.length;u+=1)h=Se(h,n[u]);return e=new va({props:h}),{c(){B(e.$$.fragment)},m(u,p){I(e,u,p),t=!0},p(u,[p]){const f=p&28?rt(n,[p&8&&{components:u[3]},p&16&&qe(u[4]),p&4&&qe(u[2])]):{};p&515&&(f.$$scope={dirty:p,ctx:u}),e.$set(f)},i(u){t||(x(e.$$.fragment,u),t=!0)},o(u){E(e.$$.fragment,u),t=!1},d(u){j(e,u)}}}function qd(i,e,t){let n;const h=["componentName","arrow","popupOffset","trigger","text"];let u=je(e,h),{$$slots:p={},$$scope:f}=e,{componentName:r="tooltip"}=e,{arrow:c=!0}=e,{popupOffset:d=0}=e,{trigger:s="hover"}=e,{text:a=void 0}=e;const o=[{component:tt(),except:[]},...e.components??[]];return i.$$set=g=>{t(10,e=Se(Se({},e),De(g))),t(4,u=je(e,h)),"componentName"in g&&t(0,r=g.componentName),"arrow"in g&&t(5,c=g.arrow),"popupOffset"in g&&t(6,d=g.popupOffset),"trigger"in g&&t(7,s=g.trigger),"text"in g&&t(1,a=g.text),"$$scope"in g&&t(9,f=g.$$scope)},i.$$.update=()=>{i.$$.dirty&225&&t(2,n={componentName:r,arrow:c,trigger:s,popupOffset:d})},e=De(e),[r,a,n,o,u,c,d,s,p,f]}class Kd extends Ie{constructor(e){super(),Re(this,e,qd,Gd,Me,{componentName:0,arrow:5,popupOffset:6,trigger:7,text:1})}}const ht=Kd;function po(i,e,t){const n=i.slice();return n[2]=e[t],n[4]=t,n}function Jd(i){let e,t,n,h;return t=new nn({props:{class:"w-2/3",$$slots:{default:[$d]},$$scope:{ctx:i}}}),{c(){e=ge("div"),B(t.$$.fragment),n=ue(),Q(e,"class","flex justify-end my-2")},m(u,p){Z(u,e,p),I(t,e,null),se(e,n),h=!0},p(u,p){const f={};p&32&&(f.$$scope={dirty:p,ctx:u}),t.$set(f)},i(u){h||(x(t.$$.fragment,u),h=!0)},o(u){E(t.$$.fragment,u),h=!1},d(u){u&&J(e),j(t)}}}function Qd(i){let e,t,n,h;return t=new nn({props:{bgColor:"primary",class:"w-2/3",$$slots:{default:[tg]},$$scope:{ctx:i}}}),{c(){e=ge("div"),B(t.$$.fragment),n=ue(),Q(e,"class","flex justify-start my-2")},m(u,p){Z(u,e,p),I(t,e,null),se(e,n),h=!0},p(u,p){const f={};p&32&&(f.$$scope={dirty:p,ctx:u}),t.$set(f)},i(u){h||(x(t.$$.fragment,u),h=!0)},o(u){E(t.$$.fragment,u),h=!1},d(u){u&&J(e),j(t)}}}function Zd(i){let e=i[2]+"",t;return{c(){t=We(e)},m(n,h){Z(n,t,h)},p:we,d(n){n&&J(t)}}}function $d(i){let e,t;return e=new rn({props:{$$slots:{default:[Zd]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p(n,h){const u={};h&32&&(u.$$scope={dirty:h,ctx:n}),e.$set(u)},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function eg(i){let e=i[2]+"",t;return{c(){t=We(e)},m(n,h){Z(n,t,h)},p:we,d(n){n&&J(t)}}}function tg(i){let e,t;return e=new rn({props:{$$slots:{default:[eg]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p(n,h){const u={};h&32&&(u.$$scope={dirty:h,ctx:n}),e.$set(u)},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function vo(i){let e,t,n,h;const u=[Qd,Jd],p=[];function f(r,c){return r[4]%2==0?0:1}return e=f(i),t=p[e]=u[e](i),{c(){t.c(),n=yt()},m(r,c){p[e].m(r,c),Z(r,n,c),h=!0},p(r,c){t.p(r,c)},i(r){h||(x(t),h=!0)},o(r){E(t),h=!1},d(r){r&&J(n),p[e].d(r)}}}function ig(i){let e,t;return e=new it({props:{name:"send"}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p:we,i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function ng(i){let e,t,n,h,u,p,f,r,c,d,s,a,o=bn(i[0]),g=[];for(let l=0;l<o.length;l+=1)g[l]=vo(po(i,o,l));const m=l=>E(g[l],1,1,()=>{g[l]=null});return p=new Fu({props:{borderRounded:!0,size:"lg",placeholder:"Message..."}}),c=new Ye({props:{color:"primary",size:"md",$$slots:{default:[ig]},$$scope:{ctx:i}}}),{c(){e=ge("div"),t=ge("div");for(let l=0;l<g.length;l+=1)g[l].c();n=ue(),h=ge("form"),u=ge("div"),B(p.$$.fragment),f=ue(),r=ge("div"),B(c.$$.fragment),Q(t,"class","flex flex-col-reverse"),Q(e,"class","flex-grow overflow-y-auto mb-4"),Q(u,"class","flex-grow"),Q(h,"class","flex items-center justify-between space-x-2")},m(l,v){Z(l,e,v),se(e,t);for(let _=0;_<g.length;_+=1)g[_]&&g[_].m(t,null);Z(l,n,v),Z(l,h,v),se(h,u),I(p,u,null),se(h,f),se(h,r),I(c,r,null),d=!0,s||(a=Fe(h,"submit",Nt(i[1])),s=!0)},p(l,[v]){if(v&1){o=bn(l[0]);let b;for(b=0;b<o.length;b+=1){const y=po(l,o,b);g[b]?(g[b].p(y,v),x(g[b],1)):(g[b]=vo(y),g[b].c(),x(g[b],1),g[b].m(t,null))}for(Ne(),b=o.length;b<g.length;b+=1)m(b);Xe()}const _={};v&32&&(_.$$scope={dirty:v,ctx:l}),c.$set(_)},i(l){if(!d){for(let v=0;v<o.length;v+=1)x(g[v]);x(p.$$.fragment,l),x(c.$$.fragment,l),d=!0}},o(l){g=g.filter(Boolean);for(let v=0;v<g.length;v+=1)E(g[v]);E(p.$$.fragment,l),E(c.$$.fragment,l),d=!1},d(l){l&&(J(e),J(n),J(h)),$o(g,l),j(p),j(c),s=!1,a()}}}function rg(i){return[["Lorem, ipsum dolor sit amet consectetur adipisicing elit. Reiciendis, ad?","Lorem, ipsum dolor sit amet consectetur adipisicing elit. Reiciendis, ad?","Lorem, ipsum dolor sit amet consectetur adipisicing elit. Reiciendis, ad?","Lorem, ipsum dolor sit amet consectetur adipisicing elit. Reiciendis, ad?","Lorem, ipsum dolor sit amet consectetur adipisicing elit. Reiciendis, ad?","Lorem, ipsum dolor sit amet consectetur adipisicing elit. Reiciendis, ad?","Lorem, ipsum dolor sit amet consectetur adipisicing elit. Reiciendis, ad?","Lorem, ipsum dolor sit amet consectetur adipisicing elit. Reiciendis, ad?","Lorem, ipsum dolor sit amet consectetur adipisicing elit. Reiciendis, ad?"],()=>console.log("test")]}class Ka extends Ie{constructor(e){super(),Re(this,e,rg,ng,Me,{})}}function sg(i){let e;return{c(){e=We("Chat")},m(t,n){Z(t,e,n)},d(t){t&&J(e)}}}function og(i){let e,t;return e=new it({props:{name:"x"}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p:we,i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function ag(i){let e,t,n,h,u,p,f,r;return t=new He({props:{textColor:"primary",fontWeight:"bolder",fontSize:"1",$$slots:{default:[sg]},$$scope:{ctx:i}}}),u=new Ye({props:{$$slots:{default:[og]},$$scope:{ctx:i}}}),u.$on("click",i[0]),f=new ht({props:{text:"Close"}}),{c(){e=ge("div"),B(t.$$.fragment),n=ue(),h=ge("div"),B(u.$$.fragment),p=ue(),B(f.$$.fragment),Q(e,"class","flex justify-between items-center")},m(c,d){Z(c,e,d),I(t,e,null),se(e,n),se(e,h),I(u,h,null),se(h,p),I(f,h,null),r=!0},p(c,d){const s={};d&4&&(s.$$scope={dirty:d,ctx:c}),t.$set(s);const a={};d&4&&(a.$$scope={dirty:d,ctx:c}),u.$set(a)},i(c){r||(x(t.$$.fragment,c),x(u.$$.fragment,c),x(f.$$.fragment,c),r=!0)},o(c){E(t.$$.fragment,c),E(u.$$.fragment,c),E(f.$$.fragment,c),r=!1},d(c){c&&J(e),j(t),j(u),j(f)}}}function lg(i){let e,t;return e=new Rn({props:{class:"w-full",$$slots:{default:[ag]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p(n,h){const u={};h&4&&(u.$$scope={dirty:h,ctx:n}),e.$set(u)},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function fg(i){let e,t;return e=new Ka({}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function cg(i){let e,t,n,h;return e=new Fn({props:{$$slots:{default:[lg]},$$scope:{ctx:i}}}),n=new rn({props:{class:"h-5/6 bg-gray-200 flex flex-col rounded-b-2xl",$$slots:{default:[fg]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=ue(),B(n.$$.fragment)},m(u,p){I(e,u,p),Z(u,t,p),I(n,u,p),h=!0},p(u,p){const f={};p&4&&(f.$$scope={dirty:p,ctx:u}),e.$set(f);const r={};p&4&&(r.$$scope={dirty:p,ctx:u}),n.$set(r)},i(u){h||(x(e.$$.fragment,u),x(n.$$.fragment,u),h=!0)},o(u){E(e.$$.fragment,u),E(n.$$.fragment,u),h=!1},d(u){u&&J(t),j(e,u),j(n,u)}}}function ug(i){let e,t;return e=new nn({props:{class:"m-4 h-full flex-grow !rounded-2xl",$$slots:{default:[cg]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p(n,[h]){const u={};h&4&&(u.$$scope={dirty:h,ctx:n}),e.$set(u)},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function hg(i){const e=Li();return[()=>{e("hideChat")}]}class dg extends Ie{constructor(e){super(),Re(this,e,hg,ug,Me,{})}}function gg(i){let e,t;return e=new it({props:{name:"clock-hour-4"}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p:we,i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function mg(i){let e;return{c(){e=We("This modal is placed in the center of the screen.")},m(t,n){Z(t,e,n)},d(t){t&&J(e)}}}function pg(i){let e;return{c(){e=We("Start")},m(t,n){Z(t,e,n)},d(t){t&&J(e)}}}function vg(i){let e;return{c(){e=We("Cancel")},m(t,n){Z(t,e,n)},d(t){t&&J(e)}}}function _g(i){let e,t,n,h;return e=new Ye({props:{color:"green",$$slots:{default:[pg]},$$scope:{ctx:i}}}),e.$on("click",i[2]),n=new Ye({props:{color:"red",$$slots:{default:[vg]},$$scope:{ctx:i}}}),n.$on("click",i[3]),{c(){B(e.$$.fragment),t=ue(),B(n.$$.fragment)},m(u,p){I(e,u,p),Z(u,t,p),I(n,u,p),h=!0},p(u,p){const f={};p&32&&(f.$$scope={dirty:p,ctx:u}),e.$set(f);const r={};p&32&&(r.$$scope={dirty:p,ctx:u}),n.$set(r)},i(u){h||(x(e.$$.fragment,u),x(n.$$.fragment,u),h=!0)},o(u){E(e.$$.fragment,u),E(n.$$.fragment,u),h=!1},d(u){u&&J(t),j(e,u),j(n,u)}}}function bg(i){let e,t,n,h;return e=new td({props:{$$slots:{default:[mg]},$$scope:{ctx:i}}}),n=new od({props:{$$slots:{default:[_g]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=ue(),B(n.$$.fragment)},m(u,p){I(e,u,p),Z(u,t,p),I(n,u,p),h=!0},p(u,p){const f={};p&32&&(f.$$scope={dirty:p,ctx:u}),e.$set(f);const r={};p&33&&(r.$$scope={dirty:p,ctx:u}),n.$set(r)},i(u){h||(x(e.$$.fragment,u),x(n.$$.fragment,u),h=!0)},o(u){E(e.$$.fragment,u),E(n.$$.fragment,u),h=!1},d(u){u&&J(t),j(e,u),j(n,u)}}}function yg(i){let e,t,n,h,u,p,f;e=new Ye({props:{color:"primary",class:"!rounded-full md:!w-14 md:!h-14",$$slots:{default:[gg]},$$scope:{ctx:i}}}),e.$on("click",i[1]),n=new ht({props:{text:"Start Timer"}});function r(d){i[4](d)}let c={title:"Set Timer",placement:"center",$$slots:{default:[bg]},$$scope:{ctx:i}};return i[0]!==void 0&&(c.show=i[0]),u=new Jh({props:c}),Le.push(()=>Ze(u,"show",r)),{c(){B(e.$$.fragment),t=ue(),B(n.$$.fragment),h=ue(),B(u.$$.fragment)},m(d,s){I(e,d,s),Z(d,t,s),I(n,d,s),Z(d,h,s),I(u,d,s),f=!0},p(d,[s]){const a={};s&32&&(a.$$scope={dirty:s,ctx:d}),e.$set(a);const o={};s&33&&(o.$$scope={dirty:s,ctx:d}),!p&&s&1&&(p=!0,o.show=d[0],ct(()=>p=!1)),u.$set(o)},i(d){f||(x(e.$$.fragment,d),x(n.$$.fragment,d),x(u.$$.fragment,d),f=!0)},o(d){E(e.$$.fragment,d),E(n.$$.fragment,d),E(u.$$.fragment,d),f=!1},d(d){d&&(J(t),J(h)),j(e,d),j(n,d),j(u,d)}}}function Cg(i,e,t){let n=!1;const h=()=>t(0,n=!0),u=()=>t(0,n=!1),p=()=>t(0,n=!1);function f(r){n=r,t(0,n)}return[n,h,u,p,f]}class Sg extends Ie{constructor(e){super(),Re(this,e,Cg,yg,Me,{})}}function wg(i){let e,t;return e=new it({props:{name:"mood-smile"}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p:we,i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Tg(i){let e;return{c(){e=We("")},m(t,n){Z(t,e,n)},d(t){t&&J(e)}}}function xg(i){let e;return{c(){e=We("")},m(t,n){Z(t,e,n)},d(t){t&&J(e)}}}function Og(i){let e;return{c(){e=We("")},m(t,n){Z(t,e,n)},d(t){t&&J(e)}}}function kg(i){let e;return{c(){e=We("")},m(t,n){Z(t,e,n)},d(t){t&&J(e)}}}function Pg(i){let e,t,n,h,u,p,f,r,c;return t=new Ye({props:{size:"lg",class:"text-4xl xl:text-5xl",$$slots:{default:[Tg]},$$scope:{ctx:i}}}),h=new Ye({props:{size:"lg",class:"text-4xl xl:text-5xl",$$slots:{default:[xg]},$$scope:{ctx:i}}}),p=new Ye({props:{size:"lg",class:"text-4xl xl:text-5xl",$$slots:{default:[Og]},$$scope:{ctx:i}}}),r=new Ye({props:{size:"lg",class:"text-4xl xl:text-5xl",$$slots:{default:[kg]},$$scope:{ctx:i}}}),{c(){e=ge("div"),B(t.$$.fragment),n=ue(),B(h.$$.fragment),u=ue(),B(p.$$.fragment),f=ue(),B(r.$$.fragment),Q(e,"class","flex flex-col space-y-4")},m(d,s){Z(d,e,s),I(t,e,null),se(e,n),I(h,e,null),se(e,u),I(p,e,null),se(e,f),I(r,e,null),c=!0},p(d,s){const a={};s&1&&(a.$$scope={dirty:s,ctx:d}),t.$set(a);const o={};s&1&&(o.$$scope={dirty:s,ctx:d}),h.$set(o);const g={};s&1&&(g.$$scope={dirty:s,ctx:d}),p.$set(g);const m={};s&1&&(m.$$scope={dirty:s,ctx:d}),r.$set(m)},i(d){c||(x(t.$$.fragment,d),x(h.$$.fragment,d),x(p.$$.fragment,d),x(r.$$.fragment,d),c=!0)},o(d){E(t.$$.fragment,d),E(h.$$.fragment,d),E(p.$$.fragment,d),E(r.$$.fragment,d),c=!1},d(d){d&&J(e),j(t),j(h),j(p),j(r)}}}function Eg(i){let e,t;return e=new qa({props:{$$slots:{default:[Pg]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p(n,h){const u={};h&1&&(u.$$scope={dirty:h,ctx:n}),e.$set(u)},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Ag(i){let e,t,n,h;return e=new Ye({props:{color:"warning",class:"!rounded-full md:!w-14 md:!h-14",$$slots:{default:[wg]},$$scope:{ctx:i}}}),n=new Ga({props:{trigger:"hover",placement:"top",$$slots:{default:[Eg]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=ue(),B(n.$$.fragment)},m(u,p){I(e,u,p),Z(u,t,p),I(n,u,p),h=!0},p(u,[p]){const f={};p&1&&(f.$$scope={dirty:p,ctx:u}),e.$set(f);const r={};p&1&&(r.$$scope={dirty:p,ctx:u}),n.$set(r)},i(u){h||(x(e.$$.fragment,u),x(n.$$.fragment,u),h=!0)},o(u){E(e.$$.fragment,u),E(n.$$.fragment,u),h=!1},d(u){u&&J(t),j(e,u),j(n,u)}}}class Mg extends Ie{constructor(e){super(),Re(this,e,null,Ag,Me,{})}}const Qt=Lt(!1),ri=Lt(!1),Ji=Lt(!1),Kt=Lt(!1),Dg=()=>{ri.set(!0),Ji.set(!0),Qt.set(!0)},Lg=()=>{Qt.set(!1),Ji.set(!1),ri.set(!1)},Fg=()=>{Kt.set(!0),Qt.set(!0)},Rg=()=>{Kt.set(!1),Qt.set(!1)};function Ig(i){const e=i-1;return e*e*e+1}function xt(i,{delay:e=0,duration:t=400,easing:n=Ig,axis:h="y"}={}){const u=getComputedStyle(i),p=+u.opacity,f=h==="y"?"height":"width",r=parseFloat(u[f]),c=h==="y"?["top","bottom"]:["left","right"],d=c.map(v=>`${v[0].toUpperCase()}${v.slice(1)}`),s=parseFloat(u[`padding${d[0]}`]),a=parseFloat(u[`padding${d[1]}`]),o=parseFloat(u[`margin${d[0]}`]),g=parseFloat(u[`margin${d[1]}`]),m=parseFloat(u[`border${d[0]}Width`]),l=parseFloat(u[`border${d[1]}Width`]);return{delay:e,duration:t,easing:n,css:v=>`overflow: hidden;opacity: ${Math.min(v*20,1)*p};${f}: ${v*r}px;padding-${c[0]}: ${v*s}px;padding-${c[1]}: ${v*a}px;margin-${c[0]}: ${v*o}px;margin-${c[1]}: ${v*g}px;border-${c[0]}-width: ${v*m}px;border-${c[1]}-width: ${v*l}px;`}}function jg(i){let e;return{c(){e=We("Call")},m(t,n){Z(t,e,n)},d(t){t&&J(e)}}}function Bg(i){let e,t;return e=new it({props:{name:"message-circle-2"}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p:we,i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Ng(i){let e,t;return e=new it({props:{name:"paperclip"}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p:we,i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function _o(i){let e,t,n,h;return e=new Ye({props:{$$slots:{default:[Xg]},$$scope:{ctx:i}}}),e.$on("click",i[14]),n=new ht({props:{text:"Show Chat"}}),{c(){B(e.$$.fragment),t=ue(),B(n.$$.fragment)},m(u,p){I(e,u,p),Z(u,t,p),I(n,u,p),h=!0},p(u,p){const f={};p&8388608&&(f.$$scope={dirty:p,ctx:u}),e.$set(f)},i(u){h||(x(e.$$.fragment,u),x(n.$$.fragment,u),h=!0)},o(u){E(e.$$.fragment,u),E(n.$$.fragment,u),h=!1},d(u){u&&J(t),j(e,u),j(n,u)}}}function Xg(i){let e,t;return e=new it({props:{name:"message-circle-2"}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p:we,i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function bo(i){let e,t,n,h;return e=new Ye({props:{$$slots:{default:[zg]},$$scope:{ctx:i}}}),e.$on("click",i[15]),n=new ht({props:{text:"Show Whiteboard"}}),{c(){B(e.$$.fragment),t=ue(),B(n.$$.fragment)},m(u,p){I(e,u,p),Z(u,t,p),I(n,u,p),h=!0},p(u,p){const f={};p&8388608&&(f.$$scope={dirty:p,ctx:u}),e.$set(f)},i(u){h||(x(e.$$.fragment,u),x(n.$$.fragment,u),h=!0)},o(u){E(e.$$.fragment,u),E(n.$$.fragment,u),h=!1},d(u){u&&J(t),j(e,u),j(n,u)}}}function zg(i){let e,t;return e=new it({props:{name:"presentation"}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p:we,i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Wg(i){let e,t,n,h;return e=new Ye({props:{class:"hidden xl:block",$$slots:{default:[Vg]},$$scope:{ctx:i}}}),e.$on("click",i[12]),n=new ht({props:{text:"Minimize"}}),{c(){B(e.$$.fragment),t=ue(),B(n.$$.fragment)},m(u,p){I(e,u,p),Z(u,t,p),I(n,u,p),h=!0},p(u,p){const f={};p&8388608&&(f.$$scope={dirty:p,ctx:u}),e.$set(f)},i(u){h||(x(e.$$.fragment,u),x(n.$$.fragment,u),h=!0)},o(u){E(e.$$.fragment,u),E(n.$$.fragment,u),h=!1},d(u){u&&J(t),j(e,u),j(n,u)}}}function Hg(i){let e,t,n,h;return e=new Ye({props:{class:"hidden xl:block",$$slots:{default:[Yg]},$$scope:{ctx:i}}}),e.$on("click",i[11]),n=new ht({props:{text:"Maximize"}}),{c(){B(e.$$.fragment),t=ue(),B(n.$$.fragment)},m(u,p){I(e,u,p),Z(u,t,p),I(n,u,p),h=!0},p(u,p){const f={};p&8388608&&(f.$$scope={dirty:p,ctx:u}),e.$set(f)},i(u){h||(x(e.$$.fragment,u),x(n.$$.fragment,u),h=!0)},o(u){E(e.$$.fragment,u),E(n.$$.fragment,u),h=!1},d(u){u&&J(t),j(e,u),j(n,u)}}}function Vg(i){let e,t;return e=new it({props:{name:"arrows-minimize"}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p:we,i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Yg(i){let e,t;return e=new it({props:{name:"maximize"}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p:we,i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Ug(i){let e,t,n,h,u,p,f,r,c,d,s,a,o,g,m,l,v,_;t=new He({props:{textColor:"primary",fontWeight:"bolder",fontSize:"1",$$slots:{default:[jg]},$$scope:{ctx:i}}}),u=new Ye({props:{$$slots:{default:[Bg]},$$scope:{ctx:i}}}),u.$on("click",i[13]),f=new ht({props:{text:"Show Chat"}}),c=new Ye({props:{$$slots:{default:[Ng]},$$scope:{ctx:i}}}),s=new ht({props:{text:"Show Files"}});let b=i[6]&&_o(i),y=i[9]&&bo(i);const C=[Hg,Wg],S=[];function w(O,A){return O[7]?1:0}return l=w(i),v=S[l]=C[l](i),{c(){e=ge("div"),B(t.$$.fragment),n=ue(),h=ge("div"),B(u.$$.fragment),p=ue(),B(f.$$.fragment),r=ue(),B(c.$$.fragment),d=ue(),B(s.$$.fragment),a=ue(),o=ge("div"),b&&b.c(),g=ue(),y&&y.c(),m=ue(),v.c(),Q(h,"class","block space-x-2 xl:hidden"),Q(o,"class","hidden space-x-2 xl:block"),Q(e,"class","flex justify-between items-center")},m(O,A){Z(O,e,A),I(t,e,null),se(e,n),se(e,h),I(u,h,null),se(h,p),I(f,h,null),se(h,r),I(c,h,null),se(h,d),I(s,h,null),se(e,a),se(e,o),b&&b.m(o,null),se(o,g),y&&y.m(o,null),se(o,m),S[l].m(o,null),_=!0},p(O,A){const N={};A&8388608&&(N.$$scope={dirty:A,ctx:O}),t.$set(N);const W={};A&8388608&&(W.$$scope={dirty:A,ctx:O}),u.$set(W);const Y={};A&8388608&&(Y.$$scope={dirty:A,ctx:O}),c.$set(Y),O[6]?b?(b.p(O,A),A&64&&x(b,1)):(b=_o(O),b.c(),x(b,1),b.m(o,g)):b&&(Ne(),E(b,1,1,()=>{b=null}),Xe()),O[9]?y?(y.p(O,A),A&512&&x(y,1)):(y=bo(O),y.c(),x(y,1),y.m(o,m)):y&&(Ne(),E(y,1,1,()=>{y=null}),Xe());let q=l;l=w(O),l===q?S[l].p(O,A):(Ne(),E(S[q],1,1,()=>{S[q]=null}),Xe(),v=S[l],v?v.p(O,A):(v=S[l]=C[l](O),v.c()),x(v,1),v.m(o,null))},i(O){_||(x(t.$$.fragment,O),x(u.$$.fragment,O),x(f.$$.fragment,O),x(c.$$.fragment,O),x(s.$$.fragment,O),x(b),x(y),x(v),_=!0)},o(O){E(t.$$.fragment,O),E(u.$$.fragment,O),E(f.$$.fragment,O),E(c.$$.fragment,O),E(s.$$.fragment,O),E(b),E(y),E(v),_=!1},d(O){O&&J(e),j(t),j(u),j(f),j(c),j(s),b&&b.d(),y&&y.d(),S[l].d()}}}function Gg(i){let e,t;return e=new Rn({props:{class:"w-full",$$slots:{default:[Ug]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p(n,h){const u={};h&8389569&&(u.$$scope={dirty:h,ctx:n}),e.$set(u)},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function yo(i){let e,t,n;return t=new it({props:{name:"user",color:"tabler",size:"9x"}}),{c(){e=ge("div"),B(t.$$.fragment),Q(e,"class","w-full h-full absolute z-10 bg-slate-200 grid place-items-center")},m(h,u){Z(h,e,u),I(t,e,null),n=!0},i(h){n||(x(t.$$.fragment,h),n=!0)},o(h){E(t.$$.fragment,h),n=!1},d(h){h&&J(e),j(t)}}}function qg(i){let e,t,n;return e=new wu({props:{color:"danger",animated:Ja}}),{c(){B(e.$$.fragment),t=We("00:20")},m(h,u){I(e,h,u),Z(h,t,u),n=!0},p:we,i(h){n||(x(e.$$.fragment,h),n=!0)},o(h){E(e.$$.fragment,h),n=!1},d(h){h&&J(t),j(e,h)}}}function Co(i){let e,t,n,h,u,p,f,r,c,d,s,a,o,g,m,l,v,_,b,y,C,S,w,O,A,N,W,Y,q,te,re,me;return t=new Ye({props:{color:i[1]?"primary":"red",class:"!rounded-full md:!w-14 md:!h-14",$$slots:{default:[Kg]},$$scope:{ctx:i}}}),t.$on("click",i[17]),h=new ht({props:{text:(i[1]?"Off":"On")+" Mic"}}),r=new Ye({props:{color:i[2]?"primary":"red",class:"!rounded-full md:!w-14 md:!h-14",$$slots:{default:[Jg]},$$scope:{ctx:i}}}),r.$on("click",i[18]),d=new ht({props:{text:(i[2]?"Off":"On")+" Camera"}}),g=new Ye({props:{color:i[3]?"red":"primary",class:"!rounded-full md:!w-14 md:!h-14",$$slots:{default:[Qg]},$$scope:{ctx:i}}}),g.$on("click",i[19]),l=new ht({props:{text:(i[3]?"Lower":"Raise")+" Hand"}}),y=new Sg({}),O=new Mg({}),Y=new Ye({props:{color:"red",class:"!rounded-full md:!w-14 md:!h-14",$$slots:{default:[Zg]},$$scope:{ctx:i}}}),te=new ht({props:{text:"End Call"}}),{c(){e=ge("div"),B(t.$$.fragment),n=ue(),B(h.$$.fragment),p=ue(),f=ge("div"),B(r.$$.fragment),c=ue(),B(d.$$.fragment),a=ue(),o=ge("div"),B(g.$$.fragment),m=ue(),B(l.$$.fragment),_=ue(),b=ge("div"),B(y.$$.fragment),S=ue(),w=ge("div"),B(O.$$.fragment),N=ue(),W=ge("div"),B(Y.$$.fragment),q=ue(),B(te.$$.fragment)},m(G,oe){Z(G,e,oe),I(t,e,null),se(e,n),I(h,e,null),Z(G,p,oe),Z(G,f,oe),I(r,f,null),se(f,c),I(d,f,null),Z(G,a,oe),Z(G,o,oe),I(g,o,null),se(o,m),I(l,o,null),Z(G,_,oe),Z(G,b,oe),I(y,b,null),Z(G,S,oe),Z(G,w,oe),I(O,w,null),Z(G,N,oe),Z(G,W,oe),I(Y,W,null),se(W,q),I(te,W,null),me=!0},p(G,oe){const T={};oe&2&&(T.color=G[1]?"primary":"red"),oe&8388610&&(T.$$scope={dirty:oe,ctx:G}),t.$set(T);const F={};oe&2&&(F.text=(G[1]?"Off":"On")+" Mic"),h.$set(F);const L={};oe&4&&(L.color=G[2]?"primary":"red"),oe&8388612&&(L.$$scope={dirty:oe,ctx:G}),r.$set(L);const M={};oe&4&&(M.text=(G[2]?"Off":"On")+" Camera"),d.$set(M);const K={};oe&8&&(K.color=G[3]?"red":"primary"),oe&8388616&&(K.$$scope={dirty:oe,ctx:G}),g.$set(K);const k={};oe&8&&(k.text=(G[3]?"Lower":"Raise")+" Hand"),l.$set(k);const P={};oe&8388608&&(P.$$scope={dirty:oe,ctx:G}),Y.$set(P)},i(G){me||(x(t.$$.fragment,G),x(h.$$.fragment,G),G&&Ft(()=>{me&&(u||(u=Tt(e,xt,{axis:"y",delay:100},!0)),u.run(1))}),x(r.$$.fragment,G),x(d.$$.fragment,G),G&&Ft(()=>{me&&(s||(s=Tt(f,xt,{axis:"y",delay:80},!0)),s.run(1))}),x(g.$$.fragment,G),x(l.$$.fragment,G),G&&Ft(()=>{me&&(v||(v=Tt(o,xt,{axis:"y",delay:60},!0)),v.run(1))}),x(y.$$.fragment,G),G&&Ft(()=>{me&&(C||(C=Tt(b,xt,{axis:"y",delay:40},!0)),C.run(1))}),x(O.$$.fragment,G),G&&Ft(()=>{me&&(A||(A=Tt(w,xt,{axis:"y",delay:20},!0)),A.run(1))}),x(Y.$$.fragment,G),x(te.$$.fragment,G),G&&Ft(()=>{me&&(re||(re=Tt(W,xt,{axis:"y"},!0)),re.run(1))}),me=!0)},o(G){E(t.$$.fragment,G),E(h.$$.fragment,G),G&&(u||(u=Tt(e,xt,{axis:"y",delay:100},!1)),u.run(0)),E(r.$$.fragment,G),E(d.$$.fragment,G),G&&(s||(s=Tt(f,xt,{axis:"y",delay:80},!1)),s.run(0)),E(g.$$.fragment,G),E(l.$$.fragment,G),G&&(v||(v=Tt(o,xt,{axis:"y",delay:60},!1)),v.run(0)),E(y.$$.fragment,G),G&&(C||(C=Tt(b,xt,{axis:"y",delay:40},!1)),C.run(0)),E(O.$$.fragment,G),G&&(A||(A=Tt(w,xt,{axis:"y",delay:20},!1)),A.run(0)),E(Y.$$.fragment,G),E(te.$$.fragment,G),G&&(re||(re=Tt(W,xt,{axis:"y"},!1)),re.run(0)),me=!1},d(G){G&&(J(e),J(p),J(f),J(a),J(o),J(_),J(b),J(S),J(w),J(N),J(W)),j(t),j(h),G&&u&&u.end(),j(r),j(d),G&&s&&s.end(),j(g),j(l),G&&v&&v.end(),j(y),G&&C&&C.end(),j(O),G&&A&&A.end(),j(Y),j(te),G&&re&&re.end()}}}function Kg(i){let e,t;return e=new it({props:{name:i[1]?"microphone":"microphone-off"}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p(n,h){const u={};h&2&&(u.name=n[1]?"microphone":"microphone-off"),e.$set(u)},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Jg(i){let e,t;return e=new it({props:{name:i[2]?"video":"video-off"}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p(n,h){const u={};h&4&&(u.name=n[2]?"video":"video-off"),e.$set(u)},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Qg(i){let e,t;return e=new it({props:{name:i[3]?"hand-off":"hand-stop"}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p(n,h){const u={};h&8&&(u.name=n[3]?"hand-off":"hand-stop"),e.$set(u)},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Zg(i){let e,t;return e=new it({props:{name:"phone-off"}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p:we,i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function $g(i){let e,t;return e=new it({props:{name:i[4]?"menu-2":"x"}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p(n,h){const u={};h&16&&(u.name=n[4]?"menu-2":"x"),e.$set(u)},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function em(i){let e;return{c(){e=We("JD")},m(t,n){Z(t,e,n)},d(t){t&&J(e)}}}function tm(i){let e;return{c(){e=We("JD")},m(t,n){Z(t,e,n)},d(t){t&&J(e)}}}function im(i){let e;return{c(){e=We("JD")},m(t,n){Z(t,e,n)},d(t){t&&J(e)}}}function nm(i){let e;return{c(){e=We("JD")},m(t,n){Z(t,e,n)},d(t){t&&J(e)}}}function rm(i){let e,t,n,h,u,p,f,r,c,d,s,a,o,g,m,l,v,_,b,y,C,S,w,O,A,N,W,Y,q,te,re=!i[2]&&yo();d=new Hd({props:{color:"danger",$$slots:{default:[qg]},$$scope:{ctx:i}}});let me=Ja,G=!i[4]&&Co(i);return l=new Ye({props:{color:"purple",class:"!rounded-full md:!w-14 md:!h-14",$$slots:{default:[$g]},$$scope:{ctx:i}}}),l.$on("click",i[20]),y=new an({props:{shape:"circle",color:"azure",class:"!w-20 !h-20 md:!w-32 md:!h-32 !text-3xl",$$slots:{default:[em]},$$scope:{ctx:i}}}),w=new an({props:{shape:"circle",color:"azure",class:"!w-20 !h-20 md:!w-32 md:!h-32 !text-3xl",$$slots:{default:[tm]},$$scope:{ctx:i}}}),N=new an({props:{shape:"circle",color:"azure",class:"!w-20 !h-20 md:!w-32 md:!h-32 !text-3xl",$$slots:{default:[im]},$$scope:{ctx:i}}}),q=new an({props:{shape:"circle",color:"azure",class:"!w-20 !h-20 md:!w-32 md:!h-32 !text-3xl",$$slots:{default:[nm]},$$scope:{ctx:i}}}),{c(){e=ge("div"),t=ge("video"),h=ue(),re&&re.c(),u=ue(),p=ge("div"),f=ge("div"),r=ge("div"),c=ge("div"),B(d.$$.fragment),s=ue(),a=ue(),o=ge("div"),G&&G.c(),g=ue(),m=ge("div"),B(l.$$.fragment),v=ue(),_=ge("div"),b=ge("div"),B(y.$$.fragment),C=ue(),S=ge("div"),B(w.$$.fragment),O=ue(),A=ge("div"),B(N.$$.fragment),W=ue(),Y=ge("div"),B(q.$$.fragment),Q(t,"class",n=bs(i[7]?"object-scale-down":"object-cover")+" svelte-1ssm3a8"),t.autoplay=!0,t.muted=!0,Q(e,"class","h-full w-full fill absolute rounded-b-2xl svelte-1ssm3a8"),Q(o,"class","flex-grow mt-3 flex flex-col space-y-4 justify-end"),Q(r,"class","flex flex-col flex-grow"),Q(_,"class","flex flex-col justify-between"),Q(f,"class","flex-grow flex"),Q(p,"class","absolute z-20 h-full w-full flex flex-col p-4")},m(oe,T){Z(oe,e,T),se(e,t),i[16](t),se(e,h),re&&re.m(e,null),Z(oe,u,T),Z(oe,p,T),se(p,f),se(f,r),se(r,c),I(d,c,null),se(c,s),se(r,a),se(r,o),G&&G.m(o,null),se(o,g),se(o,m),I(l,m,null),se(f,v),se(f,_),se(_,b),I(y,b,null),se(_,C),se(_,S),I(w,S,null),se(_,O),se(_,A),I(N,A,null),se(_,W),se(_,Y),I(q,Y,null),te=!0},p(oe,T){(!te||T&128&&n!==(n=bs(oe[7]?"object-scale-down":"object-cover")+" svelte-1ssm3a8"))&&Q(t,"class",n),oe[2]?re&&(Ne(),E(re,1,1,()=>{re=null}),Xe()):re?T&4&&x(re,1):(re=yo(),re.c(),x(re,1),re.m(e,null));const F={};T&8388608&&(F.$$scope={dirty:T,ctx:oe}),d.$set(F),oe[4]?G&&(Ne(),E(G,1,1,()=>{G=null}),Xe()):G?(G.p(oe,T),T&16&&x(G,1)):(G=Co(oe),G.c(),x(G,1),G.m(o,g));const L={};T&8388624&&(L.$$scope={dirty:T,ctx:oe}),l.$set(L);const M={};T&8388608&&(M.$$scope={dirty:T,ctx:oe}),y.$set(M);const K={};T&8388608&&(K.$$scope={dirty:T,ctx:oe}),w.$set(K);const k={};T&8388608&&(k.$$scope={dirty:T,ctx:oe}),N.$set(k);const P={};T&8388608&&(P.$$scope={dirty:T,ctx:oe}),q.$set(P)},i(oe){te||(x(re),x(d.$$.fragment,oe),x(me),x(G),x(l.$$.fragment,oe),x(y.$$.fragment,oe),x(w.$$.fragment,oe),x(N.$$.fragment,oe),x(q.$$.fragment,oe),te=!0)},o(oe){E(re),E(d.$$.fragment,oe),E(me),E(G),E(l.$$.fragment,oe),E(y.$$.fragment,oe),E(w.$$.fragment,oe),E(N.$$.fragment,oe),E(q.$$.fragment,oe),te=!1},d(oe){oe&&(J(e),J(u),J(p)),i[16](null),re&&re.d(),j(d),G&&G.d(),j(l),j(y),j(w),j(N),j(q)}}}function sm(i){let e,t,n,h;return e=new Fn({props:{$$slots:{default:[Gg]},$$scope:{ctx:i}}}),n=new rn({props:{class:"h-5/6 bg-gray-200 !p-0 relative rounded-b-2xl",$$slots:{default:[rm]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=ue(),B(n.$$.fragment)},m(u,p){I(e,u,p),Z(u,t,p),I(n,u,p),h=!0},p(u,p){const f={};p&8389569&&(f.$$scope={dirty:p,ctx:u}),e.$set(f);const r={};p&8388798&&(r.$$scope={dirty:p,ctx:u}),n.$set(r)},i(u){h||(x(e.$$.fragment,u),x(n.$$.fragment,u),h=!0)},o(u){E(e.$$.fragment,u),E(n.$$.fragment,u),h=!1},d(u){u&&J(t),j(e,u),j(n,u)}}}function om(i){let e,t;return e=new Ka({}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function am(i){let e,t,n,h;return e=new xd({props:{title:"Offcanvas Title"}}),n=new vd({props:{class:"h-100v flex flex-col p-4",$$slots:{default:[om]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=ue(),B(n.$$.fragment)},m(u,p){I(e,u,p),Z(u,t,p),I(n,u,p),h=!0},p(u,p){const f={};p&8388608&&(f.$$scope={dirty:p,ctx:u}),n.$set(f)},i(u){h||(x(e.$$.fragment,u),x(n.$$.fragment,u),h=!0)},o(u){E(e.$$.fragment,u),E(n.$$.fragment,u),h=!1},d(u){u&&J(t),j(e,u),j(n,u)}}}function lm(i){let e,t,n,h,u;e=new nn({props:{class:"m-4 h-full flex-grow !rounded-2xl",$$slots:{default:[sm]},$$scope:{ctx:i}}});function p(r){i[21](r)}let f={autoClose:!0,backdrop:!0,$$slots:{default:[am]},$$scope:{ctx:i}};return i[0]!==void 0&&(f.show=i[0]),n=new hd({props:f}),Le.push(()=>Ze(n,"show",p)),{c(){B(e.$$.fragment),t=ue(),B(n.$$.fragment)},m(r,c){I(e,r,c),Z(r,t,c),I(n,r,c),u=!0},p(r,[c]){const d={};c&8389631&&(d.$$scope={dirty:c,ctx:r}),e.$set(d);const s={};c&8388608&&(s.$$scope={dirty:c,ctx:r}),!h&&c&1&&(h=!0,s.show=r[0],ct(()=>h=!1)),n.$set(s)},i(r){u||(x(e.$$.fragment,r),x(n.$$.fragment,r),u=!0)},o(r){E(e.$$.fragment,r),E(n.$$.fragment,r),u=!1},d(r){r&&J(t),j(e,r),j(n,r)}}}let Ja=!1;function fm(i,e,t){let n,h,u,p;dt(i,Qt,N=>t(6,n=N)),dt(i,ri,N=>t(7,h=N)),dt(i,Kt,N=>t(8,u=N)),dt(i,Ji,N=>t(9,p=N));let f=!1,r=!0,c=!1,d=!1,s=!1,a;const o=N=>{switch(N){case"mic":t(1,r=!r);break;case"video":t(2,c=!c);break;case"hand":t(3,d=!d);break}},g=Li(),m=()=>g("maximize"),l=()=>g("minimize"),v=()=>t(0,f=!f),_=()=>{kt(Qt,n=!1,n),kt(ri,h=!1,h),kt(Kt,u=!1,u)},b=()=>{kt(Ji,p=!1,p),kt(ri,h=!1,h),kt(Kt,u=!1,u),n&&kt(Kt,u=!0,u)};function y(N){Le[N?"unshift":"push"](()=>{a=N,t(5,a)})}const C=()=>o("mic"),S=()=>o("video"),w=()=>o("hand"),O=()=>t(4,s=!s);function A(N){f=N,t(0,f)}return[f,r,c,d,s,a,n,h,u,p,o,m,l,v,_,b,y,C,S,w,O,A]}class cm extends Ie{constructor(e){super(),Re(this,e,fm,lm,Me,{})}}var qt={};const um={},hm=Object.freeze(Object.defineProperty({__proto__:null,default:um},Symbol.toStringTag,{value:"Module"})),Dr=af(hm);(function(i){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var e=e||{version:"5.3.0"};if(i.fabric=e,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?e.document=document:e.document=document.implementation.createHTMLDocument(""),e.window=window;else{var t=Dr,n=new t.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;e.document=n.document,e.jsdomImplForWrapper=Dr.implForWrapper,e.nodeCanvas=Dr.Canvas,e.window=n,DOMParser=e.window.DOMParser}e.isTouchSupported="ontouchstart"in e.window||"ontouchstart"in e.document||e.window&&e.window.navigator&&e.window.navigator.maxTouchPoints>0,e.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",e.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],e.DPI=96,e.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",e.commaWsp="(?:\\s+,?\\s*|,\\s*)",e.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,e.reNonWord=/[ \n\.,;!\?\-]/,e.fontPaths={},e.iMatrix=[1,0,0,1,0,0],e.svgNS="http://www.w3.org/2000/svg",e.perfLimitSizeTotal=2097152,e.maxCacheSideLimit=4096,e.minCacheSideLimit=256,e.charWidthsCache={},e.textureSize=2048,e.disableStyleCopyPaste=!1,e.enableGLFiltering=!0,e.devicePixelRatio=e.window.devicePixelRatio||e.window.webkitDevicePixelRatio||e.window.mozDevicePixelRatio||1,e.browserShadowBlurConstant=1,e.arcToSegmentsCache={},e.boundsOfCurveCache={},e.cachesBoundsOfCurve=!0,e.forceGLPutImageData=!1,e.initFilterBackend=function(){if(e.enableGLFiltering&&e.isWebglSupported&&e.isWebglSupported(e.textureSize))return console.log("max texture size: "+e.maxTextureSize),new e.WebglFilterBackend({tileSize:e.textureSize});if(e.Canvas2dFilterBackend)return new e.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=e),function(){function f(o,g){if(this.__eventListeners[o]){var m=this.__eventListeners[o];g?m[m.indexOf(g)]=!1:e.util.array.fill(m,!1)}}function r(o,g){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var m in o)this.on(m,o[m]);else this.__eventListeners[o]||(this.__eventListeners[o]=[]),this.__eventListeners[o].push(g);return this}function c(o,g){var m=(function(){g.apply(this,arguments),this.off(o,m)}).bind(this);this.on(o,m)}function d(o,g){if(arguments.length===1)for(var m in o)c.call(this,m,o[m]);else c.call(this,o,g);return this}function s(o,g){if(!this.__eventListeners)return this;if(arguments.length===0)for(o in this.__eventListeners)f.call(this,o);else if(arguments.length===1&&typeof arguments[0]=="object")for(var m in o)f.call(this,m,o[m]);else f.call(this,o,g);return this}function a(o,g){if(!this.__eventListeners)return this;var m=this.__eventListeners[o];if(!m)return this;for(var l=0,v=m.length;l<v;l++)m[l]&&m[l].call(this,g||{});return this.__eventListeners[o]=m.filter(function(_){return _!==!1}),this}e.Observable={fire:a,on:r,once:d,off:s}}(),e.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var f=0,r=arguments.length;f<r;f++)this._onObjectAdded(arguments[f]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(f,r,c){var d=this._objects;return c?d[r]=f:d.splice(r,0,f),this._onObjectAdded&&this._onObjectAdded(f),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var f=this._objects,r,c=!1,d=0,s=arguments.length;d<s;d++)r=f.indexOf(arguments[d]),r!==-1&&(c=!0,f.splice(r,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[d]));return this.renderOnAddRemove&&c&&this.requestRenderAll(),this},forEachObject:function(f,r){for(var c=this.getObjects(),d=0,s=c.length;d<s;d++)f.call(r,c[d],d,c);return this},getObjects:function(f){return typeof f>"u"?this._objects.concat():this._objects.filter(function(r){return r.type===f})},item:function(f){return this._objects[f]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(f,r){return this._objects.indexOf(f)>-1?!0:r?this._objects.some(function(c){return typeof c.contains=="function"&&c.contains(f,!0)}):!1},complexity:function(){return this._objects.reduce(function(f,r){return f+=r.complexity?r.complexity():0,f},0)}},e.CommonMethods={_setOptions:function(f){for(var r in f)this.set(r,f[r])},_initGradient:function(f,r){f&&f.colorStops&&!(f instanceof e.Gradient)&&this.set(r,new e.Gradient(f))},_initPattern:function(f,r,c){f&&f.source&&!(f instanceof e.Pattern)?this.set(r,new e.Pattern(f,c)):c&&c()},_setObject:function(f){for(var r in f)this._set(r,f[r])},set:function(f,r){return typeof f=="object"?this._setObject(f):this._set(f,r),this},_set:function(f,r){this[f]=r},toggle:function(f){var r=this.get(f);return typeof r=="boolean"&&this.set(f,!r),this},get:function(f){return this[f]}},function(f){var r=Math.sqrt,c=Math.atan2,d=Math.pow,s=Math.PI/180,a=Math.PI/2;e.util={cos:function(o){if(o===0)return 1;o<0&&(o=-o);var g=o/a;switch(g){case 1:case 3:return 0;case 2:return-1}return Math.cos(o)},sin:function(o){if(o===0)return 0;var g=o/a,m=1;switch(o<0&&(m=-1),g){case 1:return m;case 2:return 0;case 3:return-m}return Math.sin(o)},removeFromArray:function(o,g){var m=o.indexOf(g);return m!==-1&&o.splice(m,1),o},getRandomInt:function(o,g){return Math.floor(Math.random()*(g-o+1))+o},degreesToRadians:function(o){return o*s},radiansToDegrees:function(o){return o/s},rotatePoint:function(o,g,m){var l=new e.Point(o.x-g.x,o.y-g.y),v=e.util.rotateVector(l,m);return new e.Point(v.x,v.y).addEquals(g)},rotateVector:function(o,g){var m=e.util.sin(g),l=e.util.cos(g),v=o.x*l-o.y*m,_=o.x*m+o.y*l;return{x:v,y:_}},createVector:function(o,g){return new e.Point(g.x-o.x,g.y-o.y)},calcAngleBetweenVectors:function(o,g){return Math.acos((o.x*g.x+o.y*g.y)/(Math.hypot(o.x,o.y)*Math.hypot(g.x,g.y)))},getHatVector:function(o){return new e.Point(o.x,o.y).multiply(1/Math.hypot(o.x,o.y))},getBisector:function(o,g,m){var l=e.util.createVector(o,g),v=e.util.createVector(o,m),_=e.util.calcAngleBetweenVectors(l,v),b=e.util.calcAngleBetweenVectors(e.util.rotateVector(l,_),v),y=_*(b===0?1:-1)/2;return{vector:e.util.getHatVector(e.util.rotateVector(l,y)),angle:_}},projectStrokeOnPoints:function(o,g,m){var l=[],v=g.strokeWidth/2,_=g.strokeUniform?new e.Point(1/g.scaleX,1/g.scaleY):new e.Point(1,1),b=function(y){var C=v/Math.hypot(y.x,y.y);return new e.Point(y.x*C*_.x,y.y*C*_.y)};return o.length<=1||o.forEach(function(y,C){var S=new e.Point(y.x,y.y),w,O;C===0?(O=o[C+1],w=m?b(e.util.createVector(O,S)).addEquals(S):o[o.length-1]):C===o.length-1?(w=o[C-1],O=m?b(e.util.createVector(w,S)).addEquals(S):o[0]):(w=o[C-1],O=o[C+1]);var A=e.util.getBisector(S,w,O),N=A.vector,W=A.angle,Y,q;if(g.strokeLineJoin==="miter"&&(Y=-v/Math.sin(W/2),q=new e.Point(N.x*Y*_.x,N.y*Y*_.y),Math.hypot(q.x,q.y)/v<=g.strokeMiterLimit)){l.push(S.add(q)),l.push(S.subtract(q));return}Y=-v*Math.SQRT2,q=new e.Point(N.x*Y*_.x,N.y*Y*_.y),l.push(S.add(q)),l.push(S.subtract(q))}),l},transformPoint:function(o,g,m){return m?new e.Point(g[0]*o.x+g[2]*o.y,g[1]*o.x+g[3]*o.y):new e.Point(g[0]*o.x+g[2]*o.y+g[4],g[1]*o.x+g[3]*o.y+g[5])},makeBoundingBoxFromPoints:function(o,g){if(g)for(var m=0;m<o.length;m++)o[m]=e.util.transformPoint(o[m],g);var l=[o[0].x,o[1].x,o[2].x,o[3].x],v=e.util.array.min(l),_=e.util.array.max(l),b=_-v,y=[o[0].y,o[1].y,o[2].y,o[3].y],C=e.util.array.min(y),S=e.util.array.max(y),w=S-C;return{left:v,top:C,width:b,height:w}},invertTransform:function(o){var g=1/(o[0]*o[3]-o[1]*o[2]),m=[g*o[3],-g*o[1],-g*o[2],g*o[0]],l=e.util.transformPoint({x:o[4],y:o[5]},m,!0);return m[4]=-l.x,m[5]=-l.y,m},toFixed:function(o,g){return parseFloat(Number(o).toFixed(g))},parseUnit:function(o,g){var m=/\D{0,2}$/.exec(o),l=parseFloat(o);switch(g||(g=e.Text.DEFAULT_SVG_FONT_SIZE),m[0]){case"mm":return l*e.DPI/25.4;case"cm":return l*e.DPI/2.54;case"in":return l*e.DPI;case"pt":return l*e.DPI/72;case"pc":return l*e.DPI/72*12;case"em":return l*g;default:return l}},falseFunction:function(){return!1},getKlass:function(o,g){return o=e.util.string.camelize(o.charAt(0).toUpperCase()+o.slice(1)),e.util.resolveNamespace(g)[o]},getSvgAttributes:function(o){var g=["instantiated_by_use","style","id","class"];switch(o){case"linearGradient":g=g.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":g=g.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":g=g.concat(["offset","stop-color","stop-opacity"]);break}return g},resolveNamespace:function(o){if(!o)return e;var g=o.split("."),m=g.length,l,v=f||e.window;for(l=0;l<m;++l)v=v[g[l]];return v},loadImage:function(o,g,m,l){if(!o){g&&g.call(m,o);return}var v=e.util.createImage(),_=function(){g&&g.call(m,v,!1),v=v.onload=v.onerror=null};v.onload=_,v.onerror=function(){e.log("Error loading "+v.src),g&&g.call(m,null,!0),v=v.onload=v.onerror=null},o.indexOf("data")!==0&&l!==void 0&&l!==null&&(v.crossOrigin=l),o.substring(0,14)==="data:image/svg"&&(v.onload=null,e.util.loadImageInDom(v,_)),v.src=o},loadImageInDom:function(o,g){var m=e.document.createElement("div");m.style.width=m.style.height="1px",m.style.left=m.style.top="-100%",m.style.position="absolute",m.appendChild(o),e.document.querySelector("body").appendChild(m),o.onload=function(){g(),m.parentNode.removeChild(m),m=null}},enlivenObjects:function(o,g,m,l){o=o||[];var v=[],_=0,b=o.length;function y(){++_===b&&g&&g(v.filter(function(C){return C}))}if(!b){g&&g(v);return}o.forEach(function(C,S){if(!C||!C.type){y();return}var w=e.util.getKlass(C.type,m);w.fromObject(C,function(O,A){A||(v[S]=O),l&&l(C,O,A),y()})})},enlivenObjectEnlivables:function(o,g,m){var l=e.Object.ENLIVEN_PROPS.filter(function(v){return!!o[v]});e.util.enlivenObjects(l.map(function(v){return o[v]}),function(v){var _={};l.forEach(function(b,y){_[b]=v[y],g&&(g[b]=v[y])}),m&&m(_)})},enlivenPatterns:function(o,g){o=o||[];function m(){++v===_&&g&&g(l)}var l=[],v=0,_=o.length;if(!_){g&&g(l);return}o.forEach(function(b,y){b&&b.source?new e.Pattern(b,function(C){l[y]=C,m()}):(l[y]=b,m())})},groupSVGElements:function(o,g,m){var l;return o&&o.length===1?(typeof m<"u"&&(o[0].sourcePath=m),o[0]):(g&&(g.width&&g.height?g.centerPoint={x:g.width/2,y:g.height/2}:(delete g.width,delete g.height)),l=new e.Group(o,g),typeof m<"u"&&(l.sourcePath=m),l)},populateWithProperties:function(o,g,m){if(m&&Array.isArray(m))for(var l=0,v=m.length;l<v;l++)m[l]in o&&(g[m[l]]=o[m[l]])},createCanvasElement:function(){return e.document.createElement("canvas")},copyCanvasElement:function(o){var g=e.util.createCanvasElement();return g.width=o.width,g.height=o.height,g.getContext("2d").drawImage(o,0,0),g},toDataURL:function(o,g,m){return o.toDataURL("image/"+g,m)},createImage:function(){return e.document.createElement("img")},multiplyTransformMatrices:function(o,g,m){return[o[0]*g[0]+o[2]*g[1],o[1]*g[0]+o[3]*g[1],o[0]*g[2]+o[2]*g[3],o[1]*g[2]+o[3]*g[3],m?0:o[0]*g[4]+o[2]*g[5]+o[4],m?0:o[1]*g[4]+o[3]*g[5]+o[5]]},qrDecompose:function(o){var g=c(o[1],o[0]),m=d(o[0],2)+d(o[1],2),l=r(m),v=(o[0]*o[3]-o[2]*o[1])/l,_=c(o[0]*o[2]+o[1]*o[3],m);return{angle:g/s,scaleX:l,scaleY:v,skewX:_/s,skewY:0,translateX:o[4],translateY:o[5]}},calcRotateMatrix:function(o){if(!o.angle)return e.iMatrix.concat();var g=e.util.degreesToRadians(o.angle),m=e.util.cos(g),l=e.util.sin(g);return[m,l,-l,m,0,0]},calcDimensionsMatrix:function(o){var g=typeof o.scaleX>"u"?1:o.scaleX,m=typeof o.scaleY>"u"?1:o.scaleY,l=[o.flipX?-g:g,0,0,o.flipY?-m:m,0,0],v=e.util.multiplyTransformMatrices,_=e.util.degreesToRadians;return o.skewX&&(l=v(l,[1,0,Math.tan(_(o.skewX)),1],!0)),o.skewY&&(l=v(l,[1,Math.tan(_(o.skewY)),0,1],!0)),l},composeMatrix:function(o){var g=[1,0,0,1,o.translateX||0,o.translateY||0],m=e.util.multiplyTransformMatrices;return o.angle&&(g=m(g,e.util.calcRotateMatrix(o))),(o.scaleX!==1||o.scaleY!==1||o.skewX||o.skewY||o.flipX||o.flipY)&&(g=m(g,e.util.calcDimensionsMatrix(o))),g},resetObjectTransform:function(o){o.scaleX=1,o.scaleY=1,o.skewX=0,o.skewY=0,o.flipX=!1,o.flipY=!1,o.rotate(0)},saveObjectTransform:function(o){return{scaleX:o.scaleX,scaleY:o.scaleY,skewX:o.skewX,skewY:o.skewY,angle:o.angle,left:o.left,flipX:o.flipX,flipY:o.flipY,top:o.top}},isTransparent:function(o,g,m,l){l>0&&(g>l?g-=l:g=0,m>l?m-=l:m=0);var v=!0,_,b,y=o.getImageData(g,m,l*2||1,l*2||1),C=y.data.length;for(_=3;_<C&&(b=y.data[_],v=b<=0,v!==!1);_+=4);return y=null,v},parsePreserveAspectRatioAttribute:function(o){var g="meet",m="Mid",l="Mid",v=o.split(" "),_;return v&&v.length&&(g=v.pop(),g!=="meet"&&g!=="slice"?(_=g,g="meet"):v.length&&(_=v.pop())),m=_!=="none"?_.slice(1,4):"none",l=_!=="none"?_.slice(5,8):"none",{meetOrSlice:g,alignX:m,alignY:l}},clearFabricFontCache:function(o){o=(o||"").toLowerCase(),o?e.charWidthsCache[o]&&delete e.charWidthsCache[o]:e.charWidthsCache={}},limitDimsByArea:function(o,g){var m=Math.sqrt(g*o),l=Math.floor(g/m);return{x:Math.floor(m),y:l}},capValue:function(o,g,m){return Math.max(o,Math.min(g,m))},findScaleToFit:function(o,g){return Math.min(g.width/o.width,g.height/o.height)},findScaleToCover:function(o,g){return Math.max(g.width/o.width,g.height/o.height)},matrixToSVG:function(o){return"matrix("+o.map(function(g){return e.util.toFixed(g,e.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(o,g){var m=e.util.invertTransform(g),l=e.util.multiplyTransformMatrices(m,o.calcOwnMatrix());e.util.applyTransformToObject(o,l)},addTransformToObject:function(o,g){e.util.applyTransformToObject(o,e.util.multiplyTransformMatrices(g,o.calcOwnMatrix()))},applyTransformToObject:function(o,g){var m=e.util.qrDecompose(g),l=new e.Point(m.translateX,m.translateY);o.flipX=!1,o.flipY=!1,o.set("scaleX",m.scaleX),o.set("scaleY",m.scaleY),o.skewX=m.skewX,o.skewY=m.skewY,o.angle=m.angle,o.setPositionByOrigin(l,"center","center")},sizeAfterTransform:function(o,g,m){var l=o/2,v=g/2,_=[{x:-l,y:-v},{x:l,y:-v},{x:-l,y:v},{x:l,y:v}],b=e.util.calcDimensionsMatrix(m),y=e.util.makeBoundingBoxFromPoints(_,b);return{x:y.width,y:y.height}},mergeClipPaths:function(o,g){var m=o,l=g;m.inverted&&!l.inverted&&(m=g,l=o),e.util.applyTransformToObject(l,e.util.multiplyTransformMatrices(e.util.invertTransform(m.calcTransformMatrix()),l.calcTransformMatrix()));var v=m.inverted&&l.inverted;return v&&(m.inverted=l.inverted=!1),new e.Group([m],{clipPath:l,inverted:v})},hasStyleChanged:function(o,g,m){return m=m||!1,o.fill!==g.fill||o.stroke!==g.stroke||o.strokeWidth!==g.strokeWidth||o.fontSize!==g.fontSize||o.fontFamily!==g.fontFamily||o.fontWeight!==g.fontWeight||o.fontStyle!==g.fontStyle||o.textBackgroundColor!==g.textBackgroundColor||o.deltaY!==g.deltaY||m&&(o.overline!==g.overline||o.underline!==g.underline||o.linethrough!==g.linethrough)},stylesToArray:function(m,g){for(var m=e.util.object.clone(m,!0),l=g.split(`
`),v=-1,_={},b=[],y=0;y<l.length;y++){if(!m[y]){v+=l[y].length;continue}for(var C=0;C<l[y].length;C++){v++;var S=m[y][C];if(S&&Object.keys(S).length>0){var w=e.util.hasStyleChanged(_,S,!0);w?b.push({start:v,end:v+1,style:S}):b[b.length-1].end++}_=S||{}}}return b},stylesFromArray:function(o,g){if(!Array.isArray(o))return o;for(var m=g.split(`
`),l=-1,v=0,_={},b=0;b<m.length;b++)for(var y=0;y<m[b].length;y++)l++,o[v]&&o[v].start<=l&&l<o[v].end&&(_[b]=_[b]||{},_[b][y]=Object.assign({},o[v].style),l===o[v].end-1&&v++);return _}}}(i),function(){var f=Array.prototype.join,r={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},c={m:"l",M:"L"};function d(T,F,L,M,K,k,P,X,V,le,ee){var he=e.util.cos(T),pe=e.util.sin(T),U=e.util.cos(F),ne=e.util.sin(F),H=L*K*U-M*k*ne+P,ce=M*K*U+L*k*ne+X,fe=le+V*(-L*K*pe-M*k*he),ie=ee+V*(-M*K*pe+L*k*he),de=H+V*(L*K*ne+M*k*U),_e=ce+V*(M*K*ne-L*k*U);return["C",fe,ie,de,_e,H,ce]}function s(T,F,L,M,K,k,P){var X=Math.PI,V=P*X/180,le=e.util.sin(V),ee=e.util.cos(V),he=0,pe=0;L=Math.abs(L),M=Math.abs(M);var U=-ee*T*.5-le*F*.5,ne=-ee*F*.5+le*T*.5,H=L*L,ce=M*M,fe=ne*ne,ie=U*U,de=H*ce-H*fe-ce*ie,_e=0;if(de<0){var Pe=Math.sqrt(1-de/(H*ce));L*=Pe,M*=Pe}else _e=(K===k?-1:1)*Math.sqrt(de/(H*fe+ce*ie));var be=_e*L*ne/M,ae=-_e*M*U/L,ke=ee*be-le*ae+T*.5,Ee=le*be+ee*ae+F*.5,ze=a(1,0,(U-be)/L,(ne-ae)/M),Je=a((U-be)/L,(ne-ae)/M,(-U-be)/L,(-ne-ae)/M);k===0&&Je>0?Je-=2*X:k===1&&Je<0&&(Je+=2*X);for(var Ve=Math.ceil(Math.abs(Je/X*2)),Qe=[],Ge=Je/Ve,St=8/3*Math.sin(Ge/4)*Math.sin(Ge/4)/Math.sin(Ge/2),Ct=ze+Ge,wt=0;wt<Ve;wt++)Qe[wt]=d(ze,Ct,ee,le,L,M,ke,Ee,St,he,pe),he=Qe[wt][5],pe=Qe[wt][6],ze=Ct,Ct+=Ge;return Qe}function a(T,F,L,M){var K=Math.atan2(F,T),k=Math.atan2(M,L);return k>=K?k-K:2*Math.PI-(K-k)}function o(T,F,L,M,K,k,P,X){var V;if(e.cachesBoundsOfCurve&&(V=f.call(arguments),e.boundsOfCurveCache[V]))return e.boundsOfCurveCache[V];var le=Math.sqrt,ee=Math.min,he=Math.max,pe=Math.abs,U=[],ne=[[],[]],H,ce,fe,ie,de,_e,Pe,be;ce=6*T-12*L+6*K,H=-3*T+9*L-9*K+3*P,fe=3*L-3*T;for(var ae=0;ae<2;++ae){if(ae>0&&(ce=6*F-12*M+6*k,H=-3*F+9*M-9*k+3*X,fe=3*M-3*F),pe(H)<1e-12){if(pe(ce)<1e-12)continue;ie=-fe/ce,0<ie&&ie<1&&U.push(ie);continue}Pe=ce*ce-4*fe*H,!(Pe<0)&&(be=le(Pe),de=(-ce+be)/(2*H),0<de&&de<1&&U.push(de),_e=(-ce-be)/(2*H),0<_e&&_e<1&&U.push(_e))}for(var ke,Ee,ze=U.length,Je=ze,Ve;ze--;)ie=U[ze],Ve=1-ie,ke=Ve*Ve*Ve*T+3*Ve*Ve*ie*L+3*Ve*ie*ie*K+ie*ie*ie*P,ne[0][ze]=ke,Ee=Ve*Ve*Ve*F+3*Ve*Ve*ie*M+3*Ve*ie*ie*k+ie*ie*ie*X,ne[1][ze]=Ee;ne[0][Je]=T,ne[1][Je]=F,ne[0][Je+1]=P,ne[1][Je+1]=X;var Qe=[{x:ee.apply(null,ne[0]),y:ee.apply(null,ne[1])},{x:he.apply(null,ne[0]),y:he.apply(null,ne[1])}];return e.cachesBoundsOfCurve&&(e.boundsOfCurveCache[V]=Qe),Qe}function g(T,F,L){for(var M=L[1],K=L[2],k=L[3],P=L[4],X=L[5],V=L[6],le=L[7],ee=s(V-T,le-F,M,K,P,X,k),he=0,pe=ee.length;he<pe;he++)ee[he][1]+=T,ee[he][2]+=F,ee[he][3]+=T,ee[he][4]+=F,ee[he][5]+=T,ee[he][6]+=F;return ee}function m(T){var F=0,L=0,M=T.length,K=0,k=0,P,X,V,le=[],ee,he,pe;for(X=0;X<M;++X){switch(V=!1,P=T[X].slice(0),P[0]){case"l":P[0]="L",P[1]+=F,P[2]+=L;case"L":F=P[1],L=P[2];break;case"h":P[1]+=F;case"H":P[0]="L",P[2]=L,F=P[1];break;case"v":P[1]+=L;case"V":P[0]="L",L=P[1],P[1]=F,P[2]=L;break;case"m":P[0]="M",P[1]+=F,P[2]+=L;case"M":F=P[1],L=P[2],K=P[1],k=P[2];break;case"c":P[0]="C",P[1]+=F,P[2]+=L,P[3]+=F,P[4]+=L,P[5]+=F,P[6]+=L;case"C":he=P[3],pe=P[4],F=P[5],L=P[6];break;case"s":P[0]="S",P[1]+=F,P[2]+=L,P[3]+=F,P[4]+=L;case"S":ee==="C"?(he=2*F-he,pe=2*L-pe):(he=F,pe=L),F=P[3],L=P[4],P[0]="C",P[5]=P[3],P[6]=P[4],P[3]=P[1],P[4]=P[2],P[1]=he,P[2]=pe,he=P[3],pe=P[4];break;case"q":P[0]="Q",P[1]+=F,P[2]+=L,P[3]+=F,P[4]+=L;case"Q":he=P[1],pe=P[2],F=P[3],L=P[4];break;case"t":P[0]="T",P[1]+=F,P[2]+=L;case"T":ee==="Q"?(he=2*F-he,pe=2*L-pe):(he=F,pe=L),P[0]="Q",F=P[1],L=P[2],P[1]=he,P[2]=pe,P[3]=F,P[4]=L;break;case"a":P[0]="A",P[6]+=F,P[7]+=L;case"A":V=!0,le=le.concat(g(F,L,P)),F=P[6],L=P[7];break;case"z":case"Z":F=K,L=k;break}V||le.push(P),ee=P[0]}return le}function l(T,F,L,M){return Math.sqrt((L-T)*(L-T)+(M-F)*(M-F))}function v(T){return T*T*T}function _(T){return 3*T*T*(1-T)}function b(T){return 3*T*(1-T)*(1-T)}function y(T){return(1-T)*(1-T)*(1-T)}function C(T,F,L,M,K,k,P,X){return function(V){var le=v(V),ee=_(V),he=b(V),pe=y(V);return{x:P*le+K*ee+L*he+T*pe,y:X*le+k*ee+M*he+F*pe}}}function S(T,F,L,M,K,k,P,X){return function(V){var le=1-V,ee=3*le*le*(L-T)+6*le*V*(K-L)+3*V*V*(P-K),he=3*le*le*(M-F)+6*le*V*(k-M)+3*V*V*(X-k);return Math.atan2(he,ee)}}function w(T){return T*T}function O(T){return 2*T*(1-T)}function A(T){return(1-T)*(1-T)}function N(T,F,L,M,K,k){return function(P){var X=w(P),V=O(P),le=A(P);return{x:K*X+L*V+T*le,y:k*X+M*V+F*le}}}function W(T,F,L,M,K,k){return function(P){var X=1-P,V=2*X*(L-T)+2*P*(K-L),le=2*X*(M-F)+2*P*(k-M);return Math.atan2(le,V)}}function Y(T,F,L){var M={x:F,y:L},K,k=0,P;for(P=1;P<=100;P+=1)K=T(P/100),k+=l(M.x,M.y,K.x,K.y),M=K;return k}function q(T,F){for(var L=0,M=0,K=T.iterator,k={x:T.x,y:T.y},P,X,V=.01,le=T.angleFinder,ee;M<F&&V>1e-4;)P=K(L),ee=L,X=l(k.x,k.y,P.x,P.y),X+M>F?(L-=V,V/=2):(k=P,L+=V,M+=X);return P.angle=le(ee),P}function te(T){for(var F=0,L=T.length,M,K=0,k=0,P=0,X=0,V=[],le,ee,he,pe=0;pe<L;pe++){switch(M=T[pe],ee={x:K,y:k,command:M[0]},M[0]){case"M":ee.length=0,P=K=M[1],X=k=M[2];break;case"L":ee.length=l(K,k,M[1],M[2]),K=M[1],k=M[2];break;case"C":le=C(K,k,M[1],M[2],M[3],M[4],M[5],M[6]),he=S(K,k,M[1],M[2],M[3],M[4],M[5],M[6]),ee.iterator=le,ee.angleFinder=he,ee.length=Y(le,K,k),K=M[5],k=M[6];break;case"Q":le=N(K,k,M[1],M[2],M[3],M[4]),he=W(K,k,M[1],M[2],M[3],M[4]),ee.iterator=le,ee.angleFinder=he,ee.length=Y(le,K,k),K=M[3],k=M[4];break;case"Z":case"z":ee.destX=P,ee.destY=X,ee.length=l(K,k,P,X),K=P,k=X;break}F+=ee.length,V.push(ee)}return V.push({length:F,x:K,y:k}),V}function re(T,F,L){L||(L=te(T));for(var M=0;F-L[M].length>0&&M<L.length-2;)F-=L[M].length,M++;var K=L[M],k=F/K.length,P=K.command,X=T[M],V;switch(P){case"M":return{x:K.x,y:K.y,angle:0};case"Z":case"z":return V=new e.Point(K.x,K.y).lerp(new e.Point(K.destX,K.destY),k),V.angle=Math.atan2(K.destY-K.y,K.destX-K.x),V;case"L":return V=new e.Point(K.x,K.y).lerp(new e.Point(X[1],X[2]),k),V.angle=Math.atan2(X[2]-K.y,X[1]-K.x),V;case"C":return q(K,F);case"Q":return q(K,F)}}function me(T){var F=[],L=[],M,K,k=e.rePathCommand,P="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",X="("+P+")"+e.commaWsp,V="([01])"+e.commaWsp+"?",le=X+"?"+X+"?"+X+V+V+X+"?("+P+")",ee=new RegExp(le,"g"),he,pe,U;if(!T||!T.match)return F;U=T.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var ne=0,H,ce=U.length;ne<ce;ne++){M=U[ne],pe=M.slice(1).trim(),L.length=0;var fe=M.charAt(0);if(H=[fe],fe.toLowerCase()==="a")for(var ie;ie=ee.exec(pe);)for(var de=1;de<ie.length;de++)L.push(ie[de]);else for(;he=k.exec(pe);)L.push(he[0]);for(var de=0,_e=L.length;de<_e;de++)K=parseFloat(L[de]),isNaN(K)||H.push(K);var Pe=r[fe.toLowerCase()],be=c[fe]||fe;if(H.length-1>Pe)for(var ae=1,ke=H.length;ae<ke;ae+=Pe)F.push([fe].concat(H.slice(ae,ae+Pe))),fe=be;else F.push(H)}return F}function G(T,F){var L=[],M,K=new e.Point(T[0].x,T[0].y),k=new e.Point(T[1].x,T[1].y),P=T.length,X=1,V=0,le=P>2;for(F=F||0,le&&(X=T[2].x<k.x?-1:T[2].x===k.x?0:1,V=T[2].y<k.y?-1:T[2].y===k.y?0:1),L.push(["M",K.x-X*F,K.y-V*F]),M=1;M<P;M++){if(!K.eq(k)){var ee=K.midPointFrom(k);L.push(["Q",K.x,K.y,ee.x,ee.y])}K=T[M],M+1<T.length&&(k=T[M+1])}return le&&(X=K.x>T[M-2].x?1:K.x===T[M-2].x?0:-1,V=K.y>T[M-2].y?1:K.y===T[M-2].y?0:-1),L.push(["L",K.x+X*F,K.y+V*F]),L}function oe(T,F,L){return L&&(F=e.util.multiplyTransformMatrices(F,[1,0,0,1,-L.x,-L.y])),T.map(function(M){for(var K=M.slice(0),k={},P=1;P<M.length-1;P+=2)k.x=M[P],k.y=M[P+1],k=e.util.transformPoint(k,F),K[P]=k.x,K[P+1]=k.y;return K})}e.util.joinPath=function(T){return T.map(function(F){return F.join(" ")}).join(" ")},e.util.parsePath=me,e.util.makePathSimpler=m,e.util.getSmoothPathFromPoints=G,e.util.getPathSegmentsInfo=te,e.util.getBoundsOfCurve=o,e.util.getPointOnPath=re,e.util.transformPath=oe}(),function(){var f=Array.prototype.slice;function r(o,g){for(var m=f.call(arguments,2),l=[],v=0,_=o.length;v<_;v++)l[v]=m.length?o[v][g].apply(o[v],m):o[v][g].call(o[v]);return l}function c(o,g){return a(o,g,function(m,l){return m>=l})}function d(o,g){return a(o,g,function(m,l){return m<l})}function s(o,g){for(var m=o.length;m--;)o[m]=g;return o}function a(o,g,m){if(!(!o||o.length===0)){var l=o.length-1,v=g?o[l][g]:o[l];if(g)for(;l--;)m(o[l][g],v)&&(v=o[l][g]);else for(;l--;)m(o[l],v)&&(v=o[l]);return v}}e.util.array={fill:s,invoke:r,min:d,max:c}}(),function(){function f(c,d,s){if(s)if(!e.isLikelyNode&&d instanceof Element)c=d;else if(d instanceof Array){c=[];for(var a=0,o=d.length;a<o;a++)c[a]=f({},d[a],s)}else if(d&&typeof d=="object")for(var g in d)g==="canvas"||g==="group"?c[g]=null:d.hasOwnProperty(g)&&(c[g]=f({},d[g],s));else c=d;else for(var g in d)c[g]=d[g];return c}function r(c,d){return f({},c,d)}e.util.object={extend:f,clone:r},e.util.object.extend(e.util,e.Observable)}(),function(){function f(a){return a.replace(/-+(.)?/g,function(o,g){return g?g.toUpperCase():""})}function r(a,o){return a.charAt(0).toUpperCase()+(o?a.slice(1):a.slice(1).toLowerCase())}function c(a){return a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function d(a){var o=0,g,m=[];for(o=0,g;o<a.length;o++)(g=s(a,o))!==!1&&m.push(g);return m}function s(a,o){var g=a.charCodeAt(o);if(isNaN(g))return"";if(g<55296||g>57343)return a.charAt(o);if(55296<=g&&g<=56319){if(a.length<=o+1)throw"High surrogate without following low surrogate";var m=a.charCodeAt(o+1);if(56320>m||m>57343)throw"High surrogate without following low surrogate";return a.charAt(o)+a.charAt(o+1)}if(o===0)throw"Low surrogate without preceding high surrogate";var l=a.charCodeAt(o-1);if(55296>l||l>56319)throw"Low surrogate without preceding high surrogate";return!1}e.util.string={camelize:f,capitalize:r,escapeXml:c,graphemeSplit:d}}(),function(){var f=Array.prototype.slice,r=function(){},c=function(){for(var g in{toString:1})if(g==="toString")return!1;return!0}(),d=function(g,m,l){for(var v in m)v in g.prototype&&typeof g.prototype[v]=="function"&&(m[v]+"").indexOf("callSuper")>-1?g.prototype[v]=function(_){return function(){var b=this.constructor.superclass;this.constructor.superclass=l;var y=m[_].apply(this,arguments);if(this.constructor.superclass=b,_!=="initialize")return y}}(v):g.prototype[v]=m[v],c&&(m.toString!==Object.prototype.toString&&(g.prototype.toString=m.toString),m.valueOf!==Object.prototype.valueOf&&(g.prototype.valueOf=m.valueOf))};function s(){}function a(g){for(var m=null,l=this;l.constructor.superclass;){var v=l.constructor.superclass.prototype[g];if(l[g]!==v){m=v;break}l=l.constructor.superclass.prototype}return m?arguments.length>1?m.apply(this,f.call(arguments,1)):m.call(this):console.log("tried to callSuper "+g+", method not found in prototype chain",this)}function o(){var g=null,m=f.call(arguments,0);typeof m[0]=="function"&&(g=m.shift());function l(){this.initialize.apply(this,arguments)}l.superclass=g,l.subclasses=[],g&&(s.prototype=g.prototype,l.prototype=new s,g.subclasses.push(l));for(var v=0,_=m.length;v<_;v++)d(l,m[v],g);return l.prototype.initialize||(l.prototype.initialize=r),l.prototype.constructor=l,l.prototype.callSuper=a,l}e.util.createClass=o}(),function(){var f=!!e.document.createElement("div").attachEvent,r=["touchstart","touchmove","touchend"];e.util.addListener=function(d,s,a,o){d&&d.addEventListener(s,a,f?!1:o)},e.util.removeListener=function(d,s,a,o){d&&d.removeEventListener(s,a,f?!1:o)};function c(d){var s=d.changedTouches;return s&&s[0]?s[0]:d}e.util.getPointer=function(d){var s=d.target,a=e.util.getScrollLeftTop(s),o=c(d);return{x:o.clientX+a.left,y:o.clientY+a.top}},e.util.isTouchEvent=function(d){return r.indexOf(d.type)>-1||d.pointerType==="touch"}}(),function(){function f(o,g){var m=o.style;if(!m)return o;if(typeof g=="string")return o.style.cssText+=";"+g,g.indexOf("opacity")>-1?a(o,g.match(/opacity:\s*(\d?\.?\d*)/)[1]):o;for(var l in g)if(l==="opacity")a(o,g[l]);else{var v=l==="float"||l==="cssFloat"?typeof m.styleFloat>"u"?"cssFloat":"styleFloat":l;m.setProperty(v,g[l])}return o}var r=e.document.createElement("div"),c=typeof r.style.opacity=="string",d=typeof r.style.filter=="string",s=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,a=function(o){return o};c?a=function(o,g){return o.style.opacity=g,o}:d&&(a=function(o,g){var m=o.style;return o.currentStyle&&!o.currentStyle.hasLayout&&(m.zoom=1),s.test(m.filter)?(g=g>=.9999?"":"alpha(opacity="+g*100+")",m.filter=m.filter.replace(s,g)):m.filter+=" alpha(opacity="+g*100+")",o}),e.util.setStyle=f}(),function(){var f=Array.prototype.slice;function r(y){return typeof y=="string"?e.document.getElementById(y):y}var c,d=function(y){return f.call(y,0)};try{c=d(e.document.childNodes)instanceof Array}catch{}c||(d=function(y){for(var C=new Array(y.length),S=y.length;S--;)C[S]=y[S];return C});function s(y,C){var S=e.document.createElement(y);for(var w in C)w==="class"?S.className=C[w]:w==="for"?S.htmlFor=C[w]:S.setAttribute(w,C[w]);return S}function a(y,C){y&&(" "+y.className+" ").indexOf(" "+C+" ")===-1&&(y.className+=(y.className?" ":"")+C)}function o(y,C,S){return typeof C=="string"&&(C=s(C,S)),y.parentNode&&y.parentNode.replaceChild(C,y),C.appendChild(y),C}function g(y){for(var C=0,S=0,w=e.document.documentElement,O=e.document.body||{scrollLeft:0,scrollTop:0};y&&(y.parentNode||y.host)&&(y=y.parentNode||y.host,y===e.document?(C=O.scrollLeft||w.scrollLeft||0,S=O.scrollTop||w.scrollTop||0):(C+=y.scrollLeft||0,S+=y.scrollTop||0),!(y.nodeType===1&&y.style.position==="fixed")););return{left:C,top:S}}function m(y){var C,S=y&&y.ownerDocument,w={left:0,top:0},O={left:0,top:0},A,N={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!S)return O;for(var W in N)O[N[W]]+=parseInt(l(y,W),10)||0;return C=S.documentElement,typeof y.getBoundingClientRect<"u"&&(w=y.getBoundingClientRect()),A=g(y),{left:w.left+A.left-(C.clientLeft||0)+O.left,top:w.top+A.top-(C.clientTop||0)+O.top}}var l;e.document.defaultView&&e.document.defaultView.getComputedStyle?l=function(y,C){var S=e.document.defaultView.getComputedStyle(y,null);return S?S[C]:void 0}:l=function(y,C){var S=y.style[C];return!S&&y.currentStyle&&(S=y.currentStyle[C]),S},function(){var y=e.document.documentElement.style,C="userSelect"in y?"userSelect":"MozUserSelect"in y?"MozUserSelect":"WebkitUserSelect"in y?"WebkitUserSelect":"KhtmlUserSelect"in y?"KhtmlUserSelect":"";function S(O){return typeof O.onselectstart<"u"&&(O.onselectstart=e.util.falseFunction),C?O.style[C]="none":typeof O.unselectable=="string"&&(O.unselectable="on"),O}function w(O){return typeof O.onselectstart<"u"&&(O.onselectstart=null),C?O.style[C]="":typeof O.unselectable=="string"&&(O.unselectable=""),O}e.util.makeElementUnselectable=S,e.util.makeElementSelectable=w}();function v(y){var C=e.jsdomImplForWrapper(y);return C._canvas||C._image}function _(y){if(e.isLikelyNode){var C=e.jsdomImplForWrapper(y);C&&(C._image=null,C._canvas=null,C._currentSrc=null,C._attributes=null,C._classList=null)}}function b(y,C){y.imageSmoothingEnabled=y.imageSmoothingEnabled||y.webkitImageSmoothingEnabled||y.mozImageSmoothingEnabled||y.msImageSmoothingEnabled||y.oImageSmoothingEnabled,y.imageSmoothingEnabled=C}e.util.setImageSmoothing=b,e.util.getById=r,e.util.toArray=d,e.util.addClass=a,e.util.makeElement=s,e.util.wrapElement=o,e.util.getScrollLeftTop=g,e.util.getElementOffset=m,e.util.getNodeCanvas=v,e.util.cleanUpJsdomNode=_}(),function(){function f(d,s){return d+(/\?/.test(d)?"&":"?")+s}function r(){}function c(d,s){s||(s={});var a=s.method?s.method.toUpperCase():"GET",o=s.onComplete||function(){},g=new e.window.XMLHttpRequest,m=s.body||s.parameters;return g.onreadystatechange=function(){g.readyState===4&&(o(g),g.onreadystatechange=r)},a==="GET"&&(m=null,typeof s.parameters=="string"&&(d=f(d,s.parameters))),g.open(a,d,!0),(a==="POST"||a==="PUT")&&g.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),g.send(m),g}e.util.request=c}(),e.log=console.log,e.warn=console.warn,function(){var f=e.util.object.extend,r=e.util.object.clone,c=[];e.util.object.extend(c,{cancelAll:function(){var v=this.splice(0);return v.forEach(function(_){_.cancel()}),v},cancelByCanvas:function(v){if(!v)return[];var _=this.filter(function(b){return typeof b.target=="object"&&b.target.canvas===v});return _.forEach(function(b){b.cancel()}),_},cancelByTarget:function(v){var _=this.findAnimationsByTarget(v);return _.forEach(function(b){b.cancel()}),_},findAnimationIndex:function(v){return this.indexOf(this.findAnimation(v))},findAnimation:function(v){return this.find(function(_){return _.cancel===v})},findAnimationsByTarget:function(v){return v?this.filter(function(_){return _.target===v}):[]}});function d(){return!1}function s(v,_,b,y){return-b*Math.cos(v/y*(Math.PI/2))+b+_}function a(v){v||(v={});var _=!1,b,y=function(){var C=e.runningAnimations.indexOf(b);return C>-1&&e.runningAnimations.splice(C,1)[0]};return b=f(r(v),{cancel:function(){return _=!0,y()},currentValue:"startValue"in v?v.startValue:0,completionRate:0,durationRate:0}),e.runningAnimations.push(b),m(function(C){var S=C||+new Date,w=v.duration||500,O=S+w,A,N=v.onChange||d,W=v.abort||d,Y=v.onComplete||d,q=v.easing||s,te="startValue"in v?v.startValue.length>0:!1,re="startValue"in v?v.startValue:0,me="endValue"in v?v.endValue:100,G=v.byValue||(te?re.map(function(oe,T){return me[T]-re[T]}):me-re);v.onStart&&v.onStart(),function oe(T){A=T||+new Date;var F=A>O?w:A-S,L=F/w,M=te?re.map(function(k,P){return q(F,re[P],G[P],w)}):q(F,re,G,w),K=Math.abs(te?(M[0]-re[0])/G[0]:(M-re)/G);if(b.currentValue=te?M.slice():M,b.completionRate=K,b.durationRate=L,!_){if(W(M,K,L)){y();return}if(A>O){b.currentValue=te?me.slice():me,b.completionRate=1,b.durationRate=1,N(te?me.slice():me,1,1),Y(me,1,1),y();return}else N(M,K,L),m(oe)}}(S)}),b.cancel}var o=e.window.requestAnimationFrame||e.window.webkitRequestAnimationFrame||e.window.mozRequestAnimationFrame||e.window.oRequestAnimationFrame||e.window.msRequestAnimationFrame||function(v){return e.window.setTimeout(v,1e3/60)},g=e.window.cancelAnimationFrame||e.window.clearTimeout;function m(){return o.apply(e.window,arguments)}function l(){return g.apply(e.window,arguments)}e.util.animate=a,e.util.requestAnimFrame=m,e.util.cancelAnimFrame=l,e.runningAnimations=c}(),function(){function f(c,d,s){var a="rgba("+parseInt(c[0]+s*(d[0]-c[0]),10)+","+parseInt(c[1]+s*(d[1]-c[1]),10)+","+parseInt(c[2]+s*(d[2]-c[2]),10);return a+=","+(c&&d?parseFloat(c[3]+s*(d[3]-c[3])):1),a+=")",a}function r(c,d,s,a){var o=new e.Color(c).getSource(),g=new e.Color(d).getSource(),m=a.onComplete,l=a.onChange;return a=a||{},e.util.animate(e.util.object.extend(a,{duration:s||500,startValue:o,endValue:g,byValue:g,easing:function(v,_,b,y){var C=a.colorEasing?a.colorEasing(v,y):1-Math.cos(v/y*(Math.PI/2));return f(_,b,C)},onComplete:function(v,_,b){if(m)return m(f(g,g,0),_,b)},onChange:function(v,_,b){if(l){if(Array.isArray(v))return l(f(v,v,0),_,b);l(v,_,b)}}}))}e.util.animateColor=r}(),function(){function f(T,F,L,M){return T<Math.abs(F)?(T=F,M=L/4):F===0&&T===0?M=L/(2*Math.PI)*Math.asin(1):M=L/(2*Math.PI)*Math.asin(F/T),{a:T,c:F,p:L,s:M}}function r(T,F,L){return T.a*Math.pow(2,10*(F-=1))*Math.sin((F*L-T.s)*(2*Math.PI)/T.p)}function c(T,F,L,M){return L*((T=T/M-1)*T*T+1)+F}function d(T,F,L,M){return T/=M/2,T<1?L/2*T*T*T+F:L/2*((T-=2)*T*T+2)+F}function s(T,F,L,M){return L*(T/=M)*T*T*T+F}function a(T,F,L,M){return-L*((T=T/M-1)*T*T*T-1)+F}function o(T,F,L,M){return T/=M/2,T<1?L/2*T*T*T*T+F:-L/2*((T-=2)*T*T*T-2)+F}function g(T,F,L,M){return L*(T/=M)*T*T*T*T+F}function m(T,F,L,M){return L*((T=T/M-1)*T*T*T*T+1)+F}function l(T,F,L,M){return T/=M/2,T<1?L/2*T*T*T*T*T+F:L/2*((T-=2)*T*T*T*T+2)+F}function v(T,F,L,M){return-L*Math.cos(T/M*(Math.PI/2))+L+F}function _(T,F,L,M){return L*Math.sin(T/M*(Math.PI/2))+F}function b(T,F,L,M){return-L/2*(Math.cos(Math.PI*T/M)-1)+F}function y(T,F,L,M){return T===0?F:L*Math.pow(2,10*(T/M-1))+F}function C(T,F,L,M){return T===M?F+L:L*(-Math.pow(2,-10*T/M)+1)+F}function S(T,F,L,M){return T===0?F:T===M?F+L:(T/=M/2,T<1?L/2*Math.pow(2,10*(T-1))+F:L/2*(-Math.pow(2,-10*--T)+2)+F)}function w(T,F,L,M){return-L*(Math.sqrt(1-(T/=M)*T)-1)+F}function O(T,F,L,M){return L*Math.sqrt(1-(T=T/M-1)*T)+F}function A(T,F,L,M){return T/=M/2,T<1?-L/2*(Math.sqrt(1-T*T)-1)+F:L/2*(Math.sqrt(1-(T-=2)*T)+1)+F}function N(T,F,L,M){var K=1.70158,k=0,P=L;if(T===0)return F;if(T/=M,T===1)return F+L;k||(k=M*.3);var X=f(P,L,k,K);return-r(X,T,M)+F}function W(T,F,L,M){var K=1.70158,k=0,P=L;if(T===0)return F;if(T/=M,T===1)return F+L;k||(k=M*.3);var X=f(P,L,k,K);return X.a*Math.pow(2,-10*T)*Math.sin((T*M-X.s)*(2*Math.PI)/X.p)+X.c+F}function Y(T,F,L,M){var K=1.70158,k=0,P=L;if(T===0)return F;if(T/=M/2,T===2)return F+L;k||(k=M*(.3*1.5));var X=f(P,L,k,K);return T<1?-.5*r(X,T,M)+F:X.a*Math.pow(2,-10*(T-=1))*Math.sin((T*M-X.s)*(2*Math.PI)/X.p)*.5+X.c+F}function q(T,F,L,M,K){return K===void 0&&(K=1.70158),L*(T/=M)*T*((K+1)*T-K)+F}function te(T,F,L,M,K){return K===void 0&&(K=1.70158),L*((T=T/M-1)*T*((K+1)*T+K)+1)+F}function re(T,F,L,M,K){return K===void 0&&(K=1.70158),T/=M/2,T<1?L/2*(T*T*(((K*=1.525)+1)*T-K))+F:L/2*((T-=2)*T*(((K*=1.525)+1)*T+K)+2)+F}function me(T,F,L,M){return L-G(M-T,0,L,M)+F}function G(T,F,L,M){return(T/=M)<1/2.75?L*(7.5625*T*T)+F:T<2/2.75?L*(7.5625*(T-=1.5/2.75)*T+.75)+F:T<2.5/2.75?L*(7.5625*(T-=2.25/2.75)*T+.9375)+F:L*(7.5625*(T-=2.625/2.75)*T+.984375)+F}function oe(T,F,L,M){return T<M/2?me(T*2,0,L,M)*.5+F:G(T*2-M,0,L,M)*.5+L*.5+F}e.util.ease={easeInQuad:function(T,F,L,M){return L*(T/=M)*T+F},easeOutQuad:function(T,F,L,M){return-L*(T/=M)*(T-2)+F},easeInOutQuad:function(T,F,L,M){return T/=M/2,T<1?L/2*T*T+F:-L/2*(--T*(T-2)-1)+F},easeInCubic:function(T,F,L,M){return L*(T/=M)*T*T+F},easeOutCubic:c,easeInOutCubic:d,easeInQuart:s,easeOutQuart:a,easeInOutQuart:o,easeInQuint:g,easeOutQuint:m,easeInOutQuint:l,easeInSine:v,easeOutSine:_,easeInOutSine:b,easeInExpo:y,easeOutExpo:C,easeInOutExpo:S,easeInCirc:w,easeOutCirc:O,easeInOutCirc:A,easeInElastic:N,easeOutElastic:W,easeInOutElastic:Y,easeInBack:q,easeOutBack:te,easeInOutBack:re,easeInBounce:me,easeOutBounce:G,easeInOutBounce:oe}}(),function(f){var r=f.fabric||(f.fabric={}),c=r.util.object.extend,d=r.util.object.clone,s=r.util.toFixed,a=r.util.parseUnit,o=r.util.multiplyTransformMatrices,g=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],m=["symbol","image","marker","pattern","view","svg"],l=["pattern","defs","symbol","metadata","clipPath","mask","desc"],v=["symbol","g","a","svg","clipPath","defs"],_={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},b={stroke:"strokeOpacity",fill:"fillOpacity"},y="font-size",C="clip-path";r.svgValidTagNamesRegEx=O(g),r.svgViewBoxElementsRegEx=O(m),r.svgInvalidAncestorsRegEx=O(l),r.svgValidParentsRegEx=O(v),r.cssRules={},r.gradientDefs={},r.clipPaths={};function S(k){return k in _?_[k]:k}function w(k,P,X,V){var le=Array.isArray(P),ee;if((k==="fill"||k==="stroke")&&P==="none")P="";else{if(k==="strokeUniform")return P==="non-scaling-stroke";if(k==="strokeDashArray")P==="none"?P=null:P=P.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(k==="transformMatrix")X&&X.transformMatrix?P=o(X.transformMatrix,r.parseTransformAttribute(P)):P=r.parseTransformAttribute(P);else if(k==="visible")P=P!=="none"&&P!=="hidden",X&&X.visible===!1&&(P=!1);else if(k==="opacity")P=parseFloat(P),X&&typeof X.opacity<"u"&&(P*=X.opacity);else if(k==="textAnchor")P=P==="start"?"left":P==="end"?"right":"center";else if(k==="charSpacing")ee=a(P,V)/V*1e3;else if(k==="paintFirst"){var he=P.indexOf("fill"),pe=P.indexOf("stroke"),P="fill";(he>-1&&pe>-1&&pe<he||he===-1&&pe>-1)&&(P="stroke")}else{if(k==="href"||k==="xlink:href"||k==="font")return P;if(k==="imageSmoothing")return P==="optimizeQuality";ee=le?P.map(a):a(P,V)}}return!le&&isNaN(ee)?P:ee}function O(k){return new RegExp("^("+k.join("|")+")\\b","i")}function A(k){for(var P in b)if(!(typeof k[b[P]]>"u"||k[P]==="")){if(typeof k[P]>"u"){if(!r.Object.prototype[P])continue;k[P]=r.Object.prototype[P]}if(k[P].indexOf("url(")!==0){var X=new r.Color(k[P]);k[P]=X.setAlpha(s(X.getAlpha()*k[b[P]],2)).toRgba()}}return k}function N(k,P){var X,V=[],le,ee,he;for(ee=0,he=P.length;ee<he;ee++)X=P[ee],le=k.getElementsByTagName(X),V=V.concat(Array.prototype.slice.call(le));return V}r.parseTransformAttribute=function(){function k(ae,ke){var Ee=r.util.cos(ke[0]),ze=r.util.sin(ke[0]),Je=0,Ve=0;ke.length===3&&(Je=ke[1],Ve=ke[2]),ae[0]=Ee,ae[1]=ze,ae[2]=-ze,ae[3]=Ee,ae[4]=Je-(Ee*Je-ze*Ve),ae[5]=Ve-(ze*Je+Ee*Ve)}function P(ae,ke){var Ee=ke[0],ze=ke.length===2?ke[1]:ke[0];ae[0]=Ee,ae[3]=ze}function X(ae,ke,Ee){ae[Ee]=Math.tan(r.util.degreesToRadians(ke[0]))}function V(ae,ke){ae[4]=ke[0],ke.length===2&&(ae[5]=ke[1])}var le=r.iMatrix,ee=r.reNum,he=r.commaWsp,pe="(?:(skewX)\\s*\\(\\s*("+ee+")\\s*\\))",U="(?:(skewY)\\s*\\(\\s*("+ee+")\\s*\\))",ne="(?:(rotate)\\s*\\(\\s*("+ee+")(?:"+he+"("+ee+")"+he+"("+ee+"))?\\s*\\))",H="(?:(scale)\\s*\\(\\s*("+ee+")(?:"+he+"("+ee+"))?\\s*\\))",ce="(?:(translate)\\s*\\(\\s*("+ee+")(?:"+he+"("+ee+"))?\\s*\\))",fe="(?:(matrix)\\s*\\(\\s*("+ee+")"+he+"("+ee+")"+he+"("+ee+")"+he+"("+ee+")"+he+"("+ee+")"+he+"("+ee+")\\s*\\))",ie="(?:"+fe+"|"+ce+"|"+H+"|"+ne+"|"+pe+"|"+U+")",de="(?:"+ie+"(?:"+he+"*"+ie+")*)",_e="^\\s*(?:"+de+"?)\\s*$",Pe=new RegExp(_e),be=new RegExp(ie,"g");return function(ae){var ke=le.concat(),Ee=[];if(!ae||ae&&!Pe.test(ae))return ke;ae.replace(be,function(Je){var Ve=new RegExp(ie).exec(Je).filter(function(St){return!!St}),Qe=Ve[1],Ge=Ve.slice(2).map(parseFloat);switch(Qe){case"translate":V(ke,Ge);break;case"rotate":Ge[0]=r.util.degreesToRadians(Ge[0]),k(ke,Ge);break;case"scale":P(ke,Ge);break;case"skewX":X(ke,Ge,2);break;case"skewY":X(ke,Ge,1);break;case"matrix":ke=Ge;break}Ee.push(ke.concat()),ke=le.concat()});for(var ze=Ee[0];Ee.length>1;)Ee.shift(),ze=r.util.multiplyTransformMatrices(ze,Ee[0]);return ze}}();function W(k,P){var X,V;k.replace(/;\s*$/,"").split(";").forEach(function(le){var ee=le.split(":");X=ee[0].trim().toLowerCase(),V=ee[1].trim(),P[X]=V})}function Y(k,P){var X,V;for(var le in k)typeof k[le]>"u"||(X=le.toLowerCase(),V=k[le],P[X]=V)}function q(k,P){var X={};for(var V in r.cssRules[P])if(te(k,V.split(" ")))for(var le in r.cssRules[P][V])X[le]=r.cssRules[P][V][le];return X}function te(k,P){var X,V=!0;return X=me(k,P.pop()),X&&P.length&&(V=re(k,P)),X&&V&&P.length===0}function re(k,P){for(var X,V=!0;k.parentNode&&k.parentNode.nodeType===1&&P.length;)V&&(X=P.pop()),k=k.parentNode,V=me(k,X);return P.length===0}function me(k,P){var X=k.nodeName,V=k.getAttribute("class"),le=k.getAttribute("id"),ee,he;if(ee=new RegExp("^"+X,"i"),P=P.replace(ee,""),le&&P.length&&(ee=new RegExp("#"+le+"(?![a-zA-Z\\-]+)","i"),P=P.replace(ee,"")),V&&P.length)for(V=V.split(" "),he=V.length;he--;)ee=new RegExp("\\."+V[he]+"(?![a-zA-Z\\-]+)","i"),P=P.replace(ee,"");return P.length===0}function G(k,P){var X;if(k.getElementById&&(X=k.getElementById(P)),X)return X;var V,le,ee,he=k.getElementsByTagName("*");for(le=0,ee=he.length;le<ee;le++)if(V=he[le],P===V.getAttribute("id"))return V}function oe(k){for(var P=N(k,["use","svg:use"]),X=0;P.length&&X<P.length;){var V=P[X],le=V.getAttribute("xlink:href")||V.getAttribute("href");if(le===null)return;var ee=le.slice(1),he=V.getAttribute("x")||0,pe=V.getAttribute("y")||0,U=G(k,ee).cloneNode(!0),ne=(U.getAttribute("transform")||"")+" translate("+he+", "+pe+")",H,ce=P.length,fe,ie,de,_e,Pe=r.svgNS;if(F(U),/^svg$/i.test(U.nodeName)){var be=U.ownerDocument.createElementNS(Pe,"g");for(ie=0,de=U.attributes,_e=de.length;ie<_e;ie++)fe=de.item(ie),be.setAttributeNS(Pe,fe.nodeName,fe.nodeValue);for(;U.firstChild;)be.appendChild(U.firstChild);U=be}for(ie=0,de=V.attributes,_e=de.length;ie<_e;ie++)fe=de.item(ie),!(fe.nodeName==="x"||fe.nodeName==="y"||fe.nodeName==="xlink:href"||fe.nodeName==="href")&&(fe.nodeName==="transform"?ne=fe.nodeValue+" "+ne:U.setAttribute(fe.nodeName,fe.nodeValue));U.setAttribute("transform",ne),U.setAttribute("instantiated_by_use","1"),U.removeAttribute("id"),H=V.parentNode,H.replaceChild(U,V),P.length===ce&&X++}}var T=new RegExp("^\\s*("+r.reNum+"+)\\s*,?\\s*("+r.reNum+"+)\\s*,?\\s*("+r.reNum+"+)\\s*,?\\s*("+r.reNum+"+)\\s*$");function F(k){if(!r.svgViewBoxElementsRegEx.test(k.nodeName))return{};var P=k.getAttribute("viewBox"),X=1,V=1,le=0,ee=0,he,pe,U,ne,H=k.getAttribute("width"),ce=k.getAttribute("height"),fe=k.getAttribute("x")||0,ie=k.getAttribute("y")||0,de=k.getAttribute("preserveAspectRatio")||"",_e=!P||!(P=P.match(T)),Pe=!H||!ce||H==="100%"||ce==="100%",be=_e&&Pe,ae={},ke="",Ee=0,ze=0;if(ae.width=0,ae.height=0,ae.toBeParsed=be,_e&&(fe||ie)&&k.parentNode&&k.parentNode.nodeName!=="#document"&&(ke=" translate("+a(fe)+" "+a(ie)+") ",U=(k.getAttribute("transform")||"")+ke,k.setAttribute("transform",U),k.removeAttribute("x"),k.removeAttribute("y")),be)return ae;if(_e)return ae.width=a(H),ae.height=a(ce),ae;if(le=-parseFloat(P[1]),ee=-parseFloat(P[2]),he=parseFloat(P[3]),pe=parseFloat(P[4]),ae.minX=le,ae.minY=ee,ae.viewBoxWidth=he,ae.viewBoxHeight=pe,Pe?(ae.width=he,ae.height=pe):(ae.width=a(H),ae.height=a(ce),X=ae.width/he,V=ae.height/pe),de=r.util.parsePreserveAspectRatioAttribute(de),de.alignX!=="none"&&(de.meetOrSlice==="meet"&&(V=X=X>V?V:X),de.meetOrSlice==="slice"&&(V=X=X>V?X:V),Ee=ae.width-he*X,ze=ae.height-pe*X,de.alignX==="Mid"&&(Ee/=2),de.alignY==="Mid"&&(ze/=2),de.alignX==="Min"&&(Ee=0),de.alignY==="Min"&&(ze=0)),X===1&&V===1&&le===0&&ee===0&&fe===0&&ie===0)return ae;if((fe||ie)&&k.parentNode.nodeName!=="#document"&&(ke=" translate("+a(fe)+" "+a(ie)+") "),U=ke+" matrix("+X+" 0 0 "+V+" "+(le*X+Ee)+" "+(ee*V+ze)+") ",k.nodeName==="svg"){for(ne=k.ownerDocument.createElementNS(r.svgNS,"g");k.firstChild;)ne.appendChild(k.firstChild);k.appendChild(ne)}else ne=k,ne.removeAttribute("x"),ne.removeAttribute("y"),U=ne.getAttribute("transform")+U;return ne.setAttribute("transform",U),ae}function L(k,P){for(;k&&(k=k.parentNode);)if(k.nodeName&&P.test(k.nodeName.replace("svg:",""))&&!k.getAttribute("instantiated_by_use"))return!0;return!1}r.parseSVGDocument=function(k,P,X,V){if(k){oe(k);var le=r.Object.__uid++,ee,he,pe=F(k),U=r.util.toArray(k.getElementsByTagName("*"));if(pe.crossOrigin=V&&V.crossOrigin,pe.svgUid=le,U.length===0&&r.isLikelyNode){U=k.selectNodes('//*[name(.)!="svg"]');var ne=[];for(ee=0,he=U.length;ee<he;ee++)ne[ee]=U[ee];U=ne}var H=U.filter(function(fe){return F(fe),r.svgValidTagNamesRegEx.test(fe.nodeName.replace("svg:",""))&&!L(fe,r.svgInvalidAncestorsRegEx)});if(!H||H&&!H.length){P&&P([],{});return}var ce={};U.filter(function(fe){return fe.nodeName.replace("svg:","")==="clipPath"}).forEach(function(fe){var ie=fe.getAttribute("id");ce[ie]=r.util.toArray(fe.getElementsByTagName("*")).filter(function(de){return r.svgValidTagNamesRegEx.test(de.nodeName.replace("svg:",""))})}),r.gradientDefs[le]=r.getGradientDefs(k),r.cssRules[le]=r.getCSSRules(k),r.clipPaths[le]=ce,r.parseElements(H,function(fe,ie){P&&(P(fe,pe,ie,U),delete r.gradientDefs[le],delete r.cssRules[le],delete r.clipPaths[le])},d(pe),X,V)}};function M(k,P){var X=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],V="xlink:href",le=P.getAttribute(V).slice(1),ee=G(k,le);if(ee&&ee.getAttribute(V)&&M(k,ee),X.forEach(function(pe){ee&&!P.hasAttribute(pe)&&ee.hasAttribute(pe)&&P.setAttribute(pe,ee.getAttribute(pe))}),!P.children.length)for(var he=ee.cloneNode(!0);he.firstChild;)P.appendChild(he.firstChild);P.removeAttribute(V)}var K=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+r.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+r.reNum+"))?\\s+(.*)");c(r,{parseFontDeclaration:function(k,P){var X=k.match(K);if(X){var V=X[1],le=X[3],ee=X[4],he=X[5],pe=X[6];V&&(P.fontStyle=V),le&&(P.fontWeight=isNaN(parseFloat(le))?le:parseFloat(le)),ee&&(P.fontSize=a(ee)),pe&&(P.fontFamily=pe),he&&(P.lineHeight=he==="normal"?1:he)}},getGradientDefs:function(k){var P=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],X=N(k,P),V,le=0,ee={};for(le=X.length;le--;)V=X[le],V.getAttribute("xlink:href")&&M(k,V),ee[V.getAttribute("id")]=V;return ee},parseAttributes:function(k,P,X){if(k){var V,le={},ee,he;typeof X>"u"&&(X=k.getAttribute("svgUid")),k.parentNode&&r.svgValidParentsRegEx.test(k.parentNode.nodeName)&&(le=r.parseAttributes(k.parentNode,P,X));var pe=P.reduce(function(de,_e){return V=k.getAttribute(_e),V&&(de[_e]=V),de},{}),U=c(q(k,X),r.parseStyleAttribute(k));pe=c(pe,U),U[C]&&k.setAttribute(C,U[C]),ee=he=le.fontSize||r.Text.DEFAULT_SVG_FONT_SIZE,pe[y]&&(pe[y]=ee=a(pe[y],he));var ne,H,ce={};for(var fe in pe)ne=S(fe),H=w(ne,pe[fe],le,ee),ce[ne]=H;ce&&ce.font&&r.parseFontDeclaration(ce.font,ce);var ie=c(le,ce);return r.svgValidParentsRegEx.test(k.nodeName)?ie:A(ie)}},parseElements:function(k,P,X,V,le){new r.ElementsParser(k,P,X,V,le).parse()},parseStyleAttribute:function(k){var P={},X=k.getAttribute("style");return X&&(typeof X=="string"?W(X,P):Y(X,P)),P},parsePointsAttribute:function(k){if(!k)return null;k=k.replace(/,/g," ").trim(),k=k.split(/\s+/);var P=[],X,V;for(X=0,V=k.length;X<V;X+=2)P.push({x:parseFloat(k[X]),y:parseFloat(k[X+1])});return P},getCSSRules:function(k){var P=k.getElementsByTagName("style"),X,V,le={},ee;for(X=0,V=P.length;X<V;X++){var he=P[X].textContent;he=he.replace(/\/\*[\s\S]*?\*\//g,""),he.trim()!==""&&(ee=he.split("}"),ee=ee.filter(function(pe){return pe.trim()}),ee.forEach(function(pe){var U=pe.split("{"),ne={},H=U[1].trim(),ce=H.split(";").filter(function(_e){return _e.trim()});for(X=0,V=ce.length;X<V;X++){var fe=ce[X].split(":"),ie=fe[0].trim(),de=fe[1].trim();ne[ie]=de}pe=U[0].trim(),pe.split(",").forEach(function(_e){_e=_e.replace(/^svg/i,"").trim(),_e!==""&&(le[_e]?r.util.object.extend(le[_e],ne):le[_e]=r.util.object.clone(ne))})}))}return le},loadSVGFromURL:function(k,P,X,V){k=k.replace(/^\n\s*/,"").trim(),new r.util.request(k,{method:"get",onComplete:le});function le(ee){var he=ee.responseXML;if(!he||!he.documentElement)return P&&P(null),!1;r.parseSVGDocument(he.documentElement,function(pe,U,ne,H){P&&P(pe,U,ne,H)},X,V)}},loadSVGFromString:function(k,P,X,V){var le=new r.window.DOMParser,ee=le.parseFromString(k.trim(),"text/xml");r.parseSVGDocument(ee.documentElement,function(he,pe,U,ne){P(he,pe,U,ne)},X,V)}})}(i),e.ElementsParser=function(f,r,c,d,s,a){this.elements=f,this.callback=r,this.options=c,this.reviver=d,this.svgUid=c&&c.svgUid||0,this.parsingOptions=s,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=a},function(f){f.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},f.createObjects=function(){var r=this;this.elements.forEach(function(c,d){c.setAttribute("svgUid",r.svgUid),r.createObject(c,d)})},f.findTag=function(r){return e[e.util.string.capitalize(r.tagName.replace("svg:",""))]},f.createObject=function(r,c){var d=this.findTag(r);if(d&&d.fromElement)try{d.fromElement(r,this.createCallback(c,r),this.options)}catch(s){e.log(s)}else this.checkIfDone()},f.createCallback=function(r,c){var d=this;return function(s){var a;d.resolveGradient(s,c,"fill"),d.resolveGradient(s,c,"stroke"),s instanceof e.Image&&s._originalElement&&(a=s.parsePreserveAspectRatioAttribute(c)),s._removeTransformMatrix(a),d.resolveClipPath(s,c),d.reviver&&d.reviver(c,s),d.instances[r]=s,d.checkIfDone()}},f.extractPropertyDefinition=function(r,c,d){var s=r[c],a=this.regexUrl;if(a.test(s)){a.lastIndex=0;var o=a.exec(s)[1];return a.lastIndex=0,e[d][this.svgUid][o]}},f.resolveGradient=function(r,c,d){var s=this.extractPropertyDefinition(r,d,"gradientDefs");if(s){var a=c.getAttribute(d+"-opacity"),o=e.Gradient.fromElement(s,r,a,this.options);r.set(d,o)}},f.createClipPathCallback=function(r,c){return function(d){d._removeTransformMatrix(),d.fillRule=d.clipRule,c.push(d)}},f.resolveClipPath=function(r,c){var d=this.extractPropertyDefinition(r,"clipPath","clipPaths"),s,a,o,g,m,l;if(d){g=[],o=e.util.invertTransform(r.calcTransformMatrix());for(var v=d[0].parentNode,_=c;_.parentNode&&_.getAttribute("clip-path")!==r.clipPath;)_=_.parentNode;_.parentNode.appendChild(v);for(var b=0;b<d.length;b++)s=d[b],a=this.findTag(s),a.fromElement(s,this.createClipPathCallback(r,g),this.options);g.length===1?d=g[0]:d=new e.Group(g),m=e.util.multiplyTransformMatrices(o,d.calcTransformMatrix()),d.clipPath&&this.resolveClipPath(d,_);var l=e.util.qrDecompose(m);d.flipX=!1,d.flipY=!1,d.set("scaleX",l.scaleX),d.set("scaleY",l.scaleY),d.angle=l.angle,d.skewX=l.skewX,d.skewY=0,d.setPositionByOrigin({x:l.translateX,y:l.translateY},"center","center"),r.clipPath=d}else delete r.clipPath},f.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(r){return r!=null}),this.callback(this.instances,this.elements))}}(e.ElementsParser.prototype),function(f){var r=f.fabric||(f.fabric={});if(r.Point){r.warn("fabric.Point is already defined");return}r.Point=c;function c(d,s){this.x=d,this.y=s}c.prototype={type:"point",constructor:c,add:function(d){return new c(this.x+d.x,this.y+d.y)},addEquals:function(d){return this.x+=d.x,this.y+=d.y,this},scalarAdd:function(d){return new c(this.x+d,this.y+d)},scalarAddEquals:function(d){return this.x+=d,this.y+=d,this},subtract:function(d){return new c(this.x-d.x,this.y-d.y)},subtractEquals:function(d){return this.x-=d.x,this.y-=d.y,this},scalarSubtract:function(d){return new c(this.x-d,this.y-d)},scalarSubtractEquals:function(d){return this.x-=d,this.y-=d,this},multiply:function(d){return new c(this.x*d,this.y*d)},multiplyEquals:function(d){return this.x*=d,this.y*=d,this},divide:function(d){return new c(this.x/d,this.y/d)},divideEquals:function(d){return this.x/=d,this.y/=d,this},eq:function(d){return this.x===d.x&&this.y===d.y},lt:function(d){return this.x<d.x&&this.y<d.y},lte:function(d){return this.x<=d.x&&this.y<=d.y},gt:function(d){return this.x>d.x&&this.y>d.y},gte:function(d){return this.x>=d.x&&this.y>=d.y},lerp:function(d,s){return typeof s>"u"&&(s=.5),s=Math.max(Math.min(1,s),0),new c(this.x+(d.x-this.x)*s,this.y+(d.y-this.y)*s)},distanceFrom:function(d){var s=this.x-d.x,a=this.y-d.y;return Math.sqrt(s*s+a*a)},midPointFrom:function(d){return this.lerp(d)},min:function(d){return new c(Math.min(this.x,d.x),Math.min(this.y,d.y))},max:function(d){return new c(Math.max(this.x,d.x),Math.max(this.y,d.y))},toString:function(){return this.x+","+this.y},setXY:function(d,s){return this.x=d,this.y=s,this},setX:function(d){return this.x=d,this},setY:function(d){return this.y=d,this},setFromPoint:function(d){return this.x=d.x,this.y=d.y,this},swap:function(d){var s=this.x,a=this.y;this.x=d.x,this.y=d.y,d.x=s,d.y=a},clone:function(){return new c(this.x,this.y)}}}(i),function(f){var r=f.fabric||(f.fabric={});if(r.Intersection){r.warn("fabric.Intersection is already defined");return}function c(d){this.status=d,this.points=[]}r.Intersection=c,r.Intersection.prototype={constructor:c,appendPoint:function(d){return this.points.push(d),this},appendPoints:function(d){return this.points=this.points.concat(d),this}},r.Intersection.intersectLineLine=function(d,s,a,o){var g,m=(o.x-a.x)*(d.y-a.y)-(o.y-a.y)*(d.x-a.x),l=(s.x-d.x)*(d.y-a.y)-(s.y-d.y)*(d.x-a.x),v=(o.y-a.y)*(s.x-d.x)-(o.x-a.x)*(s.y-d.y);if(v!==0){var _=m/v,b=l/v;0<=_&&_<=1&&0<=b&&b<=1?(g=new c("Intersection"),g.appendPoint(new r.Point(d.x+_*(s.x-d.x),d.y+_*(s.y-d.y)))):g=new c}else m===0||l===0?g=new c("Coincident"):g=new c("Parallel");return g},r.Intersection.intersectLinePolygon=function(d,s,a){var o=new c,g=a.length,m,l,v,_;for(_=0;_<g;_++)m=a[_],l=a[(_+1)%g],v=c.intersectLineLine(d,s,m,l),o.appendPoints(v.points);return o.points.length>0&&(o.status="Intersection"),o},r.Intersection.intersectPolygonPolygon=function(d,s){var a=new c,o=d.length,g;for(g=0;g<o;g++){var m=d[g],l=d[(g+1)%o],v=c.intersectLinePolygon(m,l,s);a.appendPoints(v.points)}return a.points.length>0&&(a.status="Intersection"),a},r.Intersection.intersectPolygonRectangle=function(d,s,a){var o=s.min(a),g=s.max(a),m=new r.Point(g.x,o.y),l=new r.Point(o.x,g.y),v=c.intersectLinePolygon(o,m,d),_=c.intersectLinePolygon(m,g,d),b=c.intersectLinePolygon(g,l,d),y=c.intersectLinePolygon(l,o,d),C=new c;return C.appendPoints(v.points),C.appendPoints(_.points),C.appendPoints(b.points),C.appendPoints(y.points),C.points.length>0&&(C.status="Intersection"),C}}(i),function(f){var r=f.fabric||(f.fabric={});if(r.Color){r.warn("fabric.Color is already defined.");return}function c(s){s?this._tryParsingColor(s):this.setSource([0,0,0,1])}r.Color=c,r.Color.prototype={_tryParsingColor:function(s){var a;s in c.colorNameMap&&(s=c.colorNameMap[s]),s==="transparent"&&(a=[255,255,255,0]),a||(a=c.sourceFromHex(s)),a||(a=c.sourceFromRgb(s)),a||(a=c.sourceFromHsl(s)),a||(a=[0,0,0,1]),a&&this.setSource(a)},_rgbToHsl:function(s,a,o){s/=255,a/=255,o/=255;var g,m,l,v=r.util.array.max([s,a,o]),_=r.util.array.min([s,a,o]);if(l=(v+_)/2,v===_)g=m=0;else{var b=v-_;switch(m=l>.5?b/(2-v-_):b/(v+_),v){case s:g=(a-o)/b+(a<o?6:0);break;case a:g=(o-s)/b+2;break;case o:g=(s-a)/b+4;break}g/=6}return[Math.round(g*360),Math.round(m*100),Math.round(l*100)]},getSource:function(){return this._source},setSource:function(s){this._source=s},toRgb:function(){var s=this.getSource();return"rgb("+s[0]+","+s[1]+","+s[2]+")"},toRgba:function(){var s=this.getSource();return"rgba("+s[0]+","+s[1]+","+s[2]+","+s[3]+")"},toHsl:function(){var s=this.getSource(),a=this._rgbToHsl(s[0],s[1],s[2]);return"hsl("+a[0]+","+a[1]+"%,"+a[2]+"%)"},toHsla:function(){var s=this.getSource(),a=this._rgbToHsl(s[0],s[1],s[2]);return"hsla("+a[0]+","+a[1]+"%,"+a[2]+"%,"+s[3]+")"},toHex:function(){var s=this.getSource(),a,o,g;return a=s[0].toString(16),a=a.length===1?"0"+a:a,o=s[1].toString(16),o=o.length===1?"0"+o:o,g=s[2].toString(16),g=g.length===1?"0"+g:g,a.toUpperCase()+o.toUpperCase()+g.toUpperCase()},toHexa:function(){var s=this.getSource(),a;return a=Math.round(s[3]*255),a=a.toString(16),a=a.length===1?"0"+a:a,this.toHex()+a.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(s){var a=this.getSource();return a[3]=s,this.setSource(a),this},toGrayscale:function(){var s=this.getSource(),a=parseInt((s[0]*.3+s[1]*.59+s[2]*.11).toFixed(0),10),o=s[3];return this.setSource([a,a,a,o]),this},toBlackWhite:function(s){var a=this.getSource(),o=(a[0]*.3+a[1]*.59+a[2]*.11).toFixed(0),g=a[3];return s=s||127,o=Number(o)<Number(s)?0:255,this.setSource([o,o,o,g]),this},overlayWith:function(s){s instanceof c||(s=new c(s));var a=[],o=this.getAlpha(),g=.5,m=this.getSource(),l=s.getSource(),v;for(v=0;v<3;v++)a.push(Math.round(m[v]*(1-g)+l[v]*g));return a[3]=o,this.setSource(a),this}},r.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,r.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,r.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,r.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function d(s,a,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?s+(a-s)*6*o:o<1/2?a:o<2/3?s+(a-s)*(2/3-o)*6:s}r.Color.fromRgb=function(s){return c.fromSource(c.sourceFromRgb(s))},r.Color.sourceFromRgb=function(s){var a=s.match(c.reRGBa);if(a){var o=parseInt(a[1],10)/(/%$/.test(a[1])?100:1)*(/%$/.test(a[1])?255:1),g=parseInt(a[2],10)/(/%$/.test(a[2])?100:1)*(/%$/.test(a[2])?255:1),m=parseInt(a[3],10)/(/%$/.test(a[3])?100:1)*(/%$/.test(a[3])?255:1);return[parseInt(o,10),parseInt(g,10),parseInt(m,10),a[4]?parseFloat(a[4]):1]}},r.Color.fromRgba=c.fromRgb,r.Color.fromHsl=function(s){return c.fromSource(c.sourceFromHsl(s))},r.Color.sourceFromHsl=function(s){var a=s.match(c.reHSLa);if(a){var o=(parseFloat(a[1])%360+360)%360/360,g=parseFloat(a[2])/(/%$/.test(a[2])?100:1),m=parseFloat(a[3])/(/%$/.test(a[3])?100:1),l,v,_;if(g===0)l=v=_=m;else{var b=m<=.5?m*(g+1):m+g-m*g,y=m*2-b;l=d(y,b,o+1/3),v=d(y,b,o),_=d(y,b,o-1/3)}return[Math.round(l*255),Math.round(v*255),Math.round(_*255),a[4]?parseFloat(a[4]):1]}},r.Color.fromHsla=c.fromHsl,r.Color.fromHex=function(s){return c.fromSource(c.sourceFromHex(s))},r.Color.sourceFromHex=function(s){if(s.match(c.reHex)){var a=s.slice(s.indexOf("#")+1),o=a.length===3||a.length===4,g=a.length===8||a.length===4,m=o?a.charAt(0)+a.charAt(0):a.substring(0,2),l=o?a.charAt(1)+a.charAt(1):a.substring(2,4),v=o?a.charAt(2)+a.charAt(2):a.substring(4,6),_=g?o?a.charAt(3)+a.charAt(3):a.substring(6,8):"FF";return[parseInt(m,16),parseInt(l,16),parseInt(v,16),parseFloat((parseInt(_,16)/255).toFixed(2))]}},r.Color.fromSource=function(s){var a=new c;return a.setSource(s),a}}(i),function(f){var r=f.fabric||(f.fabric={}),c=["e","se","s","sw","w","nw","n","ne","e"],d=["ns","nesw","ew","nwse"],s={},a="left",o="top",g="right",m="bottom",l="center",v={top:m,bottom:o,left:g,right:a,center:l},_=r.util.radiansToDegrees,b=Math.sign||function(ne){return(ne>0)-(ne<0)||+ne};function y(ne,H){var ce=ne.angle+_(Math.atan2(H.y,H.x))+360;return Math.round(ce%360/45)}function C(ne,H){var ce=H.transform.target,fe=ce.canvas,ie=r.util.object.clone(H);ie.target=ce,fe&&fe.fire("object:"+ne,ie),ce.fire(ne,H)}function S(ne,H){var ce=H.canvas,fe=ce.uniScaleKey,ie=ne[fe];return ce.uniformScaling&&!ie||!ce.uniformScaling&&ie}function w(ne){return ne.originX===l&&ne.originY===l}function O(ne,H,ce){var fe=ne.lockScalingX,ie=ne.lockScalingY;return!!(fe&&ie||!H&&(fe||ie)&&ce||fe&&H==="x"||ie&&H==="y")}function A(ne,H,ce){var fe="not-allowed",ie=S(ne,ce),de="";if(H.x!==0&&H.y===0?de="x":H.x===0&&H.y!==0&&(de="y"),O(ce,de,ie))return fe;var _e=y(ce,H);return c[_e]+"-resize"}function N(ne,H,ce){var fe="not-allowed";if(H.x!==0&&ce.lockSkewingY||H.y!==0&&ce.lockSkewingX)return fe;var ie=y(ce,H)%4;return d[ie]+"-resize"}function W(ne,H,ce){return ne[ce.canvas.altActionKey]?s.skewCursorStyleHandler(ne,H,ce):s.scaleCursorStyleHandler(ne,H,ce)}function Y(ne,H,ce){var fe=ne[ce.canvas.altActionKey];if(H.x===0)return fe?"skewX":"scaleY";if(H.y===0)return fe?"skewY":"scaleX"}function q(ne,H,ce){return ce.lockRotation?"not-allowed":H.cursorStyle}function te(ne,H,ce,fe){return{e:ne,transform:H,pointer:{x:ce,y:fe}}}function re(ne){return function(H,ce,fe,ie){var de=ce.target,_e=de.getCenterPoint(),Pe=de.translateToOriginPoint(_e,ce.originX,ce.originY),be=ne(H,ce,fe,ie);return de.setPositionByOrigin(Pe,ce.originX,ce.originY),be}}function me(ne,H){return function(ce,fe,ie,de){var _e=H(ce,fe,ie,de);return _e&&C(ne,te(ce,fe,ie,de)),_e}}function G(ne,H,ce,fe,ie){var de=ne.target,_e=de.controls[ne.corner],Pe=de.canvas.getZoom(),be=de.padding/Pe,ae=de.toLocalPoint(new r.Point(fe,ie),H,ce);return ae.x>=be&&(ae.x-=be),ae.x<=-be&&(ae.x+=be),ae.y>=be&&(ae.y-=be),ae.y<=be&&(ae.y+=be),ae.x-=_e.offsetX,ae.y-=_e.offsetY,ae}function oe(ne){return ne.flipX!==ne.flipY}function T(ne,H,ce,fe,ie){if(ne[H]!==0){var de=ne._getTransformedDimensions()[fe],_e=ie/de*ne[ce];ne.set(ce,_e)}}function F(ne,H,ce,fe){var ie=H.target,de=ie._getTransformedDimensions(0,ie.skewY),_e=G(H,H.originX,H.originY,ce,fe),Pe=Math.abs(_e.x*2)-de.x,be=ie.skewX,ae;Pe<2?ae=0:(ae=_(Math.atan2(Pe/ie.scaleX,de.y/ie.scaleY)),H.originX===a&&H.originY===m&&(ae=-ae),H.originX===g&&H.originY===o&&(ae=-ae),oe(ie)&&(ae=-ae));var ke=be!==ae;if(ke){var Ee=ie._getTransformedDimensions().y;ie.set("skewX",ae),T(ie,"skewY","scaleY","y",Ee)}return ke}function L(ne,H,ce,fe){var ie=H.target,de=ie._getTransformedDimensions(ie.skewX,0),_e=G(H,H.originX,H.originY,ce,fe),Pe=Math.abs(_e.y*2)-de.y,be=ie.skewY,ae;Pe<2?ae=0:(ae=_(Math.atan2(Pe/ie.scaleY,de.x/ie.scaleX)),H.originX===a&&H.originY===m&&(ae=-ae),H.originX===g&&H.originY===o&&(ae=-ae),oe(ie)&&(ae=-ae));var ke=be!==ae;if(ke){var Ee=ie._getTransformedDimensions().x;ie.set("skewY",ae),T(ie,"skewX","scaleX","x",Ee)}return ke}function M(ne,H,ce,fe){var ie=H.target,de=ie.skewX,_e,Pe=H.originY;if(ie.lockSkewingX)return!1;if(de===0){var be=G(H,l,l,ce,fe);be.x>0?_e=a:_e=g}else de>0&&(_e=Pe===o?a:g),de<0&&(_e=Pe===o?g:a),oe(ie)&&(_e=_e===a?g:a);H.originX=_e;var ae=me("skewing",re(F));return ae(ne,H,ce,fe)}function K(ne,H,ce,fe){var ie=H.target,de=ie.skewY,_e,Pe=H.originX;if(ie.lockSkewingY)return!1;if(de===0){var be=G(H,l,l,ce,fe);be.y>0?_e=o:_e=m}else de>0&&(_e=Pe===a?o:m),de<0&&(_e=Pe===a?m:o),oe(ie)&&(_e=_e===o?m:o);H.originY=_e;var ae=me("skewing",re(L));return ae(ne,H,ce,fe)}function k(ne,H,ce,fe){var ie=H,de=ie.target,_e=de.translateToOriginPoint(de.getCenterPoint(),ie.originX,ie.originY);if(de.lockRotation)return!1;var Pe=Math.atan2(ie.ey-_e.y,ie.ex-_e.x),be=Math.atan2(fe-_e.y,ce-_e.x),ae=_(be-Pe+ie.theta),ke=!0;if(de.snapAngle>0){var Ee=de.snapAngle,ze=de.snapThreshold||Ee,Je=Math.ceil(ae/Ee)*Ee,Ve=Math.floor(ae/Ee)*Ee;Math.abs(ae-Ve)<ze?ae=Ve:Math.abs(ae-Je)<ze&&(ae=Je)}return ae<0&&(ae=360+ae),ae%=360,ke=de.angle!==ae,de.angle=ae,ke}function P(ne,H,ce,fe,ie){ie=ie||{};var de=H.target,_e=de.lockScalingX,Pe=de.lockScalingY,be=ie.by,ae,ke,Ee,ze,Je=S(ne,de),Ve=O(de,be,Je),Qe,Ge,St=H.gestureScale;if(Ve)return!1;if(St)ke=H.scaleX*St,Ee=H.scaleY*St;else{if(ae=G(H,H.originX,H.originY,ce,fe),Qe=be!=="y"?b(ae.x):1,Ge=be!=="x"?b(ae.y):1,H.signX||(H.signX=Qe),H.signY||(H.signY=Ge),de.lockScalingFlip&&(H.signX!==Qe||H.signY!==Ge))return!1;if(ze=de._getTransformedDimensions(),Je&&!be){var Ct=Math.abs(ae.x)+Math.abs(ae.y),wt=H.original,Yt=Math.abs(ze.x*wt.scaleX/de.scaleX)+Math.abs(ze.y*wt.scaleY/de.scaleY),Te=Ct/Yt;ke=wt.scaleX*Te,Ee=wt.scaleY*Te}else ke=Math.abs(ae.x*de.scaleX/ze.x),Ee=Math.abs(ae.y*de.scaleY/ze.y);w(H)&&(ke*=2,Ee*=2),H.signX!==Qe&&be!=="y"&&(H.originX=v[H.originX],ke*=-1,H.signX=Qe),H.signY!==Ge&&be!=="x"&&(H.originY=v[H.originY],Ee*=-1,H.signY=Ge)}var Oe=de.scaleX,Bt=de.scaleY;return be?(be==="x"&&de.set("scaleX",ke),be==="y"&&de.set("scaleY",Ee)):(!_e&&de.set("scaleX",ke),!Pe&&de.set("scaleY",Ee)),Oe!==de.scaleX||Bt!==de.scaleY}function X(ne,H,ce,fe){return P(ne,H,ce,fe)}function V(ne,H,ce,fe){return P(ne,H,ce,fe,{by:"x"})}function le(ne,H,ce,fe){return P(ne,H,ce,fe,{by:"y"})}function ee(ne,H,ce,fe){return ne[H.target.canvas.altActionKey]?s.skewHandlerX(ne,H,ce,fe):s.scalingY(ne,H,ce,fe)}function he(ne,H,ce,fe){return ne[H.target.canvas.altActionKey]?s.skewHandlerY(ne,H,ce,fe):s.scalingX(ne,H,ce,fe)}function pe(ne,H,ce,fe){var ie=H.target,de=G(H,H.originX,H.originY,ce,fe),_e=ie.strokeWidth/(ie.strokeUniform?ie.scaleX:1),Pe=w(H)?2:1,be=ie.width,ae=Math.abs(de.x*Pe/ie.scaleX)-_e;return ie.set("width",Math.max(ae,0)),be!==ae}function U(ne,H,ce,fe){var ie=H.target,de=ce-H.offsetX,_e=fe-H.offsetY,Pe=!ie.get("lockMovementX")&&ie.left!==de,be=!ie.get("lockMovementY")&&ie.top!==_e;return Pe&&ie.set("left",de),be&&ie.set("top",_e),(Pe||be)&&C("moving",te(ne,H,ce,fe)),Pe||be}s.scaleCursorStyleHandler=A,s.skewCursorStyleHandler=N,s.scaleSkewCursorStyleHandler=W,s.rotationWithSnapping=me("rotating",re(k)),s.scalingEqually=me("scaling",re(X)),s.scalingX=me("scaling",re(V)),s.scalingY=me("scaling",re(le)),s.scalingYOrSkewingX=ee,s.scalingXOrSkewingY=he,s.changeWidth=me("resizing",re(pe)),s.skewHandlerX=M,s.skewHandlerY=K,s.dragHandler=U,s.scaleOrSkewActionName=Y,s.rotationStyleHandler=q,s.fireEvent=C,s.wrapWithFixedAnchor=re,s.wrapWithFireEvent=me,s.getLocalPoint=G,r.controlsUtils=s}(i),function(f){var r=f.fabric||(f.fabric={}),c=r.util.degreesToRadians,d=r.controlsUtils;function s(o,g,m,l,v){l=l||{};var _=this.sizeX||l.cornerSize||v.cornerSize,b=this.sizeY||l.cornerSize||v.cornerSize,y=typeof l.transparentCorners<"u"?l.transparentCorners:v.transparentCorners,C=y?"stroke":"fill",S=!y&&(l.cornerStrokeColor||v.cornerStrokeColor),w=g,O=m,A;o.save(),o.fillStyle=l.cornerColor||v.cornerColor,o.strokeStyle=l.cornerStrokeColor||v.cornerStrokeColor,_>b?(A=_,o.scale(1,b/_),O=m*_/b):b>_?(A=b,o.scale(_/b,1),w=g*b/_):A=_,o.lineWidth=1,o.beginPath(),o.arc(w,O,A/2,0,2*Math.PI,!1),o[C](),S&&o.stroke(),o.restore()}function a(o,g,m,l,v){l=l||{};var _=this.sizeX||l.cornerSize||v.cornerSize,b=this.sizeY||l.cornerSize||v.cornerSize,y=typeof l.transparentCorners<"u"?l.transparentCorners:v.transparentCorners,C=y?"stroke":"fill",S=!y&&(l.cornerStrokeColor||v.cornerStrokeColor),w=_/2,O=b/2;o.save(),o.fillStyle=l.cornerColor||v.cornerColor,o.strokeStyle=l.cornerStrokeColor||v.cornerStrokeColor,o.lineWidth=1,o.translate(g,m),o.rotate(c(v.angle)),o[C+"Rect"](-w,-O,_,b),S&&o.strokeRect(-w,-O,_,b),o.restore()}d.renderCircleControl=s,d.renderSquareControl=a}(i),function(f){var r=f.fabric||(f.fabric={});function c(d){for(var s in d)this[s]=d[s]}r.Control=c,r.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(d,s){return s.cursorStyle},getActionName:function(d,s){return s.actionName},getVisibility:function(d,s){var a=d._controlsVisibility;return a&&typeof a[s]<"u"?a[s]:this.visible},setVisibility:function(d){this.visible=d},positionHandler:function(d,s){var a=r.util.transformPoint({x:this.x*d.x+this.offsetX,y:this.y*d.y+this.offsetY},s);return a},calcCornerCoords:function(d,s,a,o,g){var m,l,v,_,b=g?this.touchSizeX:this.sizeX,y=g?this.touchSizeY:this.sizeY;if(b&&y&&b!==y){var C=Math.atan2(y,b),S=Math.sqrt(b*b+y*y)/2,w=C-r.util.degreesToRadians(d),O=Math.PI/2-C-r.util.degreesToRadians(d);m=S*r.util.cos(w),l=S*r.util.sin(w),v=S*r.util.cos(O),_=S*r.util.sin(O)}else{var A=b&&y?b:s;S=A*.7071067812;var w=r.util.degreesToRadians(45-d);m=v=S*r.util.cos(w),l=_=S*r.util.sin(w)}return{tl:{x:a-_,y:o-v},tr:{x:a+m,y:o-l},bl:{x:a-m,y:o+l},br:{x:a+_,y:o+v}}},render:function(d,s,a,o,g){switch(o=o||{},o.cornerStyle||g.cornerStyle){case"circle":r.controlsUtils.renderCircleControl.call(this,d,s,a,o,g);break;default:r.controlsUtils.renderSquareControl.call(this,d,s,a,o,g)}}}}(i),function(){function f(a,o){var g=a.getAttribute("style"),m=a.getAttribute("offset")||0,l,v,_,b;if(m=parseFloat(m)/(/%$/.test(m)?100:1),m=m<0?0:m>1?1:m,g){var y=g.split(/\s*;\s*/);for(y[y.length-1]===""&&y.pop(),b=y.length;b--;){var C=y[b].split(/\s*:\s*/),S=C[0].trim(),w=C[1].trim();S==="stop-color"?l=w:S==="stop-opacity"&&(_=w)}}return l||(l=a.getAttribute("stop-color")||"rgb(0,0,0)"),_||(_=a.getAttribute("stop-opacity")),l=new e.Color(l),v=l.getAlpha(),_=isNaN(parseFloat(_))?1:parseFloat(_),_*=v*o,{offset:m,color:l.toRgb(),opacity:_}}function r(a){return{x1:a.getAttribute("x1")||0,y1:a.getAttribute("y1")||0,x2:a.getAttribute("x2")||"100%",y2:a.getAttribute("y2")||0}}function c(a){return{x1:a.getAttribute("fx")||a.getAttribute("cx")||"50%",y1:a.getAttribute("fy")||a.getAttribute("cy")||"50%",r1:0,x2:a.getAttribute("cx")||"50%",y2:a.getAttribute("cy")||"50%",r2:a.getAttribute("r")||"50%"}}var d=e.util.object.clone;e.Gradient=e.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(a){a||(a={}),a.coords||(a.coords={});var o,g=this;Object.keys(a).forEach(function(m){g[m]=a[m]}),this.id?this.id+="_"+e.Object.__uid++:this.id=e.Object.__uid++,o={x1:a.coords.x1||0,y1:a.coords.y1||0,x2:a.coords.x2||0,y2:a.coords.y2||0},this.type==="radial"&&(o.r1=a.coords.r1||0,o.r2=a.coords.r2||0),this.coords=o,this.colorStops=a.colorStops.slice()},addColorStop:function(a){for(var o in a){var g=new e.Color(a[o]);this.colorStops.push({offset:parseFloat(o),color:g.toRgb(),opacity:g.getAlpha()})}return this},toObject:function(a){var o={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return e.util.populateWithProperties(this,o,a),o},toSVG:function(a,v){var g=d(this.coords,!0),m,l,v=v||{},_,b,y=d(this.colorStops,!0),C=g.r1>g.r2,S=this.gradientTransform?this.gradientTransform.concat():e.iMatrix.concat(),w=-this.offsetX,O=-this.offsetY,A=!!v.additionalTransform,N=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(y.sort(function(re,me){return re.offset-me.offset}),N==="objectBoundingBox"?(w/=a.width,O/=a.height):(w+=a.width/2,O+=a.height/2),a.type==="path"&&this.gradientUnits!=="percentage"&&(w-=a.pathOffset.x,O-=a.pathOffset.y),S[4]-=w,S[5]-=O,b='id="SVGID_'+this.id+'" gradientUnits="'+N+'"',b+=' gradientTransform="'+(A?v.additionalTransform+" ":"")+e.util.matrixToSVG(S)+'" ',this.type==="linear"?_=["<linearGradient ",b,' x1="',g.x1,'" y1="',g.y1,'" x2="',g.x2,'" y2="',g.y2,`">
`]:this.type==="radial"&&(_=["<radialGradient ",b,' cx="',C?g.x1:g.x2,'" cy="',C?g.y1:g.y2,'" r="',C?g.r1:g.r2,'" fx="',C?g.x2:g.x1,'" fy="',C?g.y2:g.y1,`">
`]),this.type==="radial"){if(C)for(y=y.concat(),y.reverse(),m=0,l=y.length;m<l;m++)y[m].offset=1-y[m].offset;var W=Math.min(g.r1,g.r2);if(W>0){var Y=Math.max(g.r1,g.r2),q=W/Y;for(m=0,l=y.length;m<l;m++)y[m].offset+=q*(1-y[m].offset)}}for(m=0,l=y.length;m<l;m++){var te=y[m];_.push("<stop ",'offset="',te.offset*100+"%",'" style="stop-color:',te.color,typeof te.opacity<"u"?";stop-opacity: "+te.opacity:";",`"/>
`)}return _.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),_.join("")},toLive:function(a){var o,g=e.util.object.clone(this.coords),m,l;if(this.type){for(this.type==="linear"?o=a.createLinearGradient(g.x1,g.y1,g.x2,g.y2):this.type==="radial"&&(o=a.createRadialGradient(g.x1,g.y1,g.r1,g.x2,g.y2,g.r2)),m=0,l=this.colorStops.length;m<l;m++){var v=this.colorStops[m].color,_=this.colorStops[m].opacity,b=this.colorStops[m].offset;typeof _<"u"&&(v=new e.Color(v).setAlpha(_).toRgba()),o.addColorStop(b,v)}return o}}}),e.util.object.extend(e.Gradient,{fromElement:function(a,o,g,m){var l=parseFloat(g)/(/%$/.test(g)?100:1);l=l<0?0:l>1?1:l,isNaN(l)&&(l=1);var v=a.getElementsByTagName("stop"),_,b=a.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",y=a.getAttribute("gradientTransform")||"",C=[],S,w,O=0,A=0,N;for(a.nodeName==="linearGradient"||a.nodeName==="LINEARGRADIENT"?(_="linear",S=r(a)):(_="radial",S=c(a)),w=v.length;w--;)C.push(f(v[w],l));N=e.parseTransformAttribute(y),s(o,S,m,b),b==="pixels"&&(O=-o.left,A=-o.top);var W=new e.Gradient({id:a.getAttribute("id"),type:_,coords:S,colorStops:C,gradientUnits:b,gradientTransform:N,offsetX:O,offsetY:A});return W}});function s(a,o,g,m){var l,v;Object.keys(o).forEach(function(_){l=o[_],l==="Infinity"?v=1:l==="-Infinity"?v=0:(v=parseFloat(o[_],10),typeof l=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(l)&&(v*=.01,m==="pixels"&&((_==="x1"||_==="x2"||_==="r2")&&(v*=g.viewBoxWidth||g.width),(_==="y1"||_==="y2")&&(v*=g.viewBoxHeight||g.height)))),o[_]=v})}}(),function(){var f=e.util.toFixed;e.Pattern=e.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(r,c){if(r||(r={}),this.id=e.Object.__uid++,this.setOptions(r),!r.source||r.source&&typeof r.source!="string"){c&&c(this);return}else{var d=this;this.source=e.util.createImage(),e.util.loadImage(r.source,function(s,a){d.source=s,c&&c(d,a)},null,this.crossOrigin)}},toObject:function(r){var c=e.Object.NUM_FRACTION_DIGITS,d,s;return typeof this.source.src=="string"?d=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(d=this.source.toDataURL()),s={type:"pattern",source:d,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:f(this.offsetX,c),offsetY:f(this.offsetY,c),patternTransform:this.patternTransform?this.patternTransform.concat():null},e.util.populateWithProperties(this,s,r),s},toSVG:function(r){var c=typeof this.source=="function"?this.source():this.source,d=c.width/r.width,s=c.height/r.height,a=this.offsetX/r.width,o=this.offsetY/r.height,g="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(s=1,o&&(s+=Math.abs(o))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(d=1,a&&(d+=Math.abs(a))),c.src?g=c.src:c.toDataURL&&(g=c.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+a+'" y="'+o+'" width="'+d+'" height="'+s+`">
<image x="0" y="0" width="`+c.width+'" height="'+c.height+'" xlink:href="'+g+`"></image>
</pattern>
`},setOptions:function(r){for(var c in r)this[c]=r[c]},toLive:function(r){var c=this.source;return!c||typeof c.src<"u"&&(!c.complete||c.naturalWidth===0||c.naturalHeight===0)?"":r.createPattern(c,this.repeat)}})}(),function(f){var r=f.fabric||(f.fabric={}),c=r.util.toFixed;if(r.Shadow){r.warn("fabric.Shadow is already defined.");return}r.Shadow=r.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(d){typeof d=="string"&&(d=this._parseShadow(d));for(var s in d)this[s]=d[s];this.id=r.Object.__uid++},_parseShadow:function(d){var s=d.trim(),a=r.Shadow.reOffsetsAndBlur.exec(s)||[],o=s.replace(r.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:o.trim(),offsetX:parseFloat(a[1],10)||0,offsetY:parseFloat(a[2],10)||0,blur:parseFloat(a[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(d){var s=40,a=40,o=r.Object.NUM_FRACTION_DIGITS,g=r.util.rotateVector({x:this.offsetX,y:this.offsetY},r.util.degreesToRadians(-d.angle)),m=20,l=new r.Color(this.color);return d.width&&d.height&&(s=c((Math.abs(g.x)+this.blur)/d.width,o)*100+m,a=c((Math.abs(g.y)+this.blur)/d.height,o)*100+m),d.flipX&&(g.x*=-1),d.flipY&&(g.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+a+'%" height="'+(100+2*a)+'%" x="-'+s+'%" width="'+(100+2*s)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+c(this.blur?this.blur/2:0,o)+`"></feGaussianBlur>
	<feOffset dx="`+c(g.x,o)+'" dy="'+c(g.y,o)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+l.toRgb()+'" flood-opacity="'+l.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var d={},s=r.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(a){this[a]!==s[a]&&(d[a]=this[a])},this),d}}),r.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(i),function(){if(e.StaticCanvas){e.warn("fabric.StaticCanvas is already defined.");return}var f=e.util.object.extend,r=e.util.getElementOffset,c=e.util.removeFromArray,d=e.util.toFixed,s=e.util.transformPoint,a=e.util.invertTransform,o=e.util.getNodeCanvas,g=e.util.createCanvasElement,m=new Error("Could not initialize `canvas` element");e.StaticCanvas=e.util.createClass(e.CommonMethods,{initialize:function(l,v){v||(v={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(l,v)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:e.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(l,v){var _=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(l),this._initOptions(v),this.interactive||this._initRetinaScaling(),v.overlayImage&&this.setOverlayImage(v.overlayImage,_),v.backgroundImage&&this.setBackgroundImage(v.backgroundImage,_),v.backgroundColor&&this.setBackgroundColor(v.backgroundColor,_),v.overlayColor&&this.setOverlayColor(v.overlayColor,_),this.calcOffset()},_isRetinaScaling:function(){return e.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,e.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var l=e.devicePixelRatio;this.__initRetinaScaling(l,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(l,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(l,v,_){v.setAttribute("width",this.width*l),v.setAttribute("height",this.height*l),_.scale(l,l)},calcOffset:function(){return this._offset=r(this.lowerCanvasEl),this},setOverlayImage:function(l,v,_){return this.__setBgOverlayImage("overlayImage",l,v,_)},setBackgroundImage:function(l,v,_){return this.__setBgOverlayImage("backgroundImage",l,v,_)},setOverlayColor:function(l,v){return this.__setBgOverlayColor("overlayColor",l,v)},setBackgroundColor:function(l,v){return this.__setBgOverlayColor("backgroundColor",l,v)},__setBgOverlayImage:function(l,v,_,b){return typeof v=="string"?e.util.loadImage(v,function(y,C){if(y){var S=new e.Image(y,b);this[l]=S,S.canvas=this}_&&_(y,C)},this,b&&b.crossOrigin):(b&&v.setOptions(b),this[l]=v,v&&(v.canvas=this),_&&_(v,!1)),this},__setBgOverlayColor:function(l,v,_){return this[l]=v,this._initGradient(v,l),this._initPattern(v,l,_),this},_createCanvasElement:function(){var l=g();if(!l||(l.style||(l.style={}),typeof l.getContext>"u"))throw m;return l},_initOptions:function(l){var v=this.lowerCanvasEl;this._setOptions(l),this.width=this.width||parseInt(v.width,10)||0,this.height=this.height||parseInt(v.height,10)||0,this.lowerCanvasEl.style&&(v.width=this.width,v.height=this.height,v.style.width=this.width+"px",v.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(l){l&&l.getContext?this.lowerCanvasEl=l:this.lowerCanvasEl=e.util.getById(l)||this._createCanvasElement(),e.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(l,v){return this.setDimensions({width:l},v)},setHeight:function(l,v){return this.setDimensions({height:l},v)},setDimensions:function(l,v){var _;v=v||{};for(var b in l)_=l[b],v.cssOnly||(this._setBackstoreDimension(b,l[b]),_+="px",this.hasLostContext=!0),v.backstoreOnly||this._setCssDimension(b,_);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),v.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(l,v){return this.lowerCanvasEl[l]=v,this.upperCanvasEl&&(this.upperCanvasEl[l]=v),this.cacheCanvasEl&&(this.cacheCanvasEl[l]=v),this[l]=v,this},_setCssDimension:function(l,v){return this.lowerCanvasEl.style[l]=v,this.upperCanvasEl&&(this.upperCanvasEl.style[l]=v),this.wrapperEl&&(this.wrapperEl.style[l]=v),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(l){var v=this._activeObject,_=this.backgroundImage,b=this.overlayImage,y,C,S;for(this.viewportTransform=l,C=0,S=this._objects.length;C<S;C++)y=this._objects[C],y.group||y.setCoords(!0);return v&&v.setCoords(),_&&_.setCoords(!0),b&&b.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(l,v){var _=l,b=this.viewportTransform.slice(0);l=s(l,a(this.viewportTransform)),b[0]=v,b[3]=v;var y=s(l,b);return b[4]+=_.x-y.x,b[5]+=_.y-y.y,this.setViewportTransform(b)},setZoom:function(l){return this.zoomToPoint(new e.Point(0,0),l),this},absolutePan:function(l){var v=this.viewportTransform.slice(0);return v[4]=-l.x,v[5]=-l.y,this.setViewportTransform(v)},relativePan:function(l){return this.absolutePan(new e.Point(-l.x-this.viewportTransform[4],-l.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(l){this.stateful&&l.setupState(),l._set("canvas",this),l.setCoords(),this.fire("object:added",{target:l}),l.fire("added")},_onObjectRemoved:function(l){this.fire("object:removed",{target:l}),l.fire("removed"),delete l.canvas},clearContext:function(l){return l.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var l=this.contextContainer;return this.renderCanvas(l,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=e.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var l={},v=this.width,_=this.height,b=a(this.viewportTransform);return l.tl=s({x:0,y:0},b),l.br=s({x:v,y:_},b),l.tr=new e.Point(l.br.x,l.tl.y),l.bl=new e.Point(l.tl.x,l.br.y),this.vptCoords=l,l},cancelRequestedRender:function(){this.isRendering&&(e.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(l,v){var _=this.viewportTransform,b=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(l),e.util.setImageSmoothing(l,this.imageSmoothingEnabled),this.fire("before:render",{ctx:l}),this._renderBackground(l),l.save(),l.transform(_[0],_[1],_[2],_[3],_[4],_[5]),this._renderObjects(l,v),l.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(l),b&&(b.canvas=this,b.shouldCache(),b._transformDone=!0,b.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(l)),this._renderOverlay(l),this.controlsAboveOverlay&&this.interactive&&this.drawControls(l),this.fire("after:render",{ctx:l})},drawClipPathOnCanvas:function(l){var v=this.viewportTransform,_=this.clipPath;l.save(),l.transform(v[0],v[1],v[2],v[3],v[4],v[5]),l.globalCompositeOperation="destination-in",_.transform(l),l.scale(1/_.zoomX,1/_.zoomY),l.drawImage(_._cacheCanvas,-_.cacheTranslationX,-_.cacheTranslationY),l.restore()},_renderObjects:function(l,v){var _,b;for(_=0,b=v.length;_<b;++_)v[_]&&v[_].render(l)},_renderBackgroundOrOverlay:function(l,v){var _=this[v+"Color"],b=this[v+"Image"],y=this.viewportTransform,C=this[v+"Vpt"];if(!(!_&&!b)){if(_){l.save(),l.beginPath(),l.moveTo(0,0),l.lineTo(this.width,0),l.lineTo(this.width,this.height),l.lineTo(0,this.height),l.closePath(),l.fillStyle=_.toLive?_.toLive(l,this):_,C&&l.transform(y[0],y[1],y[2],y[3],y[4],y[5]),l.transform(1,0,0,1,_.offsetX||0,_.offsetY||0);var S=_.gradientTransform||_.patternTransform;S&&l.transform(S[0],S[1],S[2],S[3],S[4],S[5]),l.fill(),l.restore()}b&&(l.save(),C&&l.transform(y[0],y[1],y[2],y[3],y[4],y[5]),b.render(l),l.restore())}},_renderBackground:function(l){this._renderBackgroundOrOverlay(l,"background")},_renderOverlay:function(l){this._renderBackgroundOrOverlay(l,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new e.Point(this.width/2,this.height/2)},centerObjectH:function(l){return this._centerObject(l,new e.Point(this.getCenterPoint().x,l.getCenterPoint().y))},centerObjectV:function(l){return this._centerObject(l,new e.Point(l.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(l){var v=this.getCenterPoint();return this._centerObject(l,v)},viewportCenterObject:function(l){var v=this.getVpCenter();return this._centerObject(l,v)},viewportCenterObjectH:function(l){var v=this.getVpCenter();return this._centerObject(l,new e.Point(v.x,l.getCenterPoint().y)),this},viewportCenterObjectV:function(l){var v=this.getVpCenter();return this._centerObject(l,new e.Point(l.getCenterPoint().x,v.y))},getVpCenter:function(){var l=this.getCenterPoint(),v=a(this.viewportTransform);return s(l,v)},_centerObject:function(l,v){return l.setPositionByOrigin(v,"center","center"),l.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(l){return this.toDatalessObject(l)},toObject:function(l){return this._toObjectMethod("toObject",l)},toDatalessObject:function(l){return this._toObjectMethod("toDatalessObject",l)},_toObjectMethod:function(l,v){var _=this.clipPath,b={version:e.version,objects:this._toObjects(l,v)};return _&&!_.excludeFromExport&&(b.clipPath=this._toObject(this.clipPath,l,v)),f(b,this.__serializeBgOverlay(l,v)),e.util.populateWithProperties(this,b,v),b},_toObjects:function(l,v){return this._objects.filter(function(_){return!_.excludeFromExport}).map(function(_){return this._toObject(_,l,v)},this)},_toObject:function(l,v,_){var b;this.includeDefaultValues||(b=l.includeDefaultValues,l.includeDefaultValues=!1);var y=l[v](_);return this.includeDefaultValues||(l.includeDefaultValues=b),y},__serializeBgOverlay:function(l,v){var _={},b=this.backgroundImage,y=this.overlayImage,C=this.backgroundColor,S=this.overlayColor;return C&&C.toObject?C.excludeFromExport||(_.background=C.toObject(v)):C&&(_.background=C),S&&S.toObject?S.excludeFromExport||(_.overlay=S.toObject(v)):S&&(_.overlay=S),b&&!b.excludeFromExport&&(_.backgroundImage=this._toObject(b,l,v)),y&&!y.excludeFromExport&&(_.overlayImage=this._toObject(y,l,v)),_},svgViewportTransformation:!0,toSVG:function(l,v){l||(l={}),l.reviver=v;var _=[];return this._setSVGPreamble(_,l),this._setSVGHeader(_,l),this.clipPath&&_.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(_,"background"),this._setSVGBgOverlayImage(_,"backgroundImage",v),this._setSVGObjects(_,v),this.clipPath&&_.push(`</g>
`),this._setSVGBgOverlayColor(_,"overlay"),this._setSVGBgOverlayImage(_,"overlayImage",v),_.push("</svg>"),_.join("")},_setSVGPreamble:function(l,v){v.suppressPreamble||l.push('<?xml version="1.0" encoding="',v.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(l,v){var _=v.width||this.width,b=v.height||this.height,y,C='viewBox="0 0 '+this.width+" "+this.height+'" ',S=e.Object.NUM_FRACTION_DIGITS;v.viewBox?C='viewBox="'+v.viewBox.x+" "+v.viewBox.y+" "+v.viewBox.width+" "+v.viewBox.height+'" ':this.svgViewportTransformation&&(y=this.viewportTransform,C='viewBox="'+d(-y[4]/y[0],S)+" "+d(-y[5]/y[3],S)+" "+d(this.width/y[0],S)+" "+d(this.height/y[3],S)+'" '),l.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',_,'" ','height="',b,'" ',C,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",e.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(v),`</defs>
`)},createSVGClipPathMarkup:function(l){var v=this.clipPath;return v?(v.clipPathId="CLIPPATH_"+e.Object.__uid++,'<clipPath id="'+v.clipPathId+`" >
`+this.clipPath.toClipPathSVG(l.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var l=this,v=["background","overlay"].map(function(_){var b=l[_+"Color"];if(b&&b.toLive){var y=l[_+"Vpt"],C=l.viewportTransform,S={width:l.width/(y?C[0]:1),height:l.height/(y?C[3]:1)};return b.toSVG(S,{additionalTransform:y?e.util.matrixToSVG(C):""})}});return v.join("")},createSVGFontFacesMarkup:function(){var l="",v={},_,b,y,C,S,w,O,A,N,W=e.fontPaths,Y=[];for(this._objects.forEach(function te(re){Y.push(re),re._objects&&re._objects.forEach(te)}),A=0,N=Y.length;A<N;A++)if(_=Y[A],b=_.fontFamily,!(_.type.indexOf("text")===-1||v[b]||!W[b])&&(v[b]=!0,!!_.styles)){y=_.styles;for(S in y){C=y[S];for(O in C)w=C[O],b=w.fontFamily,!v[b]&&W[b]&&(v[b]=!0)}}for(var q in v)l+=[`		@font-face {
`,"			font-family: '",q,`';
`,"			src: url('",W[q],`');
`,`		}
`].join("");return l&&(l=['	<style type="text/css">',`<![CDATA[
`,l,"]]>",`</style>
`].join("")),l},_setSVGObjects:function(l,v){var _,b,y,C=this._objects;for(b=0,y=C.length;b<y;b++)_=C[b],!_.excludeFromExport&&this._setSVGObject(l,_,v)},_setSVGObject:function(l,v,_){l.push(v.toSVG(_))},_setSVGBgOverlayImage:function(l,v,_){this[v]&&!this[v].excludeFromExport&&this[v].toSVG&&l.push(this[v].toSVG(_))},_setSVGBgOverlayColor:function(l,v){var _=this[v+"Color"],b=this.viewportTransform,y=this.width,C=this.height;if(_)if(_.toLive){var S=_.repeat,w=e.util.invertTransform(b),O=this[v+"Vpt"],A=O?e.util.matrixToSVG(w):"";l.push('<rect transform="'+A+" translate(",y/2,",",C/2,')"',' x="',_.offsetX-y/2,'" y="',_.offsetY-C/2,'" ','width="',S==="repeat-y"||S==="no-repeat"?_.source.width:y,'" height="',S==="repeat-x"||S==="no-repeat"?_.source.height:C,'" fill="url(#SVGID_'+_.id+')"',`></rect>
`)}else l.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',_,'"',`></rect>
`)},sendToBack:function(l){if(!l)return this;var v=this._activeObject,_,b,y;if(l===v&&l.type==="activeSelection")for(y=v._objects,_=y.length;_--;)b=y[_],c(this._objects,b),this._objects.unshift(b);else c(this._objects,l),this._objects.unshift(l);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(l){if(!l)return this;var v=this._activeObject,_,b,y;if(l===v&&l.type==="activeSelection")for(y=v._objects,_=0;_<y.length;_++)b=y[_],c(this._objects,b),this._objects.push(b);else c(this._objects,l),this._objects.push(l);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(l,v){if(!l)return this;var _=this._activeObject,b,y,C,S,w,O=0;if(l===_&&l.type==="activeSelection")for(w=_._objects,b=0;b<w.length;b++)y=w[b],C=this._objects.indexOf(y),C>0+O&&(S=C-1,c(this._objects,y),this._objects.splice(S,0,y)),O++;else C=this._objects.indexOf(l),C!==0&&(S=this._findNewLowerIndex(l,C,v),c(this._objects,l),this._objects.splice(S,0,l));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(l,v,_){var b,y;if(_)for(b=v,y=v-1;y>=0;--y){var C=l.intersectsWithObject(this._objects[y])||l.isContainedWithinObject(this._objects[y])||this._objects[y].isContainedWithinObject(l);if(C){b=y;break}}else b=v-1;return b},bringForward:function(l,v){if(!l)return this;var _=this._activeObject,b,y,C,S,w,O=0;if(l===_&&l.type==="activeSelection")for(w=_._objects,b=w.length;b--;)y=w[b],C=this._objects.indexOf(y),C<this._objects.length-1-O&&(S=C+1,c(this._objects,y),this._objects.splice(S,0,y)),O++;else C=this._objects.indexOf(l),C!==this._objects.length-1&&(S=this._findNewUpperIndex(l,C,v),c(this._objects,l),this._objects.splice(S,0,l));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(l,v,_){var b,y,C;if(_)for(b=v,y=v+1,C=this._objects.length;y<C;++y){var S=l.intersectsWithObject(this._objects[y])||l.isContainedWithinObject(this._objects[y])||this._objects[y].isContainedWithinObject(l);if(S){b=y;break}}else b=v+1;return b},moveTo:function(l,v){return c(this._objects,l),this._objects.splice(v,0,l),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(e.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(l){l.dispose&&l.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),e.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),e.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),f(e.StaticCanvas.prototype,e.Observable),f(e.StaticCanvas.prototype,e.Collection),f(e.StaticCanvas.prototype,e.DataURLExporter),f(e.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(l){var v=g();if(!v||!v.getContext)return null;var _=v.getContext("2d");if(!_)return null;switch(l){case"setLineDash":return typeof _.setLineDash<"u";default:return null}}}),e.StaticCanvas.prototype.toJSON=e.StaticCanvas.prototype.toObject,e.isLikelyNode&&(e.StaticCanvas.prototype.createPNGStream=function(){var l=o(this.lowerCanvasEl);return l&&l.createPNGStream()},e.StaticCanvas.prototype.createJPEGStream=function(l){var v=o(this.lowerCanvasEl);return v&&v.createJPEGStream(l)})}(),e.BaseBrush=e.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(f){f.strokeStyle=this.color,f.lineWidth=this.width,f.lineCap=this.strokeLineCap,f.miterLimit=this.strokeMiterLimit,f.lineJoin=this.strokeLineJoin,f.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(f){var r=this.canvas.viewportTransform;f.save(),f.transform(r[0],r[1],r[2],r[3],r[4],r[5])},_setShadow:function(){if(this.shadow){var f=this.canvas,r=this.shadow,c=f.contextTop,d=f.getZoom();f&&f._isRetinaScaling()&&(d*=e.devicePixelRatio),c.shadowColor=r.color,c.shadowBlur=r.blur*d,c.shadowOffsetX=r.offsetX*d,c.shadowOffsetY=r.offsetY*d}},needsFullRender:function(){var f=new e.Color(this.color);return f.getAlpha()<1||!!this.shadow},_resetShadow:function(){var f=this.canvas.contextTop;f.shadowColor="",f.shadowBlur=f.shadowOffsetX=f.shadowOffsetY=0},_isOutSideCanvas:function(f){return f.x<0||f.x>this.canvas.getWidth()||f.y<0||f.y>this.canvas.getHeight()}}),function(){e.PencilBrush=e.util.createClass(e.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(f){this.canvas=f,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(f,r,c){var d=r.midPointFrom(c);return f.quadraticCurveTo(r.x,r.y,d.x,d.y),d},onMouseDown:function(f,r){this.canvas._isMainEvent(r.e)&&(this.drawStraightLine=r.e[this.straightLineKey],this._prepareForDrawing(f),this._captureDrawingPath(f),this._render())},onMouseMove:function(f,r){if(this.canvas._isMainEvent(r.e)&&(this.drawStraightLine=r.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(f))&&this._captureDrawingPath(f)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var c=this._points,d=c.length,s=this.canvas.contextTop;this._saveAndTransform(s),this.oldEnd&&(s.beginPath(),s.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(s,c[d-2],c[d-1],!0),s.stroke(),s.restore()}},onMouseUp:function(f){return this.canvas._isMainEvent(f.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(f){var r=new e.Point(f.x,f.y);this._reset(),this._addPoint(r),this.canvas.contextTop.moveTo(r.x,r.y)},_addPoint:function(f){return this._points.length>1&&f.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(f),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(f){var r=new e.Point(f.x,f.y);return this._addPoint(r)},_render:function(f){var r,c,d=this._points[0],s=this._points[1];if(f=f||this.canvas.contextTop,this._saveAndTransform(f),f.beginPath(),this._points.length===2&&d.x===s.x&&d.y===s.y){var a=this.width/1e3;d=new e.Point(d.x,d.y),s=new e.Point(s.x,s.y),d.x-=a,s.x+=a}for(f.moveTo(d.x,d.y),r=1,c=this._points.length;r<c;r++)this._drawSegment(f,d,s),d=this._points[r],s=this._points[r+1];f.lineTo(d.x,d.y),f.stroke(),f.restore()},convertPointsToSVGPath:function(f){var r=this.width/1e3;return e.util.getSmoothPathFromPoints(f,r)},_isEmptySVGPath:function(f){var r=e.util.joinPath(f);return r==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(f){var r=new e.Path(f,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,r.shadow=new e.Shadow(this.shadow)),r},decimatePoints:function(f,r){if(f.length<=2)return f;var c=this.canvas.getZoom(),d=Math.pow(r/c,2),s,a=f.length-1,o=f[0],g=[o],m;for(s=1;s<a-1;s++)m=Math.pow(o.x-f[s].x,2)+Math.pow(o.y-f[s].y,2),m>=d&&(o=f[s],g.push(o));return g.push(f[a]),g},_finalizeAndAddPath:function(){var f=this.canvas.contextTop;f.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var r=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(r)){this.canvas.requestRenderAll();return}var c=this.createPath(r);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:c}),this.canvas.add(c),this.canvas.requestRenderAll(),c.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:c})}})}(),e.CircleBrush=e.util.createClass(e.BaseBrush,{width:10,initialize:function(f){this.canvas=f,this.points=[]},drawDot:function(f){var r=this.addPoint(f),c=this.canvas.contextTop;this._saveAndTransform(c),this.dot(c,r),c.restore()},dot:function(f,r){f.fillStyle=r.fill,f.beginPath(),f.arc(r.x,r.y,r.radius,0,Math.PI*2,!1),f.closePath(),f.fill()},onMouseDown:function(f){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(f)},_render:function(){var f=this.canvas.contextTop,r,c,d=this.points;for(this._saveAndTransform(f),r=0,c=d.length;r<c;r++)this.dot(f,d[r]);f.restore()},onMouseMove:function(f){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(f)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(f),this._render()):this.drawDot(f))},onMouseUp:function(){var f=this.canvas.renderOnAddRemove,r,c;this.canvas.renderOnAddRemove=!1;var d=[];for(r=0,c=this.points.length;r<c;r++){var s=this.points[r],a=new e.Circle({radius:s.radius,left:s.x,top:s.y,originX:"center",originY:"center",fill:s.fill});this.shadow&&(a.shadow=new e.Shadow(this.shadow)),d.push(a)}var o=new e.Group(d);o.canvas=this.canvas,this.canvas.fire("before:path:created",{path:o}),this.canvas.add(o),this.canvas.fire("path:created",{path:o}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=f,this.canvas.requestRenderAll()},addPoint:function(f){var r=new e.Point(f.x,f.y),c=e.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,d=new e.Color(this.color).setAlpha(e.util.getRandomInt(0,100)/100).toRgba();return r.radius=c,r.fill=d,this.points.push(r),r}}),e.SprayBrush=e.util.createClass(e.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(f){this.canvas=f,this.sprayChunks=[]},onMouseDown:function(f){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(f),this.render(this.sprayChunkPoints)},onMouseMove:function(f){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(f)||(this.addSprayChunk(f),this.render(this.sprayChunkPoints))},onMouseUp:function(){var f=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var r=[],c=0,d=this.sprayChunks.length;c<d;c++)for(var s=this.sprayChunks[c],a=0,o=s.length;a<o;a++){var g=new e.Rect({width:s[a].width,height:s[a].width,left:s[a].x+1,top:s[a].y+1,originX:"center",originY:"center",fill:this.color});r.push(g)}this.optimizeOverlapping&&(r=this._getOptimizedRects(r));var m=new e.Group(r);this.shadow&&m.set("shadow",new e.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:m}),this.canvas.add(m),this.canvas.fire("path:created",{path:m}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=f,this.canvas.requestRenderAll()},_getOptimizedRects:function(f){var r={},c,d,s;for(d=0,s=f.length;d<s;d++)c=f[d].left+""+f[d].top,r[c]||(r[c]=f[d]);var a=[];for(c in r)a.push(r[c]);return a},render:function(f){var r=this.canvas.contextTop,c,d;for(r.fillStyle=this.color,this._saveAndTransform(r),c=0,d=f.length;c<d;c++){var s=f[c];typeof s.opacity<"u"&&(r.globalAlpha=s.opacity),r.fillRect(s.x,s.y,s.width,s.width)}r.restore()},_render:function(){var f=this.canvas.contextTop,r,c;for(f.fillStyle=this.color,this._saveAndTransform(f),r=0,c=this.sprayChunks.length;r<c;r++)this.render(this.sprayChunks[r]);f.restore()},addSprayChunk:function(f){this.sprayChunkPoints=[];var r,c,d,s=this.width/2,a;for(a=0;a<this.density;a++){r=e.util.getRandomInt(f.x-s,f.x+s),c=e.util.getRandomInt(f.y-s,f.y+s),this.dotWidthVariance?d=e.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):d=this.dotWidth;var o=new e.Point(r,c);o.width=d,this.randomOpacity&&(o.opacity=e.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(o)}this.sprayChunks.push(this.sprayChunkPoints)}}),e.PatternBrush=e.util.createClass(e.PencilBrush,{getPatternSrc:function(){var f=20,r=5,c=e.util.createCanvasElement(),d=c.getContext("2d");return c.width=c.height=f+r,d.fillStyle=this.color,d.beginPath(),d.arc(f/2,f/2,f/2,0,Math.PI*2,!1),d.closePath(),d.fill(),c},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(f){return f.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(f){this.callSuper("_setBrushStyles",f),f.strokeStyle=this.getPattern(f)},createPath:function(f){var r=this.callSuper("createPath",f),c=r._getLeftTopCoords().scalarAdd(r.strokeWidth/2);return r.stroke=new e.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-c.x,offsetY:-c.y}),r}}),function(){var f=e.util.getPointer,r=e.util.degreesToRadians,c=e.util.isTouchEvent;e.Canvas=e.util.createClass(e.StaticCanvas,{initialize:function(s,a){a||(a={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(s,a),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=e.PencilBrush&&new e.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var s=this.getActiveObjects(),a,o,g;if(s.length>0&&!this.preserveObjectStacking){o=[],g=[];for(var m=0,l=this._objects.length;m<l;m++)a=this._objects[m],s.indexOf(a)===-1?o.push(a):g.push(a);s.length>1&&(this._activeObject._objects=g),o.push.apply(o,g)}else o=this._objects;return o},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var s=this.contextContainer;return this.renderCanvas(s,this._chooseObjectsToRender()),this},renderTopLayer:function(s){s.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(s),this.contextTopDirty=!0),s.restore()},renderTop:function(){var s=this.contextTop;return this.clearContext(s),this.renderTopLayer(s),this.fire("after:render"),this},_normalizePointer:function(s,a){var o=s.calcTransformMatrix(),g=e.util.invertTransform(o),m=this.restorePointerVpt(a);return e.util.transformPoint(m,g)},isTargetTransparent:function(s,a,o){if(s.shouldCache()&&s._cacheCanvas&&s!==this._activeObject){var g=this._normalizePointer(s,{x:a,y:o}),m=Math.max(s.cacheTranslationX+g.x*s.zoomX,0),l=Math.max(s.cacheTranslationY+g.y*s.zoomY,0),y=e.util.isTransparent(s._cacheContext,Math.round(m),Math.round(l),this.targetFindTolerance);return y}var v=this.contextCache,_=s.selectionBackgroundColor,b=this.viewportTransform;s.selectionBackgroundColor="",this.clearContext(v),v.save(),v.transform(b[0],b[1],b[2],b[3],b[4],b[5]),s.render(v),v.restore(),s.selectionBackgroundColor=_;var y=e.util.isTransparent(v,a,o,this.targetFindTolerance);return y},_isSelectionKeyPressed:function(s){var a=!1;return Array.isArray(this.selectionKey)?a=!!this.selectionKey.find(function(o){return s[o]===!0}):a=s[this.selectionKey],a},_shouldClearSelection:function(s,a){var o=this.getActiveObjects(),g=this._activeObject;return!a||a&&g&&o.length>1&&o.indexOf(a)===-1&&g!==a&&!this._isSelectionKeyPressed(s)||a&&!a.evented||a&&!a.selectable&&g&&g!==a},_shouldCenterTransform:function(s,a,o){if(s){var g;return a==="scale"||a==="scaleX"||a==="scaleY"||a==="resizing"?g=this.centeredScaling||s.centeredScaling:a==="rotate"&&(g=this.centeredRotation||s.centeredRotation),g?!o:o}},_getOriginFromCorner:function(s,a){var o={x:s.originX,y:s.originY};return a==="ml"||a==="tl"||a==="bl"?o.x="right":(a==="mr"||a==="tr"||a==="br")&&(o.x="left"),a==="tl"||a==="mt"||a==="tr"?o.y="bottom":(a==="bl"||a==="mb"||a==="br")&&(o.y="top"),o},_getActionFromCorner:function(s,a,o,g){if(!a||!s)return"drag";var m=g.controls[a];return m.getActionName(o,m,g)},_setupCurrentTransform:function(s,a,o){if(a){var g=this.getPointer(s),m=a.__corner,l=a.controls[m],v=o&&m?l.getActionHandler(s,a,l):e.controlsUtils.dragHandler,_=this._getActionFromCorner(o,m,s,a),b=this._getOriginFromCorner(a,m),y=s[this.centeredKey],C={target:a,action:_,actionHandler:v,corner:m,scaleX:a.scaleX,scaleY:a.scaleY,skewX:a.skewX,skewY:a.skewY,offsetX:g.x-a.left,offsetY:g.y-a.top,originX:b.x,originY:b.y,ex:g.x,ey:g.y,lastX:g.x,lastY:g.y,theta:r(a.angle),width:a.width*a.scaleX,shiftKey:s.shiftKey,altKey:y,original:e.util.saveObjectTransform(a)};this._shouldCenterTransform(a,_,y)&&(C.originX="center",C.originY="center"),C.original.originX=b.x,C.original.originY=b.y,this._currentTransform=C,this._beforeTransform(s)}},setCursor:function(s){this.upperCanvasEl.style.cursor=s},_drawSelection:function(s){var a=this._groupSelector,o=new e.Point(a.ex,a.ey),g=e.util.transformPoint(o,this.viewportTransform),m=new e.Point(a.ex+a.left,a.ey+a.top),l=e.util.transformPoint(m,this.viewportTransform),v=Math.min(g.x,l.x),_=Math.min(g.y,l.y),b=Math.max(g.x,l.x),y=Math.max(g.y,l.y),C=this.selectionLineWidth/2;this.selectionColor&&(s.fillStyle=this.selectionColor,s.fillRect(v,_,b-v,y-_)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(s.lineWidth=this.selectionLineWidth,s.strokeStyle=this.selectionBorderColor,v+=C,_+=C,b-=C,y-=C,e.Object.prototype._setLineDash.call(this,s,this.selectionDashArray),s.strokeRect(v,_,b-v,y-_))},findTarget:function(s,a){if(!this.skipTargetFind){var o=!0,g=this.getPointer(s,o),m=this._activeObject,l=this.getActiveObjects(),v,_,b=c(s),y=l.length>1&&!a||l.length===1;if(this.targets=[],y&&m._findTargetCorner(g,b)||l.length>1&&!a&&m===this._searchPossibleTargets([m],g))return m;if(l.length===1&&m===this._searchPossibleTargets([m],g))if(this.preserveObjectStacking)v=m,_=this.targets,this.targets=[];else return m;var C=this._searchPossibleTargets(this._objects,g);return s[this.altSelectionKey]&&C&&v&&C!==v&&(C=v,this.targets=_),C}},_checkTarget:function(s,a,o){if(a&&a.visible&&a.evented&&a.containsPoint(s))if((this.perPixelTargetFind||a.perPixelTargetFind)&&!a.isEditing){var g=this.isTargetTransparent(a,o.x,o.y);if(!g)return!0}else return!0},_searchPossibleTargets:function(s,a){for(var o,g=s.length,m;g--;){var l=s[g],v=l.group?this._normalizePointer(l.group,a):a;if(this._checkTarget(v,l,a)){o=s[g],o.subTargetCheck&&o instanceof e.Group&&(m=this._searchPossibleTargets(o._objects,a),m&&this.targets.push(m));break}}return o},restorePointerVpt:function(s){return e.util.transformPoint(s,e.util.invertTransform(this.viewportTransform))},getPointer:function(s,a){if(this._absolutePointer&&!a)return this._absolutePointer;if(this._pointer&&a)return this._pointer;var o=f(s),g=this.upperCanvasEl,m=g.getBoundingClientRect(),l=m.width||0,v=m.height||0,_;(!l||!v)&&("top"in m&&"bottom"in m&&(v=Math.abs(m.top-m.bottom)),"right"in m&&"left"in m&&(l=Math.abs(m.right-m.left))),this.calcOffset(),o.x=o.x-this._offset.left,o.y=o.y-this._offset.top,a||(o=this.restorePointerVpt(o));var b=this.getRetinaScaling();return b!==1&&(o.x/=b,o.y/=b),l===0||v===0?_={width:1,height:1}:_={width:g.width/l,height:g.height/v},{x:o.x*_.width,y:o.y*_.height}},_createUpperCanvas:function(){var s=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),a=this.lowerCanvasEl,o=this.upperCanvasEl;o?o.className="":(o=this._createCanvasElement(),this.upperCanvasEl=o),e.util.addClass(o,"upper-canvas "+s),this.wrapperEl.appendChild(o),this._copyCanvasStyle(a,o),this._applyCanvasStyle(o),this.contextTop=o.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=e.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),e.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),e.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(s){var a=this.width||s.width,o=this.height||s.height;e.util.setStyle(s,{position:"absolute",width:a+"px",height:o+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),s.width=a,s.height=o,e.util.makeElementUnselectable(s)},_copyCanvasStyle:function(s,a){a.style.cssText=s.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var s=this._activeObject;return s?s.type==="activeSelection"&&s._objects?s._objects.slice(0):[s]:[]},_onObjectRemoved:function(s){s===this._activeObject&&(this.fire("before:selection:cleared",{target:s}),this._discardActiveObject(),this.fire("selection:cleared",{target:s}),s.fire("deselected")),s===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",s)},_fireSelectionEvents:function(s,a){var o=!1,g=this.getActiveObjects(),m=[],l=[];s.forEach(function(v){g.indexOf(v)===-1&&(o=!0,v.fire("deselected",{e:a,target:v}),l.push(v))}),g.forEach(function(v){s.indexOf(v)===-1&&(o=!0,v.fire("selected",{e:a,target:v}),m.push(v))}),s.length>0&&g.length>0?o&&this.fire("selection:updated",{e:a,selected:m,deselected:l}):g.length>0?this.fire("selection:created",{e:a,selected:m}):s.length>0&&this.fire("selection:cleared",{e:a,deselected:l})},setActiveObject:function(s,a){var o=this.getActiveObjects();return this._setActiveObject(s,a),this._fireSelectionEvents(o,a),this},_setActiveObject:function(s,a){return this._activeObject===s||!this._discardActiveObject(a,s)||s.onSelect({e:a})?!1:(this._activeObject=s,!0)},_discardActiveObject:function(s,a){var o=this._activeObject;if(o){if(o.onDeselect({e:s,object:a}))return!1;this._activeObject=null}return!0},discardActiveObject:function(s){var a=this.getActiveObjects(),o=this.getActiveObject();return a.length&&this.fire("before:selection:cleared",{target:o,e:s}),this._discardActiveObject(s),this._fireSelectionEvents(a,s),this},dispose:function(){var s=this.wrapperEl;return this.removeListeners(),s.removeChild(this.upperCanvasEl),s.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(a){e.util.cleanUpJsdomNode(this[a]),this[a]=void 0}).bind(this)),s.parentNode&&s.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,e.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(s){var a=this._activeObject;a&&a._renderControls(s)},_toObject:function(s,a,o){var g=this._realizeGroupTransformOnObject(s),m=this.callSuper("_toObject",s,a,o);return this._unwindGroupTransformOnObject(s,g),m},_realizeGroupTransformOnObject:function(s){if(s.group&&s.group.type==="activeSelection"&&this._activeObject===s.group){var a=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],o={};return a.forEach(function(g){o[g]=s[g]}),e.util.addTransformToObject(s,this._activeObject.calcOwnMatrix()),o}else return null},_unwindGroupTransformOnObject:function(s,a){a&&s.set(a)},_setSVGObject:function(s,a,o){var g=this._realizeGroupTransformOnObject(a);this.callSuper("_setSVGObject",s,a,o),this._unwindGroupTransformOnObject(a,g)},setViewportTransform:function(s){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),e.StaticCanvas.prototype.setViewportTransform.call(this,s)}});for(var d in e.StaticCanvas)d!=="prototype"&&(e.Canvas[d]=e.StaticCanvas[d])}(),function(){var f=e.util.addListener,r=e.util.removeListener,c=3,d=2,s=1,a={passive:!1};function o(g,m){return g.button&&g.button===m-1}e.util.object.extend(e.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(f,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(g,m){var l=this.upperCanvasEl,v=this._getEventPrefix();g(e.window,"resize",this._onResize),g(l,v+"down",this._onMouseDown),g(l,v+"move",this._onMouseMove,a),g(l,v+"out",this._onMouseOut),g(l,v+"enter",this._onMouseEnter),g(l,"wheel",this._onMouseWheel),g(l,"contextmenu",this._onContextMenu),g(l,"dblclick",this._onDoubleClick),g(l,"dragover",this._onDragOver),g(l,"dragenter",this._onDragEnter),g(l,"dragleave",this._onDragLeave),g(l,"drop",this._onDrop),this.enablePointerEvents||g(l,"touchstart",this._onTouchStart,a),typeof eventjs<"u"&&m in eventjs&&(eventjs[m](l,"gesture",this._onGesture),eventjs[m](l,"drag",this._onDrag),eventjs[m](l,"orientation",this._onOrientationChange),eventjs[m](l,"shake",this._onShake),eventjs[m](l,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(r,"remove");var g=this._getEventPrefix();r(e.document,g+"up",this._onMouseUp),r(e.document,"touchend",this._onTouchEnd,a),r(e.document,g+"move",this._onMouseMove,a),r(e.document,"touchmove",this._onMouseMove,a)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(g,m){this.__onTransformGesture&&this.__onTransformGesture(g,m)},_onDrag:function(g,m){this.__onDrag&&this.__onDrag(g,m)},_onMouseWheel:function(g){this.__onMouseWheel(g)},_onMouseOut:function(g){var m=this._hoveredTarget;this.fire("mouse:out",{target:m,e:g}),this._hoveredTarget=null,m&&m.fire("mouseout",{e:g});var l=this;this._hoveredTargets.forEach(function(v){l.fire("mouse:out",{target:m,e:g}),v&&m.fire("mouseout",{e:g})}),this._hoveredTargets=[]},_onMouseEnter:function(g){!this._currentTransform&&!this.findTarget(g)&&(this.fire("mouse:over",{target:null,e:g}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(g,m){this.__onOrientationChange&&this.__onOrientationChange(g,m)},_onShake:function(g,m){this.__onShake&&this.__onShake(g,m)},_onLongPress:function(g,m){this.__onLongPress&&this.__onLongPress(g,m)},_onDragOver:function(g){g.preventDefault();var m=this._simpleEventHandler("dragover",g);this._fireEnterLeaveEvents(m,g)},_onDrop:function(g){return this._simpleEventHandler("drop:before",g),this._simpleEventHandler("drop",g)},_onContextMenu:function(g){return this.stopContextMenu&&(g.stopPropagation(),g.preventDefault()),!1},_onDoubleClick:function(g){this._cacheTransformEventData(g),this._handleEvent(g,"dblclick"),this._resetTransformEventData(g)},getPointerId:function(g){var m=g.changedTouches;return m?m[0]&&m[0].identifier:this.enablePointerEvents?g.pointerId:-1},_isMainEvent:function(g){return g.isPrimary===!0?!0:g.isPrimary===!1?!1:g.type==="touchend"&&g.touches.length===0?!0:g.changedTouches?g.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(g){g.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(g)),this.__onMouseDown(g),this._resetTransformEventData();var m=this.upperCanvasEl,l=this._getEventPrefix();f(e.document,"touchend",this._onTouchEnd,a),f(e.document,"touchmove",this._onMouseMove,a),r(m,l+"down",this._onMouseDown)},_onMouseDown:function(g){this.__onMouseDown(g),this._resetTransformEventData();var m=this.upperCanvasEl,l=this._getEventPrefix();r(m,l+"move",this._onMouseMove,a),f(e.document,l+"up",this._onMouseUp),f(e.document,l+"move",this._onMouseMove,a)},_onTouchEnd:function(g){if(!(g.touches.length>0)){this.__onMouseUp(g),this._resetTransformEventData(),this.mainTouchId=null;var m=this._getEventPrefix();r(e.document,"touchend",this._onTouchEnd,a),r(e.document,"touchmove",this._onMouseMove,a);var l=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){f(l.upperCanvasEl,m+"down",l._onMouseDown),l._willAddMouseDown=0},400)}},_onMouseUp:function(g){this.__onMouseUp(g),this._resetTransformEventData();var m=this.upperCanvasEl,l=this._getEventPrefix();this._isMainEvent(g)&&(r(e.document,l+"up",this._onMouseUp),r(e.document,l+"move",this._onMouseMove,a),f(m,l+"move",this._onMouseMove,a))},_onMouseMove:function(g){!this.allowTouchScrolling&&g.preventDefault&&g.preventDefault(),this.__onMouseMove(g)},_onResize:function(){this.calcOffset()},_shouldRender:function(g){var m=this._activeObject;return!!m!=!!g||m&&g&&m!==g?!0:(m&&m.isEditing,!1)},__onMouseUp:function(g){var m,l=this._currentTransform,v=this._groupSelector,_=!1,b=!v||v.left===0&&v.top===0;if(this._cacheTransformEventData(g),m=this._target,this._handleEvent(g,"up:before"),o(g,c)){this.fireRightClick&&this._handleEvent(g,"up",c,b);return}if(o(g,d)){this.fireMiddleClick&&this._handleEvent(g,"up",d,b),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(g);return}if(this._isMainEvent(g)){if(l&&(this._finalizeCurrentTransform(g),_=l.actionPerformed),!b){var y=m===this._activeObject;this._maybeGroupObjects(g),_||(_=this._shouldRender(m)||!y&&m===this._activeObject)}var C,S;if(m){if(C=m._findTargetCorner(this.getPointer(g,!0),e.util.isTouchEvent(g)),m.selectable&&m!==this._activeObject&&m.activeOn==="up")this.setActiveObject(m,g),_=!0;else{var w=m.controls[C],O=w&&w.getMouseUpHandler(g,m,w);O&&(S=this.getPointer(g),O(g,l,S.x,S.y))}m.isMoving=!1}if(l&&(l.target!==m||l.corner!==C)){var A=l.target&&l.target.controls[l.corner],N=A&&A.getMouseUpHandler(g,m,w);S=S||this.getPointer(g),N&&N(g,l,S.x,S.y)}this._setCursorFromEvent(g,m),this._handleEvent(g,"up",s,b),this._groupSelector=null,this._currentTransform=null,m&&(m.__corner=0),_?this.requestRenderAll():b||this.renderTop()}},_simpleEventHandler:function(g,m){var l=this.findTarget(m),v=this.targets,_={e:m,target:l,subTargets:v};if(this.fire(g,_),l&&l.fire(g,_),!v)return l;for(var b=0;b<v.length;b++)v[b].fire(g,_);return l},_handleEvent:function(g,m,l,v){var _=this._target,b=this.targets||[],y={e:g,target:_,subTargets:b,button:l||s,isClick:v||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};m==="up"&&(y.currentTarget=this.findTarget(g),y.currentSubTargets=this.targets),this.fire("mouse:"+m,y),_&&_.fire("mouse"+m,y);for(var C=0;C<b.length;C++)b[C].fire("mouse"+m,y)},_finalizeCurrentTransform:function(g){var m=this._currentTransform,l=m.target,v={e:g,target:l,transform:m,action:m.action};l._scaling&&(l._scaling=!1),l.setCoords(),(m.actionPerformed||this.stateful&&l.hasStateChanged())&&this._fire("modified",v)},_onMouseDownInDrawingMode:function(g){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(g).requestRenderAll();var m=this.getPointer(g);this.freeDrawingBrush.onMouseDown(m,{e:g,pointer:m}),this._handleEvent(g,"down")},_onMouseMoveInDrawingMode:function(g){if(this._isCurrentlyDrawing){var m=this.getPointer(g);this.freeDrawingBrush.onMouseMove(m,{e:g,pointer:m})}this.setCursor(this.freeDrawingCursor),this._handleEvent(g,"move")},_onMouseUpInDrawingMode:function(g){var m=this.getPointer(g);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:g,pointer:m}),this._handleEvent(g,"up")},__onMouseDown:function(g){this._cacheTransformEventData(g),this._handleEvent(g,"down:before");var m=this._target;if(o(g,c)){this.fireRightClick&&this._handleEvent(g,"down",c);return}if(o(g,d)){this.fireMiddleClick&&this._handleEvent(g,"down",d);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(g);return}if(this._isMainEvent(g)&&!this._currentTransform){var l=this._pointer;this._previousPointer=l;var v=this._shouldRender(m),_=this._shouldGroup(g,m);if(this._shouldClearSelection(g,m)?this.discardActiveObject(g):_&&(this._handleGrouping(g,m),m=this._activeObject),this.selection&&(!m||!m.selectable&&!m.isEditing&&m!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),m){var b=m===this._activeObject;m.selectable&&m.activeOn==="down"&&this.setActiveObject(m,g);var y=m._findTargetCorner(this.getPointer(g,!0),e.util.isTouchEvent(g));if(m.__corner=y,m===this._activeObject&&(y||!_)){this._setupCurrentTransform(g,m,b);var C=m.controls[y],l=this.getPointer(g),S=C&&C.getMouseDownHandler(g,m,C);S&&S(g,this._currentTransform,l.x,l.y)}}this._handleEvent(g,"down"),(v||_)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(g){this._resetTransformEventData(),this._pointer=this.getPointer(g,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(g)||null},_beforeTransform:function(g){var m=this._currentTransform;this.stateful&&m.target.saveState(),this.fire("before:transform",{e:g,transform:m})},__onMouseMove:function(g){this._handleEvent(g,"move:before"),this._cacheTransformEventData(g);var m,l;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(g);return}if(this._isMainEvent(g)){var v=this._groupSelector;v?(l=this._absolutePointer,v.left=l.x-v.ex,v.top=l.y-v.ey,this.renderTop()):this._currentTransform?this._transformObject(g):(m=this.findTarget(g)||null,this._setCursorFromEvent(g,m),this._fireOverOutEvents(m,g)),this._handleEvent(g,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(g,m){var l=this._hoveredTarget,v=this._hoveredTargets,_=this.targets,b=Math.max(v.length,_.length);this.fireSyntheticInOutEvents(g,m,{oldTarget:l,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var y=0;y<b;y++)this.fireSyntheticInOutEvents(_[y],m,{oldTarget:v[y],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=g,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(g,m){var l=this._draggedoverTarget,v=this._hoveredTargets,_=this.targets,b=Math.max(v.length,_.length);this.fireSyntheticInOutEvents(g,m,{oldTarget:l,evtOut:"dragleave",evtIn:"dragenter"});for(var y=0;y<b;y++)this.fireSyntheticInOutEvents(_[y],m,{oldTarget:v[y],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=g},fireSyntheticInOutEvents:function(g,m,l){var v,_,b=l.oldTarget,y,C,S=b!==g,w=l.canvasEvtIn,O=l.canvasEvtOut;S&&(v={e:m,target:g,previousTarget:b},_={e:m,target:b,nextTarget:g}),C=g&&S,y=b&&S,y&&(O&&this.fire(O,_),b.fire(l.evtOut,_)),C&&(w&&this.fire(w,v),g.fire(l.evtIn,v))},__onMouseWheel:function(g){this._cacheTransformEventData(g),this._handleEvent(g,"wheel"),this._resetTransformEventData()},_transformObject:function(g){var m=this.getPointer(g),l=this._currentTransform;l.reset=!1,l.shiftKey=g.shiftKey,l.altKey=g[this.centeredKey],this._performTransformAction(g,l,m),l.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(g,m,l){var v=l.x,_=l.y,b=m.action,y=!1,C=m.actionHandler;C&&(y=C(g,m,v,_)),b==="drag"&&y&&(m.target.isMoving=!0,this.setCursor(m.target.moveCursor||this.moveCursor)),m.actionPerformed=m.actionPerformed||y},_fire:e.controlsUtils.fireEvent,_setCursorFromEvent:function(g,m){if(!m)return this.setCursor(this.defaultCursor),!1;var l=m.hoverCursor||this.hoverCursor,v=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,_=(!v||!v.contains(m))&&m._findTargetCorner(this.getPointer(g,!0));_?this.setCursor(this.getCornerCursor(_,m,g)):(m.subTargetCheck&&this.targets.concat().reverse().map(function(b){l=b.hoverCursor||l}),this.setCursor(l))},getCornerCursor:function(g,m,l){var v=m.controls[g];return v.cursorStyleHandler(l,v,m)}})}(),function(){var f=Math.min,r=Math.max;e.util.object.extend(e.Canvas.prototype,{_shouldGroup:function(c,d){var s=this._activeObject;return s&&this._isSelectionKeyPressed(c)&&d&&d.selectable&&this.selection&&(s!==d||s.type==="activeSelection")&&!d.onSelect({e:c})},_handleGrouping:function(c,d){var s=this._activeObject;s.__corner||d===s&&(d=this.findTarget(c,!0),!d||!d.selectable)||(s&&s.type==="activeSelection"?this._updateActiveSelection(d,c):this._createActiveSelection(d,c))},_updateActiveSelection:function(c,d){var s=this._activeObject,a=s._objects.slice(0);s.contains(c)?(s.removeWithUpdate(c),this._hoveredTarget=c,this._hoveredTargets=this.targets.concat(),s.size()===1&&this._setActiveObject(s.item(0),d)):(s.addWithUpdate(c),this._hoveredTarget=s,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(a,d)},_createActiveSelection:function(c,d){var s=this.getActiveObjects(),a=this._createGroup(c);this._hoveredTarget=a,this._setActiveObject(a,d),this._fireSelectionEvents(s,d)},_createGroup:function(c){var d=this._objects,s=d.indexOf(this._activeObject)<d.indexOf(c),a=s?[this._activeObject,c]:[c,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new e.ActiveSelection(a,{canvas:this})},_groupSelectedObjects:function(c){var d=this._collectObjects(c),s;d.length===1?this.setActiveObject(d[0],c):d.length>1&&(s=new e.ActiveSelection(d.reverse(),{canvas:this}),this.setActiveObject(s,c))},_collectObjects:function(c){for(var d=[],s,a=this._groupSelector.ex,o=this._groupSelector.ey,g=a+this._groupSelector.left,m=o+this._groupSelector.top,l=new e.Point(f(a,g),f(o,m)),v=new e.Point(r(a,g),r(o,m)),_=!this.selectionFullyContained,b=a===g&&o===m,y=this._objects.length;y--&&(s=this._objects[y],!(!(!s||!s.selectable||!s.visible)&&(_&&s.intersectsWithRect(l,v,!0)||s.isContainedWithinRect(l,v,!0)||_&&s.containsPoint(l,null,!0)||_&&s.containsPoint(v,null,!0))&&(d.push(s),b))););return d.length>1&&(d=d.filter(function(C){return!C.onSelect({e:c})})),d},_maybeGroupObjects:function(c){this.selection&&this._groupSelector&&this._groupSelectedObjects(c),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){e.util.object.extend(e.StaticCanvas.prototype,{toDataURL:function(f){f||(f={});var r=f.format||"png",c=f.quality||1,d=(f.multiplier||1)*(f.enableRetinaScaling?this.getRetinaScaling():1),s=this.toCanvasElement(d,f);return e.util.toDataURL(s,r,c)},toCanvasElement:function(f,r){f=f||1,r=r||{};var c=(r.width||this.width)*f,d=(r.height||this.height)*f,s=this.getZoom(),a=this.width,o=this.height,g=s*f,m=this.viewportTransform,l=(m[4]-(r.left||0))*f,v=(m[5]-(r.top||0))*f,_=this.interactive,b=[g,0,0,g,l,v],y=this.enableRetinaScaling,C=e.util.createCanvasElement(),S=this.contextTop;return C.width=c,C.height=d,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=b,this.width=c,this.height=d,this.calcViewportBoundaries(),this.renderCanvas(C.getContext("2d"),this._objects),this.viewportTransform=m,this.width=a,this.height=o,this.calcViewportBoundaries(),this.interactive=_,this.enableRetinaScaling=y,this.contextTop=S,C}})}(),e.util.object.extend(e.StaticCanvas.prototype,{loadFromJSON:function(f,r,c){if(f){var d=typeof f=="string"?JSON.parse(f):e.util.object.clone(f),s=this,a=d.clipPath,o=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete d.clipPath,this._enlivenObjects(d.objects,function(g){s.clear(),s._setBgOverlay(d,function(){a?s._enlivenObjects([a],function(m){s.clipPath=m[0],s.__setupCanvas.call(s,d,g,o,r)}):s.__setupCanvas.call(s,d,g,o,r)})},c),this}},__setupCanvas:function(f,r,c,d){var s=this;r.forEach(function(a,o){s.insertAt(a,o)}),this.renderOnAddRemove=c,delete f.objects,delete f.backgroundImage,delete f.overlayImage,delete f.background,delete f.overlay,this._setOptions(f),this.renderAll(),d&&d()},_setBgOverlay:function(f,r){var c={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!f.backgroundImage&&!f.overlayImage&&!f.background&&!f.overlay){r&&r();return}var d=function(){c.backgroundImage&&c.overlayImage&&c.backgroundColor&&c.overlayColor&&r&&r()};this.__setBgOverlay("backgroundImage",f.backgroundImage,c,d),this.__setBgOverlay("overlayImage",f.overlayImage,c,d),this.__setBgOverlay("backgroundColor",f.background,c,d),this.__setBgOverlay("overlayColor",f.overlay,c,d)},__setBgOverlay:function(f,r,c,d){var s=this;if(!r){c[f]=!0,d&&d();return}f==="backgroundImage"||f==="overlayImage"?e.util.enlivenObjects([r],function(a){s[f]=a[0],c[f]=!0,d&&d()}):this["set"+e.util.string.capitalize(f,!0)](r,function(){c[f]=!0,d&&d()})},_enlivenObjects:function(f,r,c){if(!f||f.length===0){r&&r([]);return}e.util.enlivenObjects(f,function(d){r&&r(d)},null,c)},_toDataURL:function(f,r){this.clone(function(c){r(c.toDataURL(f))})},_toDataURLWithMultiplier:function(f,r,c){this.clone(function(d){c(d.toDataURLWithMultiplier(f,r))})},clone:function(f,r){var c=JSON.stringify(this.toJSON(r));this.cloneWithoutData(function(d){d.loadFromJSON(c,function(){f&&f(d)})})},cloneWithoutData:function(f){var r=e.util.createCanvasElement();r.width=this.width,r.height=this.height;var c=new e.Canvas(r);this.backgroundImage?(c.setBackgroundImage(this.backgroundImage.src,function(){c.renderAll(),f&&f(c)}),c.backgroundImageOpacity=this.backgroundImageOpacity,c.backgroundImageStretch=this.backgroundImageStretch):f&&f(c)}}),function(f){var r=f.fabric||(f.fabric={}),c=r.util.object.extend,d=r.util.object.clone,s=r.util.toFixed,a=r.util.string.capitalize,o=r.util.degreesToRadians,g=!r.isLikelyNode,m=2;r.Object||(r.Object=r.util.createClass(r.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:g,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(l){l&&this.setOptions(l)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=r.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(l){var v=r.perfLimitSizeTotal,_=l.width,b=l.height,y=r.maxCacheSideLimit,C=r.minCacheSideLimit;if(_<=y&&b<=y&&_*b<=v)return _<C&&(l.width=C),b<C&&(l.height=C),l;var S=_/b,w=r.util.limitDimsByArea(S,v),O=r.util.capValue,A=O(C,w.x,y),N=O(C,w.y,y);return _>A&&(l.zoomX/=_/A,l.width=A,l.capped=!0),b>N&&(l.zoomY/=b/N,l.height=N,l.capped=!0),l},_getCacheCanvasDimensions:function(){var l=this.getTotalObjectScaling(),v=this._getTransformedDimensions(0,0),_=v.x*l.scaleX/this.scaleX,b=v.y*l.scaleY/this.scaleY;return{width:_+m,height:b+m,zoomX:l.scaleX,zoomY:l.scaleY,x:_,y:b}},_updateCacheCanvas:function(){var l=this.canvas;if(this.noScaleCache&&l&&l._currentTransform){var v=l._currentTransform.target,_=l._currentTransform.action;if(this===v&&_.slice&&_.slice(0,5)==="scale")return!1}var b=this._cacheCanvas,y=this._limitCacheSize(this._getCacheCanvasDimensions()),C=r.minCacheSideLimit,S=y.width,w=y.height,O,A,N=y.zoomX,W=y.zoomY,Y=S!==this.cacheWidth||w!==this.cacheHeight,q=this.zoomX!==N||this.zoomY!==W,te=Y||q,re=0,me=0,G=!1;if(Y){var oe=this._cacheCanvas.width,T=this._cacheCanvas.height,F=S>oe||w>T,L=(S<oe*.9||w<T*.9)&&oe>C&&T>C;G=F||L,F&&!y.capped&&(S>C||w>C)&&(re=S*.1,me=w*.1)}return this instanceof r.Text&&this.path&&(te=!0,G=!0,re+=this.getHeightOfLine(0)*this.zoomX,me+=this.getHeightOfLine(0)*this.zoomY),te?(G?(b.width=Math.ceil(S+re),b.height=Math.ceil(w+me)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,b.width,b.height)),O=y.x/2,A=y.y/2,this.cacheTranslationX=Math.round(b.width/2-O)+O,this.cacheTranslationY=Math.round(b.height/2-A)+A,this.cacheWidth=S,this.cacheHeight=w,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(N,W),this.zoomX=N,this.zoomY=W,!0):!1},setOptions:function(l){this._setOptions(l),this._initGradient(l.fill,"fill"),this._initGradient(l.stroke,"stroke"),this._initPattern(l.fill,"fill"),this._initPattern(l.stroke,"stroke")},transform:function(l){var v=this.group&&!this.group._transformDone||this.group&&this.canvas&&l===this.canvas.contextTop,_=this.calcTransformMatrix(!v);l.transform(_[0],_[1],_[2],_[3],_[4],_[5])},toObject:function(l){var v=r.Object.NUM_FRACTION_DIGITS,_={type:this.type,version:r.version,originX:this.originX,originY:this.originY,left:s(this.left,v),top:s(this.top,v),width:s(this.width,v),height:s(this.height,v),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:s(this.strokeWidth,v),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:s(this.strokeMiterLimit,v),scaleX:s(this.scaleX,v),scaleY:s(this.scaleY,v),angle:s(this.angle,v),flipX:this.flipX,flipY:this.flipY,opacity:s(this.opacity,v),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:s(this.skewX,v),skewY:s(this.skewY,v)};return this.clipPath&&!this.clipPath.excludeFromExport&&(_.clipPath=this.clipPath.toObject(l),_.clipPath.inverted=this.clipPath.inverted,_.clipPath.absolutePositioned=this.clipPath.absolutePositioned),r.util.populateWithProperties(this,_,l),this.includeDefaultValues||(_=this._removeDefaultValues(_)),_},toDatalessObject:function(l){return this.toObject(l)},_removeDefaultValues:function(l){var v=r.util.getKlass(l.type).prototype,_=v.stateProperties;return _.forEach(function(b){b==="left"||b==="top"||(l[b]===v[b]&&delete l[b],Array.isArray(l[b])&&Array.isArray(v[b])&&l[b].length===0&&v[b].length===0&&delete l[b])}),l},toString:function(){return"#<fabric."+a(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var l=r.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(l.scaleX),scaleY:Math.abs(l.scaleY)}},getTotalObjectScaling:function(){var l=this.getObjectScaling(),v=l.scaleX,_=l.scaleY;if(this.canvas){var b=this.canvas.getZoom(),y=this.canvas.getRetinaScaling();v*=b*y,_*=b*y}return{scaleX:v,scaleY:_}},getObjectOpacity:function(){var l=this.opacity;return this.group&&(l*=this.group.getObjectOpacity()),l},_set:function(l,v){var _=l==="scaleX"||l==="scaleY",b=this[l]!==v,y=!1;return _&&(v=this._constrainScale(v)),l==="scaleX"&&v<0?(this.flipX=!this.flipX,v*=-1):l==="scaleY"&&v<0?(this.flipY=!this.flipY,v*=-1):l==="shadow"&&v&&!(v instanceof r.Shadow)?v=new r.Shadow(v):l==="dirty"&&this.group&&this.group.set("dirty",v),this[l]=v,b&&(y=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(l)>-1?(this.dirty=!0,y&&this.group.set("dirty",!0)):y&&this.stateProperties.indexOf(l)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:r.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(l){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(l.save(),this._setupCompositeOperation(l),this.drawSelectionBackground(l),this.transform(l),this._setOpacity(l),this._setShadow(l,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(l)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(l),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),l.restore())},renderCache:function(l){l=l||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,l.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(l,v){if(l.save(),v.inverted?l.globalCompositeOperation="destination-out":l.globalCompositeOperation="destination-in",v.absolutePositioned){var _=r.util.invertTransform(this.calcTransformMatrix());l.transform(_[0],_[1],_[2],_[3],_[4],_[5])}v.transform(l),l.scale(1/v.zoomX,1/v.zoomY),l.drawImage(v._cacheCanvas,-v.cacheTranslationX,-v.cacheTranslationY),l.restore()},drawObject:function(l,v){var _=this.fill,b=this.stroke;v?(this.fill="black",this.stroke="",this._setClippingProperties(l)):this._renderBackground(l),this._render(l),this._drawClipPath(l,this.clipPath),this.fill=_,this.stroke=b},_drawClipPath:function(l,v){v&&(v.canvas=this.canvas,v.shouldCache(),v._transformDone=!0,v.renderCache({forClipping:!0}),this.drawClipPathOnCache(l,v))},drawCacheOnCanvas:function(l){l.scale(1/this.zoomX,1/this.zoomY),l.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(l){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!l&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!l){var v=this.cacheWidth/this.zoomX,_=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-v/2,-_/2,v,_)}return!0}return!1},_renderBackground:function(l){if(this.backgroundColor){var v=this._getNonTransformedDimensions();l.fillStyle=this.backgroundColor,l.fillRect(-v.x/2,-v.y/2,v.x,v.y),this._removeShadow(l)}},_setOpacity:function(l){this.group&&!this.group._transformDone?l.globalAlpha=this.getObjectOpacity():l.globalAlpha*=this.opacity},_setStrokeStyles:function(l,v){var _=v.stroke;_&&(l.lineWidth=v.strokeWidth,l.lineCap=v.strokeLineCap,l.lineDashOffset=v.strokeDashOffset,l.lineJoin=v.strokeLineJoin,l.miterLimit=v.strokeMiterLimit,_.toLive?_.gradientUnits==="percentage"||_.gradientTransform||_.patternTransform?this._applyPatternForTransformedGradient(l,_):(l.strokeStyle=_.toLive(l,this),this._applyPatternGradientTransform(l,_)):l.strokeStyle=v.stroke)},_setFillStyles:function(l,v){var _=v.fill;_&&(_.toLive?(l.fillStyle=_.toLive(l,this),this._applyPatternGradientTransform(l,v.fill)):l.fillStyle=_)},_setClippingProperties:function(l){l.globalAlpha=1,l.strokeStyle="transparent",l.fillStyle="#000000"},_setLineDash:function(l,v){!v||v.length===0||(1&v.length&&v.push.apply(v,v),l.setLineDash(v))},_renderControls:function(l,v){var _=this.getViewportTransform(),b=this.calcTransformMatrix(),y,C,S;v=v||{},C=typeof v.hasBorders<"u"?v.hasBorders:this.hasBorders,S=typeof v.hasControls<"u"?v.hasControls:this.hasControls,b=r.util.multiplyTransformMatrices(_,b),y=r.util.qrDecompose(b),l.save(),l.translate(y.translateX,y.translateY),l.lineWidth=1*this.borderScaleFactor,this.group||(l.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(y.angle-=180),l.rotate(o(this.group?y.angle:this.angle)),v.forActiveSelection||this.group?C&&this.drawBordersInGroup(l,y,v):C&&this.drawBorders(l,v),S&&this.drawControls(l,v),l.restore()},_setShadow:function(l){if(this.shadow){var v=this.shadow,_=this.canvas,b,y=_&&_.viewportTransform[0]||1,C=_&&_.viewportTransform[3]||1;v.nonScaling?b={scaleX:1,scaleY:1}:b=this.getObjectScaling(),_&&_._isRetinaScaling()&&(y*=r.devicePixelRatio,C*=r.devicePixelRatio),l.shadowColor=v.color,l.shadowBlur=v.blur*r.browserShadowBlurConstant*(y+C)*(b.scaleX+b.scaleY)/4,l.shadowOffsetX=v.offsetX*y*b.scaleX,l.shadowOffsetY=v.offsetY*C*b.scaleY}},_removeShadow:function(l){this.shadow&&(l.shadowColor="",l.shadowBlur=l.shadowOffsetX=l.shadowOffsetY=0)},_applyPatternGradientTransform:function(l,v){if(!v||!v.toLive)return{offsetX:0,offsetY:0};var _=v.gradientTransform||v.patternTransform,b=-this.width/2+v.offsetX||0,y=-this.height/2+v.offsetY||0;return v.gradientUnits==="percentage"?l.transform(this.width,0,0,this.height,b,y):l.transform(1,0,0,1,b,y),_&&l.transform(_[0],_[1],_[2],_[3],_[4],_[5]),{offsetX:b,offsetY:y}},_renderPaintInOrder:function(l){this.paintFirst==="stroke"?(this._renderStroke(l),this._renderFill(l)):(this._renderFill(l),this._renderStroke(l))},_render:function(){},_renderFill:function(l){this.fill&&(l.save(),this._setFillStyles(l,this),this.fillRule==="evenodd"?l.fill("evenodd"):l.fill(),l.restore())},_renderStroke:function(l){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(l),l.save(),this.strokeUniform&&this.group){var v=this.getObjectScaling();l.scale(1/v.scaleX,1/v.scaleY)}else this.strokeUniform&&l.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(l,this.strokeDashArray),this._setStrokeStyles(l,this),l.stroke(),l.restore()}},_applyPatternForTransformedGradient:function(l,v){var _=this._limitCacheSize(this._getCacheCanvasDimensions()),b=r.util.createCanvasElement(),y,C=this.canvas.getRetinaScaling(),S=_.x/this.scaleX/C,w=_.y/this.scaleY/C;b.width=S,b.height=w,y=b.getContext("2d"),y.beginPath(),y.moveTo(0,0),y.lineTo(S,0),y.lineTo(S,w),y.lineTo(0,w),y.closePath(),y.translate(S/2,w/2),y.scale(_.zoomX/this.scaleX/C,_.zoomY/this.scaleY/C),this._applyPatternGradientTransform(y,v),y.fillStyle=v.toLive(l),y.fill(),l.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),l.scale(C*this.scaleX/_.zoomX,C*this.scaleY/_.zoomY),l.strokeStyle=y.createPattern(b,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var l=r.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",l.scaleX),this.set("scaleY",l.scaleY),this.angle=l.angle,this.skewX=l.skewX,this.skewY=0}},_removeTransformMatrix:function(l){var v=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),v=r.util.transformPoint(v,this.transformMatrix)),this.transformMatrix=null,l&&(this.scaleX*=l.scaleX,this.scaleY*=l.scaleY,this.cropX=l.cropX,this.cropY=l.cropY,v.x+=l.offsetLeft,v.y+=l.offsetTop,this.width=l.width,this.height=l.height),this.setPositionByOrigin(v,"center","center")},clone:function(l,v){var _=this.toObject(v);this.constructor.fromObject?this.constructor.fromObject(_,l):r.Object._fromObject("Object",_,l)},cloneAsImage:function(l,v){var _=this.toCanvasElement(v);return l&&l(new r.Image(_)),this},toCanvasElement:function(l){l||(l={});var v=r.util,_=v.saveObjectTransform(this),b=this.group,y=this.shadow,C=Math.abs,S=(l.multiplier||1)*(l.enableRetinaScaling?r.devicePixelRatio:1);delete this.group,l.withoutTransform&&v.resetObjectTransform(this),l.withoutShadow&&(this.shadow=null);var w=r.util.createCanvasElement(),O=this.getBoundingRect(!0,!0),A=this.shadow,N,W={x:0,y:0},Y,q,te;A&&(Y=A.blur,A.nonScaling?N={scaleX:1,scaleY:1}:N=this.getObjectScaling(),W.x=2*Math.round(C(A.offsetX)+Y)*C(N.scaleX),W.y=2*Math.round(C(A.offsetY)+Y)*C(N.scaleY)),q=O.width+W.x,te=O.height+W.y,w.width=Math.ceil(q),w.height=Math.ceil(te);var re=new r.StaticCanvas(w,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});l.format==="jpeg"&&(re.backgroundColor="#fff"),this.setPositionByOrigin(new r.Point(re.width/2,re.height/2),"center","center");var me=this.canvas;re.add(this);var G=re.toCanvasElement(S||1,l);return this.shadow=y,this.set("canvas",me),b&&(this.group=b),this.set(_).setCoords(),re._objects=[],re.dispose(),re=null,G},toDataURL:function(l){return l||(l={}),r.util.toDataURL(this.toCanvasElement(l),l.format||"png",l.quality||1)},isType:function(l){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===l},complexity:function(){return 1},toJSON:function(l){return this.toObject(l)},rotate:function(l){var v=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return v&&this._setOriginToCenter(),this.set("angle",l),v&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(l,v){v=v||this.canvas.getPointer(l);var _=new r.Point(v.x,v.y),b=this._getLeftTopCoords();return this.angle&&(_=r.util.rotatePoint(_,b,o(-this.angle))),{x:_.x-b.x,y:_.y-b.y}},_setupCompositeOperation:function(l){this.globalCompositeOperation&&(l.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){r.runningAnimations&&r.runningAnimations.cancelByTarget(this)}}),r.util.createAccessors&&r.util.createAccessors(r.Object),c(r.Object.prototype,r.Observable),r.Object.NUM_FRACTION_DIGITS=2,r.Object.ENLIVEN_PROPS=["clipPath"],r.Object._fromObject=function(l,v,_,b){var y=r[l];v=d(v,!0),r.util.enlivenPatterns([v.fill,v.stroke],function(C){typeof C[0]<"u"&&(v.fill=C[0]),typeof C[1]<"u"&&(v.stroke=C[1]),r.util.enlivenObjectEnlivables(v,v,function(){var S=b?new y(v[b],v):new y(v);_&&_(S)})})},r.Object.__uid=0)}(i),function(){var f=e.util.degreesToRadians,r={left:-.5,center:0,right:.5},c={top:-.5,center:0,bottom:.5};e.util.object.extend(e.Object.prototype,{translateToGivenOrigin:function(d,s,a,o,g){var m=d.x,l=d.y,v,_,b;return typeof s=="string"?s=r[s]:s-=.5,typeof o=="string"?o=r[o]:o-=.5,v=o-s,typeof a=="string"?a=c[a]:a-=.5,typeof g=="string"?g=c[g]:g-=.5,_=g-a,(v||_)&&(b=this._getTransformedDimensions(),m=d.x+v*b.x,l=d.y+_*b.y),new e.Point(m,l)},translateToCenterPoint:function(d,s,a){var o=this.translateToGivenOrigin(d,s,a,"center","center");return this.angle?e.util.rotatePoint(o,d,f(this.angle)):o},translateToOriginPoint:function(d,s,a){var o=this.translateToGivenOrigin(d,"center","center",s,a);return this.angle?e.util.rotatePoint(o,d,f(this.angle)):o},getCenterPoint:function(){var d=new e.Point(this.left,this.top);return this.translateToCenterPoint(d,this.originX,this.originY)},getPointByOrigin:function(d,s){var a=this.getCenterPoint();return this.translateToOriginPoint(a,d,s)},toLocalPoint:function(d,s,a){var o=this.getCenterPoint(),g,m;return typeof s<"u"&&typeof a<"u"?g=this.translateToGivenOrigin(o,"center","center",s,a):g=new e.Point(this.left,this.top),m=new e.Point(d.x,d.y),this.angle&&(m=e.util.rotatePoint(m,o,-f(this.angle))),m.subtractEquals(g)},setPositionByOrigin:function(d,s,a){var o=this.translateToCenterPoint(d,s,a),g=this.translateToOriginPoint(o,this.originX,this.originY);this.set("left",g.x),this.set("top",g.y)},adjustPosition:function(d){var s=f(this.angle),a=this.getScaledWidth(),o=e.util.cos(s)*a,g=e.util.sin(s)*a,m,l;typeof this.originX=="string"?m=r[this.originX]:m=this.originX-.5,typeof d=="string"?l=r[d]:l=d-.5,this.left+=o*(l-m),this.top+=g*(l-m),this.setCoords(),this.originX=d},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var d=this.getCenterPoint();this.originX="center",this.originY="center",this.left=d.x,this.top=d.y},_resetOrigin:function(){var d=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=d.x,this.top=d.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function f(a){return[new e.Point(a.tl.x,a.tl.y),new e.Point(a.tr.x,a.tr.y),new e.Point(a.br.x,a.br.y),new e.Point(a.bl.x,a.bl.y)]}var r=e.util,c=r.degreesToRadians,d=r.multiplyTransformMatrices,s=r.transformPoint;r.object.extend(e.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(a,o){return o?a?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),a?this.aCoords:this.lineCoords)},getCoords:function(a,o){return f(this._getCoords(a,o))},intersectsWithRect:function(a,o,g,m){var l=this.getCoords(g,m),v=e.Intersection.intersectPolygonRectangle(l,a,o);return v.status==="Intersection"},intersectsWithObject:function(a,o,g){var m=e.Intersection.intersectPolygonPolygon(this.getCoords(o,g),a.getCoords(o,g));return m.status==="Intersection"||a.isContainedWithinObject(this,o,g)||this.isContainedWithinObject(a,o,g)},isContainedWithinObject:function(a,o,g){for(var m=this.getCoords(o,g),l=o?a.aCoords:a.lineCoords,v=0,_=a._getImageLines(l);v<4;v++)if(!a.containsPoint(m[v],_))return!1;return!0},isContainedWithinRect:function(a,o,g,m){var l=this.getBoundingRect(g,m);return l.left>=a.x&&l.left+l.width<=o.x&&l.top>=a.y&&l.top+l.height<=o.y},containsPoint:function(a,v,g,m){var l=this._getCoords(g,m),v=v||this._getImageLines(l),_=this._findCrossPoints(a,v);return _!==0&&_%2===1},isOnScreen:function(a){if(!this.canvas)return!1;var o=this.canvas.vptCoords.tl,g=this.canvas.vptCoords.br,m=this.getCoords(!0,a);return m.some(function(l){return l.x<=g.x&&l.x>=o.x&&l.y<=g.y&&l.y>=o.y})||this.intersectsWithRect(o,g,!0,a)?!0:this._containsCenterOfCanvas(o,g,a)},_containsCenterOfCanvas:function(a,o,g){var m={x:(a.x+o.x)/2,y:(a.y+o.y)/2};return!!this.containsPoint(m,null,!0,g)},isPartiallyOnScreen:function(a){if(!this.canvas)return!1;var o=this.canvas.vptCoords.tl,g=this.canvas.vptCoords.br;if(this.intersectsWithRect(o,g,!0,a))return!0;var m=this.getCoords(!0,a).every(function(l){return(l.x>=g.x||l.x<=o.x)&&(l.y>=g.y||l.y<=o.y)});return m&&this._containsCenterOfCanvas(o,g,a)},_getImageLines:function(a){var o={topline:{o:a.tl,d:a.tr},rightline:{o:a.tr,d:a.br},bottomline:{o:a.br,d:a.bl},leftline:{o:a.bl,d:a.tl}};return o},_findCrossPoints:function(a,o){var g,m,l,v,_,b=0,y;for(var C in o)if(y=o[C],!(y.o.y<a.y&&y.d.y<a.y)&&!(y.o.y>=a.y&&y.d.y>=a.y)&&(y.o.x===y.d.x&&y.o.x>=a.x?_=y.o.x:(g=0,m=(y.d.y-y.o.y)/(y.d.x-y.o.x),l=a.y-g*a.x,v=y.o.y-m*y.o.x,_=-(l-v)/(g-m)),_>=a.x&&(b+=1),b===2))break;return b},getBoundingRect:function(a,o){var g=this.getCoords(a,o);return r.makeBoundingBoxFromPoints(g)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(a){return Math.abs(a)<this.minScaleLimit?a<0?-this.minScaleLimit:this.minScaleLimit:a===0?1e-4:a},scale:function(a){return this._set("scaleX",a),this._set("scaleY",a),this.setCoords()},scaleToWidth:function(a,o){var g=this.getBoundingRect(o).width/this.getScaledWidth();return this.scale(a/this.width/g)},scaleToHeight:function(a,o){var g=this.getBoundingRect(o).height/this.getScaledHeight();return this.scale(a/this.height/g)},calcLineCoords:function(){var a=this.getViewportTransform(),o=this.padding,g=c(this.angle),m=r.cos(g),l=r.sin(g),v=m*o,_=l*o,b=v+_,y=v-_,C=this.calcACoords(),S={tl:s(C.tl,a),tr:s(C.tr,a),bl:s(C.bl,a),br:s(C.br,a)};return o&&(S.tl.x-=y,S.tl.y-=b,S.tr.x+=b,S.tr.y-=y,S.bl.x-=b,S.bl.y+=y,S.br.x+=y,S.br.y+=b),S},calcOCoords:function(){var a=this._calcRotateMatrix(),o=this._calcTranslateMatrix(),g=this.getViewportTransform(),m=d(g,o),l=d(m,a),l=d(l,[1/g[0],0,0,1/g[3],0,0]),v=this._calculateCurrentDimensions(),_={};return this.forEachControl(function(b,y,C){_[y]=b.positionHandler(v,l,C)}),_},calcACoords:function(){var a=this._calcRotateMatrix(),o=this._calcTranslateMatrix(),g=d(o,a),m=this._getTransformedDimensions(),l=m.x/2,v=m.y/2;return{tl:s({x:-l,y:-v},g),tr:s({x:l,y:-v},g),bl:s({x:-l,y:v},g),br:s({x:l,y:v},g)}},setCoords:function(a){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),a?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return r.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var a=this.getCenterPoint();return[1,0,0,1,a.x,a.y]},transformMatrixKey:function(a){var o="_",g="";return!a&&this.group&&(g=this.group.transformMatrixKey(a)+o),g+this.top+o+this.left+o+this.scaleX+o+this.scaleY+o+this.skewX+o+this.skewY+o+this.angle+o+this.originX+o+this.originY+o+this.width+o+this.height+o+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(a){var o=this.calcOwnMatrix();if(a||!this.group)return o;var g=this.transformMatrixKey(a),m=this.matrixCache||(this.matrixCache={});return m.key===g?m.value:(this.group&&(o=d(this.group.calcTransformMatrix(!1),o)),m.key=g,m.value=o,o)},calcOwnMatrix:function(){var a=this.transformMatrixKey(!0),o=this.ownMatrixCache||(this.ownMatrixCache={});if(o.key===a)return o.value;var g=this._calcTranslateMatrix(),m={angle:this.angle,translateX:g[4],translateY:g[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return o.key=a,o.value=r.composeMatrix(m),o.value},_getNonTransformedDimensions:function(){var a=this.strokeWidth,o=this.width+a,g=this.height+a;return{x:o,y:g}},_getTransformedDimensions:function(a,o){typeof a>"u"&&(a=this.skewX),typeof o>"u"&&(o=this.skewY);var g,m,l,v=a===0&&o===0;if(this.strokeUniform?(m=this.width,l=this.height):(g=this._getNonTransformedDimensions(),m=g.x,l=g.y),v)return this._finalizeDimensions(m*this.scaleX,l*this.scaleY);var _=r.sizeAfterTransform(m,l,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:a,skewY:o});return this._finalizeDimensions(_.x,_.y)},_finalizeDimensions:function(a,o){return this.strokeUniform?{x:a+this.strokeWidth,y:o+this.strokeWidth}:{x:a,y:o}},_calculateCurrentDimensions:function(){var a=this.getViewportTransform(),o=this._getTransformedDimensions(),g=s(o,a,!0);return g.scalarAdd(2*this.padding)}})}(),e.util.object.extend(e.Object.prototype,{sendToBack:function(){return this.group?e.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?e.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(f){return this.group?e.StaticCanvas.prototype.sendBackwards.call(this.group,this,f):this.canvas&&this.canvas.sendBackwards(this,f),this},bringForward:function(f){return this.group?e.StaticCanvas.prototype.bringForward.call(this.group,this,f):this.canvas&&this.canvas.bringForward(this,f),this},moveTo:function(f){return this.group&&this.group.type!=="activeSelection"?e.StaticCanvas.prototype.moveTo.call(this.group,this,f):this.canvas&&this.canvas.moveTo(this,f),this}}),function(){function f(c,d){if(d){if(d.toLive)return c+": url(#SVGID_"+d.id+"); ";var s=new e.Color(d),a=c+": "+s.toRgb()+"; ",o=s.getAlpha();return o!==1&&(a+=c+"-opacity: "+o.toString()+"; "),a}else return c+": none; "}var r=e.util.toFixed;e.util.object.extend(e.Object.prototype,{getSvgStyles:function(c){var d=this.fillRule?this.fillRule:"nonzero",s=this.strokeWidth?this.strokeWidth:"0",a=this.strokeDashArray?this.strokeDashArray.join(" "):"none",o=this.strokeDashOffset?this.strokeDashOffset:"0",g=this.strokeLineCap?this.strokeLineCap:"butt",m=this.strokeLineJoin?this.strokeLineJoin:"miter",l=this.strokeMiterLimit?this.strokeMiterLimit:"4",v=typeof this.opacity<"u"?this.opacity:"1",_=this.visible?"":" visibility: hidden;",b=c?"":this.getSvgFilter(),y=f("fill",this.fill),C=f("stroke",this.stroke);return[C,"stroke-width: ",s,"; ","stroke-dasharray: ",a,"; ","stroke-linecap: ",g,"; ","stroke-dashoffset: ",o,"; ","stroke-linejoin: ",m,"; ","stroke-miterlimit: ",l,"; ",y,"fill-rule: ",d,"; ","opacity: ",v,";",b,_].join("")},getSvgSpanStyles:function(c,d){var s="; ",o=c.fontFamily?"font-family: "+(c.fontFamily.indexOf("'")===-1&&c.fontFamily.indexOf('"')===-1?"'"+c.fontFamily+"'":c.fontFamily)+s:"",a=c.strokeWidth?"stroke-width: "+c.strokeWidth+s:"",o=o,g=c.fontSize?"font-size: "+c.fontSize+"px"+s:"",m=c.fontStyle?"font-style: "+c.fontStyle+s:"",l=c.fontWeight?"font-weight: "+c.fontWeight+s:"",v=c.fill?f("fill",c.fill):"",_=c.stroke?f("stroke",c.stroke):"",b=this.getSvgTextDecoration(c),y=c.deltaY?"baseline-shift: "+-c.deltaY+"; ":"";return b&&(b="text-decoration: "+b+s),[_,a,o,g,m,l,b,v,y,d?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(c){return["overline","underline","line-through"].filter(function(d){return c[d.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(c,d){var s=c?this.calcTransformMatrix():this.calcOwnMatrix(),a='transform="'+e.util.matrixToSVG(s);return a+(d||"")+'" '},_setSVGBg:function(c){if(this.backgroundColor){var d=e.Object.NUM_FRACTION_DIGITS;c.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',r(-this.width/2,d),'" y="',r(-this.height/2,d),'" width="',r(this.width,d),'" height="',r(this.height,d),`"></rect>
`)}},toSVG:function(c){return this._createBaseSVGMarkup(this._toSVG(c),{reviver:c})},toClipPathSVG:function(c){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(c),{reviver:c})},_createBaseClipPathSVGMarkup:function(c,d){d=d||{};var s=d.reviver,a=d.additionalTransform||"",o=[this.getSvgTransform(!0,a),this.getSvgCommons()].join(""),g=c.indexOf("COMMON_PARTS");return c[g]=o,s?s(c.join("")):c.join("")},_createBaseSVGMarkup:function(c,d){d=d||{};var s=d.noStyle,a=d.reviver,o=s?"":'style="'+this.getSvgStyles()+'" ',g=d.withShadow?'style="'+this.getSvgFilter()+'" ':"",m=this.clipPath,l=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",v=m&&m.absolutePositioned,_=this.stroke,b=this.fill,y=this.shadow,C,S=[],w,O=c.indexOf("COMMON_PARTS"),A=d.additionalTransform;return m&&(m.clipPathId="CLIPPATH_"+e.Object.__uid++,w='<clipPath id="'+m.clipPathId+`" >
`+m.toClipPathSVG(a)+`</clipPath>
`),v&&S.push("<g ",g,this.getSvgCommons(),` >
`),S.push("<g ",this.getSvgTransform(!1),v?"":g+this.getSvgCommons(),` >
`),C=[o,l,s?"":this.addPaintOrder()," ",A?'transform="'+A+'" ':""].join(""),c[O]=C,b&&b.toLive&&S.push(b.toSVG(this)),_&&_.toLive&&S.push(_.toSVG(this)),y&&S.push(y.toSVG(this)),m&&S.push(w),S.push(c.join("")),S.push(`</g>
`),v&&S.push(`</g>
`),a?a(S.join("")):S.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var f=e.util.object.extend,r="stateProperties";function c(s,a,o){var g={},m=!0;o.forEach(function(l){g[l]=s[l]}),f(s[a],g,m)}function d(s,a,o){if(s===a)return!0;if(Array.isArray(s)){if(!Array.isArray(a)||s.length!==a.length)return!1;for(var g=0,m=s.length;g<m;g++)if(!d(s[g],a[g]))return!1;return!0}else if(s&&typeof s=="object"){var l=Object.keys(s),v;if(!a||typeof a!="object"||!o&&l.length!==Object.keys(a).length)return!1;for(var g=0,m=l.length;g<m;g++)if(v=l[g],!(v==="canvas"||v==="group")&&!d(s[v],a[v]))return!1;return!0}}e.util.object.extend(e.Object.prototype,{hasStateChanged:function(s){s=s||r;var a="_"+s;return Object.keys(this[a]).length<this[s].length?!0:!d(this[a],this,!0)},saveState:function(s){var a=s&&s.propertySet||r,o="_"+a;return this[o]?(c(this,o,this[a]),s&&s.stateProperties&&c(this,o,s.stateProperties),this):this.setupState(s)},setupState:function(s){s=s||{};var a=s.propertySet||r;return s.propertySet=a,this["_"+a]={},this.saveState(s),this}})}(),function(){var f=e.util.degreesToRadians;e.util.object.extend(e.Object.prototype,{_findTargetCorner:function(r,c){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var d=r.x,s=r.y,a,o,g=Object.keys(this.oCoords),m=g.length-1,l;for(this.__corner=0;m>=0;m--)if(l=g[m],!!this.isControlVisible(l)&&(o=this._getImageLines(c?this.oCoords[l].touchCorner:this.oCoords[l].corner),a=this._findCrossPoints({x:d,y:s},o),a!==0&&a%2===1))return this.__corner=l,l;return!1},forEachControl:function(r){for(var c in this.controls)r(this.controls[c],c,this)},_setCornerCoords:function(){var r=this.oCoords;for(var c in r){var d=this.controls[c];r[c].corner=d.calcCornerCoords(this.angle,this.cornerSize,r[c].x,r[c].y,!1),r[c].touchCorner=d.calcCornerCoords(this.angle,this.touchCornerSize,r[c].x,r[c].y,!0)}},drawSelectionBackground:function(r){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;r.save();var c=this.getCenterPoint(),d=this._calculateCurrentDimensions(),s=this.canvas.viewportTransform;return r.translate(c.x,c.y),r.scale(1/s[0],1/s[3]),r.rotate(f(this.angle)),r.fillStyle=this.selectionBackgroundColor,r.fillRect(-d.x/2,-d.y/2,d.x,d.y),r.restore(),this},drawBorders:function(r,c){c=c||{};var d=this._calculateCurrentDimensions(),s=this.borderScaleFactor,a=d.x+s,o=d.y+s,g=typeof c.hasControls<"u"?c.hasControls:this.hasControls,m=!1;return r.save(),r.strokeStyle=c.borderColor||this.borderColor,this._setLineDash(r,c.borderDashArray||this.borderDashArray),r.strokeRect(-a/2,-o/2,a,o),g&&(r.beginPath(),this.forEachControl(function(l,v,_){l.withConnection&&l.getVisibility(_,v)&&(m=!0,r.moveTo(l.x*a,l.y*o),r.lineTo(l.x*a+l.offsetX,l.y*o+l.offsetY))}),m&&r.stroke()),r.restore(),this},drawBordersInGroup:function(r,c,d){d=d||{};var s=e.util.sizeAfterTransform(this.width,this.height,c),a=this.strokeWidth,o=this.strokeUniform,g=this.borderScaleFactor,m=s.x+a*(o?this.canvas.getZoom():c.scaleX)+g,l=s.y+a*(o?this.canvas.getZoom():c.scaleY)+g;return r.save(),this._setLineDash(r,d.borderDashArray||this.borderDashArray),r.strokeStyle=d.borderColor||this.borderColor,r.strokeRect(-m/2,-l/2,m,l),r.restore(),this},drawControls:function(r,c){c=c||{},r.save();var d=this.canvas.getRetinaScaling(),s,a;return r.setTransform(d,0,0,d,0,0),r.strokeStyle=r.fillStyle=c.cornerColor||this.cornerColor,this.transparentCorners||(r.strokeStyle=c.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(r,c.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(s=this.group.calcTransformMatrix()),this.forEachControl(function(o,g,m){a=m.oCoords[g],o.getVisibility(m,g)&&(s&&(a=e.util.transformPoint(a,s)),o.render(r,a.x,a.y,c,m))}),r.restore(),this},isControlVisible:function(r){return this.controls[r]&&this.controls[r].getVisibility(this,r)},setControlVisible:function(r,c){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[r]=c,this},setControlsVisibility:function(r){r||(r={});for(var c in r)this.setControlVisible(c,r[c]);return this},onDeselect:function(){},onSelect:function(){}})}(),e.util.object.extend(e.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(f,r){r=r||{};var c=function(){},d=r.onComplete||c,s=r.onChange||c,a=this;return e.util.animate({target:this,startValue:f.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(o){f.set("left",o),a.requestRenderAll(),s()},onComplete:function(){f.setCoords(),d()}})},fxCenterObjectV:function(f,r){r=r||{};var c=function(){},d=r.onComplete||c,s=r.onChange||c,a=this;return e.util.animate({target:this,startValue:f.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(o){f.set("top",o),a.requestRenderAll(),s()},onComplete:function(){f.setCoords(),d()}})},fxRemove:function(f,r){r=r||{};var c=function(){},d=r.onComplete||c,s=r.onChange||c,a=this;return e.util.animate({target:this,startValue:f.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(o){f.set("opacity",o),a.requestRenderAll(),s()},onComplete:function(){a.remove(f),d()}})}}),e.util.object.extend(e.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var f=[],r,c,d=[];for(r in arguments[0])f.push(r);for(var s=0,a=f.length;s<a;s++)r=f[s],c=s!==a-1,d.push(this._animate(r,arguments[0][r],arguments[1],c));return d}else return this._animate.apply(this,arguments)},_animate:function(f,r,c,d){var s=this,a;r=r.toString(),c?c=e.util.object.clone(c):c={},~f.indexOf(".")&&(a=f.split("."));var o=s.colorProperties.indexOf(f)>-1||a&&s.colorProperties.indexOf(a[1])>-1,g=a?this.get(a[0])[a[1]]:this.get(f);"from"in c||(c.from=g),o||(~r.indexOf("=")?r=g+parseFloat(r.replace("=","")):r=parseFloat(r));var m={target:this,startValue:c.from,endValue:r,byValue:c.by,easing:c.easing,duration:c.duration,abort:c.abort&&function(l,v,_){return c.abort.call(s,l,v,_)},onChange:function(l,v,_){a?s[a[0]][a[1]]=l:s.set(f,l),!d&&c.onChange&&c.onChange(l,v,_)},onComplete:function(l,v,_){d||(s.setCoords(),c.onComplete&&c.onComplete(l,v,_))}};return o?e.util.animateColor(m.startValue,m.endValue,m.duration,m):e.util.animate(m)}}),function(f){var r=f.fabric||(f.fabric={}),c=r.util.object.extend,d=r.util.object.clone,s={x1:1,x2:1,y1:1,y2:1};if(r.Line){r.warn("fabric.Line is already defined");return}r.Line=r.util.createClass(r.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:r.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(o,g){o||(o=[0,0,0,0]),this.callSuper("initialize",g),this.set("x1",o[0]),this.set("y1",o[1]),this.set("x2",o[2]),this.set("y2",o[3]),this._setWidthHeight(g)},_setWidthHeight:function(o){o||(o={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in o?o.left:this._getLeftToOriginX(),this.top="top"in o?o.top:this._getTopToOriginY()},_set:function(o,g){return this.callSuper("_set",o,g),typeof s[o]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:a({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:a({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(o){o.beginPath();var g=this.calcLinePoints();o.moveTo(g.x1,g.y1),o.lineTo(g.x2,g.y2),o.lineWidth=this.strokeWidth;var m=o.strokeStyle;o.strokeStyle=this.stroke||o.fillStyle,this.stroke&&this._renderStroke(o),o.strokeStyle=m},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(o){return c(this.callSuper("toObject",o),this.calcLinePoints())},_getNonTransformedDimensions:function(){var o=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(o.y-=this.strokeWidth),this.height===0&&(o.x-=this.strokeWidth)),o},calcLinePoints:function(){var o=this.x1<=this.x2?-1:1,g=this.y1<=this.y2?-1:1,m=o*this.width*.5,l=g*this.height*.5,v=o*this.width*-.5,_=g*this.height*-.5;return{x1:m,x2:v,y1:l,y2:_}},_toSVG:function(){var o=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',o.x1,'" y1="',o.y1,'" x2="',o.x2,'" y2="',o.y2,`" />
`]}}),r.Line.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),r.Line.fromElement=function(o,g,m){m=m||{};var l=r.parseAttributes(o,r.Line.ATTRIBUTE_NAMES),v=[l.x1||0,l.y1||0,l.x2||0,l.y2||0];g(new r.Line(v,c(l,m)))},r.Line.fromObject=function(o,g){function m(v){delete v.points,g&&g(v)}var l=d(o,!0);l.points=[o.x1,o.y1,o.x2,o.y2],r.Object._fromObject("Line",l,m,"points")};function a(o,g){var m=o.origin,l=o.axis1,v=o.axis2,_=o.dimension,b=g.nearest,y=g.center,C=g.farthest;return function(){switch(this.get(m)){case b:return Math.min(this.get(l),this.get(v));case y:return Math.min(this.get(l),this.get(v))+.5*this.get(_);case C:return Math.max(this.get(l),this.get(v))}}}}(i),function(f){var r=f.fabric||(f.fabric={}),c=r.util.degreesToRadians;if(r.Circle){r.warn("fabric.Circle is already defined.");return}r.Circle=r.util.createClass(r.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:r.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(s,a){return this.callSuper("_set",s,a),s==="radius"&&this.setRadius(a),this},toObject:function(s){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(s))},_toSVG:function(){var s,a=0,o=0,g=(this.endAngle-this.startAngle)%360;if(g===0)s=["<circle ","COMMON_PARTS",'cx="'+a+'" cy="'+o+'" ','r="',this.radius,`" />
`];else{var m=c(this.startAngle),l=c(this.endAngle),v=this.radius,_=r.util.cos(m)*v,b=r.util.sin(m)*v,y=r.util.cos(l)*v,C=r.util.sin(l)*v,S=g>180?"1":"0";s=['<path d="M '+_+" "+b," A "+v+" "+v," 0 ",+S+" 1"," "+y+" "+C,'" ',"COMMON_PARTS",` />
`]}return s},_render:function(s){s.beginPath(),s.arc(0,0,this.radius,c(this.startAngle),c(this.endAngle),!1),this._renderPaintInOrder(s)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(s){return this.radius=s,this.set("width",s*2).set("height",s*2)}}),r.Circle.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),r.Circle.fromElement=function(s,a){var o=r.parseAttributes(s,r.Circle.ATTRIBUTE_NAMES);if(!d(o))throw new Error("value of `r` attribute is required and can not be negative");o.left=(o.left||0)-o.radius,o.top=(o.top||0)-o.radius,a(new r.Circle(o))};function d(s){return"radius"in s&&s.radius>=0}r.Circle.fromObject=function(s,a){r.Object._fromObject("Circle",s,a)}}(i),function(f){var r=f.fabric||(f.fabric={});if(r.Triangle){r.warn("fabric.Triangle is already defined");return}r.Triangle=r.util.createClass(r.Object,{type:"triangle",width:100,height:100,_render:function(c){var d=this.width/2,s=this.height/2;c.beginPath(),c.moveTo(-d,s),c.lineTo(0,-s),c.lineTo(d,s),c.closePath(),this._renderPaintInOrder(c)},_toSVG:function(){var c=this.width/2,d=this.height/2,s=[-c+" "+d,"0 "+-d,c+" "+d].join(",");return["<polygon ","COMMON_PARTS",'points="',s,'" />']}}),r.Triangle.fromObject=function(c,d){return r.Object._fromObject("Triangle",c,d)}}(i),function(f){var r=f.fabric||(f.fabric={}),c=Math.PI*2;if(r.Ellipse){r.warn("fabric.Ellipse is already defined.");return}r.Ellipse=r.util.createClass(r.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:r.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(d){this.callSuper("initialize",d),this.set("rx",d&&d.rx||0),this.set("ry",d&&d.ry||0)},_set:function(d,s){switch(this.callSuper("_set",d,s),d){case"rx":this.rx=s,this.set("width",s*2);break;case"ry":this.ry=s,this.set("height",s*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(d){return this.callSuper("toObject",["rx","ry"].concat(d))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(d){d.beginPath(),d.save(),d.transform(1,0,0,this.ry/this.rx,0,0),d.arc(0,0,this.rx,0,c,!1),d.restore(),this._renderPaintInOrder(d)}}),r.Ellipse.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),r.Ellipse.fromElement=function(d,s){var a=r.parseAttributes(d,r.Ellipse.ATTRIBUTE_NAMES);a.left=(a.left||0)-a.rx,a.top=(a.top||0)-a.ry,s(new r.Ellipse(a))},r.Ellipse.fromObject=function(d,s){r.Object._fromObject("Ellipse",d,s)}}(i),function(f){var r=f.fabric||(f.fabric={}),c=r.util.object.extend;if(r.Rect){r.warn("fabric.Rect is already defined");return}r.Rect=r.util.createClass(r.Object,{stateProperties:r.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:r.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(d){this.callSuper("initialize",d),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(d){var s=this.rx?Math.min(this.rx,this.width/2):0,a=this.ry?Math.min(this.ry,this.height/2):0,o=this.width,g=this.height,m=-this.width/2,l=-this.height/2,v=s!==0||a!==0,_=1-.5522847498;d.beginPath(),d.moveTo(m+s,l),d.lineTo(m+o-s,l),v&&d.bezierCurveTo(m+o-_*s,l,m+o,l+_*a,m+o,l+a),d.lineTo(m+o,l+g-a),v&&d.bezierCurveTo(m+o,l+g-_*a,m+o-_*s,l+g,m+o-s,l+g),d.lineTo(m+s,l+g),v&&d.bezierCurveTo(m+_*s,l+g,m,l+g-_*a,m,l+g-a),d.lineTo(m,l+a),v&&d.bezierCurveTo(m,l+_*a,m+_*s,l,m+s,l),d.closePath(),this._renderPaintInOrder(d)},toObject:function(d){return this.callSuper("toObject",["rx","ry"].concat(d))},_toSVG:function(){var d=-this.width/2,s=-this.height/2;return["<rect ","COMMON_PARTS",'x="',d,'" y="',s,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),r.Rect.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),r.Rect.fromElement=function(d,s,a){if(!d)return s(null);a=a||{};var o=r.parseAttributes(d,r.Rect.ATTRIBUTE_NAMES);o.left=o.left||0,o.top=o.top||0,o.height=o.height||0,o.width=o.width||0;var g=new r.Rect(c(a?r.util.object.clone(a):{},o));g.visible=g.visible&&g.width>0&&g.height>0,s(g)},r.Rect.fromObject=function(d,s){return r.Object._fromObject("Rect",d,s)}}(i),function(f){var r=f.fabric||(f.fabric={}),c=r.util.object.extend,d=r.util.array.min,s=r.util.array.max,a=r.util.toFixed,o=r.util.projectStrokeOnPoints;if(r.Polyline){r.warn("fabric.Polyline is already defined");return}r.Polyline=r.util.createClass(r.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:r.Object.prototype.cacheProperties.concat("points"),initialize:function(g,m){m=m||{},this.points=g||[],this.callSuper("initialize",m),this._setPositionDimensions(m)},_projectStrokeOnPoints:function(){return o(this.points,this,!0)},_setPositionDimensions:function(g){var m=this._calcDimensions(g),l,v=this.exactBoundingBox?this.strokeWidth:0;this.width=m.width-v,this.height=m.height-v,g.fromSVG||(l=this.translateToGivenOrigin({x:m.left-this.strokeWidth/2+v/2,y:m.top-this.strokeWidth/2+v/2},"left","top",this.originX,this.originY)),typeof g.left>"u"&&(this.left=g.fromSVG?m.left:l.x),typeof g.top>"u"&&(this.top=g.fromSVG?m.top:l.y),this.pathOffset={x:m.left+this.width/2+v/2,y:m.top+this.height/2+v/2}},_calcDimensions:function(){var g=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,m=d(g,"x")||0,l=d(g,"y")||0,v=s(g,"x")||0,_=s(g,"y")||0,b=v-m,y=_-l;return{left:m,top:l,width:b,height:y}},toObject:function(g){return c(this.callSuper("toObject",g),{points:this.points.concat()})},_toSVG:function(){for(var g=[],m=this.pathOffset.x,l=this.pathOffset.y,v=r.Object.NUM_FRACTION_DIGITS,_=0,b=this.points.length;_<b;_++)g.push(a(this.points[_].x-m,v),",",a(this.points[_].y-l,v)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',g.join(""),`" />
`]},commonRender:function(g){var m,l=this.points.length,v=this.pathOffset.x,_=this.pathOffset.y;if(!l||isNaN(this.points[l-1].y))return!1;g.beginPath(),g.moveTo(this.points[0].x-v,this.points[0].y-_);for(var b=0;b<l;b++)m=this.points[b],g.lineTo(m.x-v,m.y-_);return!0},_render:function(g){this.commonRender(g)&&this._renderPaintInOrder(g)},complexity:function(){return this.get("points").length}}),r.Polyline.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat(),r.Polyline.fromElementGenerator=function(g){return function(m,l,v){if(!m)return l(null);v||(v={});var _=r.parsePointsAttribute(m.getAttribute("points")),b=r.parseAttributes(m,r[g].ATTRIBUTE_NAMES);b.fromSVG=!0,l(new r[g](_,c(b,v)))}},r.Polyline.fromElement=r.Polyline.fromElementGenerator("Polyline"),r.Polyline.fromObject=function(g,m){return r.Object._fromObject("Polyline",g,m,"points")}}(i),function(f){var r=f.fabric||(f.fabric={}),c=r.util.projectStrokeOnPoints;if(r.Polygon){r.warn("fabric.Polygon is already defined");return}r.Polygon=r.util.createClass(r.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return c(this.points,this)},_render:function(d){this.commonRender(d)&&(d.closePath(),this._renderPaintInOrder(d))}}),r.Polygon.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat(),r.Polygon.fromElement=r.Polyline.fromElementGenerator("Polygon"),r.Polygon.fromObject=function(d,s){r.Object._fromObject("Polygon",d,s,"points")}}(i),function(f){var r=f.fabric||(f.fabric={}),c=r.util.array.min,d=r.util.array.max,s=r.util.object.extend,a=r.util.object.clone,o=r.util.toFixed;if(r.Path){r.warn("fabric.Path is already defined");return}r.Path=r.util.createClass(r.Object,{type:"path",path:null,cacheProperties:r.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:r.Object.prototype.stateProperties.concat("path"),initialize:function(g,m){m=a(m||{}),delete m.path,this.callSuper("initialize",m),this._setPath(g||[],m)},_setPath:function(g,m){this.path=r.util.makePathSimpler(Array.isArray(g)?g:r.util.parsePath(g)),r.Polyline.prototype._setPositionDimensions.call(this,m||{})},_renderPathCommands:function(g){var m,l=0,v=0,_=0,b=0,y=0,C=0,S=-this.pathOffset.x,w=-this.pathOffset.y;g.beginPath();for(var O=0,A=this.path.length;O<A;++O)switch(m=this.path[O],m[0]){case"L":_=m[1],b=m[2],g.lineTo(_+S,b+w);break;case"M":_=m[1],b=m[2],l=_,v=b,g.moveTo(_+S,b+w);break;case"C":_=m[5],b=m[6],y=m[3],C=m[4],g.bezierCurveTo(m[1]+S,m[2]+w,y+S,C+w,_+S,b+w);break;case"Q":g.quadraticCurveTo(m[1]+S,m[2]+w,m[3]+S,m[4]+w),_=m[3],b=m[4],y=m[1],C=m[2];break;case"z":case"Z":_=l,b=v,g.closePath();break}},_render:function(g){this._renderPathCommands(g),this._renderPaintInOrder(g)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(g){return s(this.callSuper("toObject",g),{path:this.path.map(function(m){return m.slice()})})},toDatalessObject:function(g){var m=this.toObject(["sourcePath"].concat(g));return m.sourcePath&&delete m.path,m},_toSVG:function(){var g=r.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',g,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var g=r.Object.NUM_FRACTION_DIGITS;return" translate("+o(-this.pathOffset.x,g)+", "+o(-this.pathOffset.y,g)+")"},toClipPathSVG:function(g){var m=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:g,additionalTransform:m})},toSVG:function(g){var m=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:g,additionalTransform:m})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var g=[],m=[],l,v=0,_=0,b=0,y=0,C,S=0,w=this.path.length;S<w;++S){switch(l=this.path[S],l[0]){case"L":b=l[1],y=l[2],C=[];break;case"M":b=l[1],y=l[2],v=b,_=y,C=[];break;case"C":C=r.util.getBoundsOfCurve(b,y,l[1],l[2],l[3],l[4],l[5],l[6]),b=l[5],y=l[6];break;case"Q":C=r.util.getBoundsOfCurve(b,y,l[1],l[2],l[1],l[2],l[3],l[4]),b=l[3],y=l[4];break;case"z":case"Z":b=v,y=_;break}C.forEach(function(te){g.push(te.x),m.push(te.y)}),g.push(b),m.push(y)}var O=c(g)||0,A=c(m)||0,N=d(g)||0,W=d(m)||0,Y=N-O,q=W-A;return{left:O,top:A,width:Y,height:q}}}),r.Path.fromObject=function(g,m){if(typeof g.sourcePath=="string"){var l=g.sourcePath;r.loadSVGFromURL(l,function(v){var _=v[0];_.setOptions(g),g.clipPath?r.util.enlivenObjects([g.clipPath],function(b){_.clipPath=b[0],m&&m(_)}):m&&m(_)})}else r.Object._fromObject("Path",g,m,"path")},r.Path.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat(["d"]),r.Path.fromElement=function(g,m,l){var v=r.parseAttributes(g,r.Path.ATTRIBUTE_NAMES);v.fromSVG=!0,m(new r.Path(v.d,s(v,l)))}}(i),function(f){var r=f.fabric||(f.fabric={}),c=r.util.array.min,d=r.util.array.max;r.Group||(r.Group=r.util.createClass(r.Object,r.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(s,a,o){a=a||{},this._objects=[],o&&this.callSuper("initialize",a),this._objects=s||[];for(var g=this._objects.length;g--;)this._objects[g].group=this;if(o)this._updateObjectsACoords();else{var m=a&&a.centerPoint;a.originX!==void 0&&(this.originX=a.originX),a.originY!==void 0&&(this.originY=a.originY),m||this._calcBounds(),this._updateObjectsCoords(m),delete a.centerPoint,this.callSuper("initialize",a)}this.setCoords()},_updateObjectsACoords:function(){for(var s=!0,a=this._objects.length;a--;)this._objects[a].setCoords(s)},_updateObjectsCoords:function(a){for(var a=a||this.getCenterPoint(),o=this._objects.length;o--;)this._updateObjectCoords(this._objects[o],a)},_updateObjectCoords:function(s,a){var o=s.left,g=s.top,m=!0;s.set({left:o-a.x,top:g-a.y}),s.group=this,s.setCoords(m)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(s){var a=!!this.group;return this._restoreObjectsState(),r.util.resetObjectTransform(this),s&&(a&&r.util.removeTransformFromObject(s,this.group.calcTransformMatrix()),this._objects.push(s),s.group=this,s._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,a?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(s){return this._restoreObjectsState(),r.util.resetObjectTransform(this),this.remove(s),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(s){this.dirty=!0,s.group=this,s._set("canvas",this.canvas)},_onObjectRemoved:function(s){this.dirty=!0,delete s.group},_set:function(s,a){var o=this._objects.length;if(this.useSetOnGroup)for(;o--;)this._objects[o].setOnGroup(s,a);if(s==="canvas")for(;o--;)this._objects[o]._set(s,a);r.Object.prototype._set.call(this,s,a)},toObject:function(s){var a=this.includeDefaultValues,o=this._objects.filter(function(m){return!m.excludeFromExport}).map(function(m){var l=m.includeDefaultValues;m.includeDefaultValues=a;var v=m.toObject(s);return m.includeDefaultValues=l,v}),g=r.Object.prototype.toObject.call(this,s);return g.objects=o,g},toDatalessObject:function(s){var a,o=this.sourcePath;if(o)a=o;else{var g=this.includeDefaultValues;a=this._objects.map(function(l){var v=l.includeDefaultValues;l.includeDefaultValues=g;var _=l.toDatalessObject(s);return l.includeDefaultValues=v,_})}var m=r.Object.prototype.toDatalessObject.call(this,s);return m.objects=a,m},render:function(s){this._transformDone=!0,this.callSuper("render",s),this._transformDone=!1},shouldCache:function(){var s=r.Object.prototype.shouldCache.call(this);if(s){for(var a=0,o=this._objects.length;a<o;a++)if(this._objects[a].willDrawShadow())return this.ownCaching=!1,!1}return s},willDrawShadow:function(){if(r.Object.prototype.willDrawShadow.call(this))return!0;for(var s=0,a=this._objects.length;s<a;s++)if(this._objects[s].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(s){for(var a=0,o=this._objects.length;a<o;a++)this._objects[a].render(s);this._drawClipPath(s,this.clipPath)},isCacheDirty:function(s){if(this.callSuper("isCacheDirty",s))return!0;if(!this.statefullCache)return!1;for(var a=0,o=this._objects.length;a<o;a++)if(this._objects[a].isCacheDirty(!0)){if(this._cacheCanvas){var g=this.cacheWidth/this.zoomX,m=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-g/2,-m/2,g,m)}return!0}return!1},_restoreObjectsState:function(){var s=this.calcOwnMatrix();return this._objects.forEach(function(a){r.util.addTransformToObject(a,s),delete a.group,a.setCoords()}),this},destroy:function(){return this._objects.forEach(function(s){s.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(s){s.dispose&&s.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var s=this._objects,a=this.canvas;this._objects=[];var o=this.toObject();delete o.objects;var g=new r.ActiveSelection([]);return g.set(o),g.type="activeSelection",a.remove(this),s.forEach(function(m){m.group=g,m.dirty=!0,a.add(m)}),g.canvas=a,g._objects=s,a._activeObject=g,g.setCoords(),g}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var s=!0;return this.forEachObject(function(a){a.setCoords(s)}),this},_calcBounds:function(s){for(var a=[],o=[],g,m,l,v=["tr","br","bl","tl"],_=0,b=this._objects.length,y,C=v.length;_<b;++_){for(g=this._objects[_],l=g.calcACoords(),y=0;y<C;y++)m=v[y],a.push(l[m].x),o.push(l[m].y);g.aCoords=l}this._getBounds(a,o,s)},_getBounds:function(s,a,o){var g=new r.Point(c(s),c(a)),m=new r.Point(d(s),d(a)),l=g.y||0,v=g.x||0,_=m.x-g.x||0,b=m.y-g.y||0;this.width=_,this.height=b,o||this.setPositionByOrigin({x:v,y:l},"left","top")},_toSVG:function(s){for(var a=["<g ","COMMON_PARTS",` >
`],o=0,g=this._objects.length;o<g;o++)a.push("		",this._objects[o].toSVG(s));return a.push(`</g>
`),a},getSvgStyles:function(){var s=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",a=this.visible?"":" visibility: hidden;";return[s,this.getSvgFilter(),a].join("")},toClipPathSVG:function(s){for(var a=[],o=0,g=this._objects.length;o<g;o++)a.push("	",this._objects[o].toClipPathSVG(s));return this._createBaseClipPathSVGMarkup(a,{reviver:s})}}),r.Group.fromObject=function(s,a){var o=s.objects,g=r.util.object.clone(s,!0);if(delete g.objects,typeof o=="string"){r.loadSVGFromURL(o,function(m){var l=r.util.groupSVGElements(m,s,o),v=g.clipPath;delete g.clipPath,l.set(g),v?r.util.enlivenObjects([v],function(_){l.clipPath=_[0],a&&a(l)}):a&&a(l)});return}r.util.enlivenObjects(o,function(m){r.util.enlivenObjectEnlivables(s,g,function(){a&&a(new r.Group(m,g,!0))})})})}(i),function(f){var r=f.fabric||(f.fabric={});r.ActiveSelection||(r.ActiveSelection=r.util.createClass(r.Group,{type:"activeSelection",initialize:function(c,d){d=d||{},this._objects=c||[];for(var s=this._objects.length;s--;)this._objects[s].group=this;d.originX&&(this.originX=d.originX),d.originY&&(this.originY=d.originY),this._calcBounds(),this._updateObjectsCoords(),r.Object.prototype.initialize.call(this,d),this.setCoords()},toGroup:function(){var c=this._objects.concat();this._objects=[];var d=r.Object.prototype.toObject.call(this),s=new r.Group([]);if(delete d.type,s.set(d),c.forEach(function(o){o.canvas.remove(o),o.group=s}),s._objects=c,!this.canvas)return s;var a=this.canvas;return a.add(s),a._activeObject=s,s.setCoords(),s},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(c,d,s){c.save(),c.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",c,d),s=s||{},typeof s.hasControls>"u"&&(s.hasControls=!1),s.forActiveSelection=!0;for(var a=0,o=this._objects.length;a<o;a++)this._objects[a]._renderControls(c,s);c.restore()}}),r.ActiveSelection.fromObject=function(c,d){r.util.enlivenObjects(c.objects,function(s){delete c.objects,d&&d(new r.ActiveSelection(s,c,!0))})})}(i),function(f){var r=e.util.object.extend;if(f.fabric||(f.fabric={}),f.fabric.Image){e.warn("fabric.Image is already defined.");return}e.Image=e.util.createClass(e.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:e.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:e.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(c,d){d||(d={}),this.filters=[],this.cacheKey="texture"+e.Object.__uid++,this.callSuper("initialize",d),this._initElement(c,d)},getElement:function(){return this._element||{}},setElement:function(c,d){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=c,this._originalElement=c,this._initConfig(d),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(c){var d=e.filterBackend;d&&d.evictCachesForKey&&d.evictCachesForKey(c)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(c){e.util.cleanUpJsdomNode(this[c]),this[c]=void 0}).bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var c=this.getElement();return{width:c.naturalWidth||c.width,height:c.naturalHeight||c.height}},_stroke:function(c){if(!(!this.stroke||this.strokeWidth===0)){var d=this.width/2,s=this.height/2;c.beginPath(),c.moveTo(-d,-s),c.lineTo(d,-s),c.lineTo(d,s),c.lineTo(-d,s),c.lineTo(-d,-s),c.closePath()}},toObject:function(c){var d=[];this.filters.forEach(function(a){a&&d.push(a.toObject())});var s=r(this.callSuper("toObject",["cropX","cropY"].concat(c)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:d});return this.resizeFilter&&(s.resizeFilter=this.resizeFilter.toObject()),s},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var c=[],d=[],s,a=this._element,o=-this.width/2,g=-this.height/2,m="",l="";if(!a)return[];if(this.hasCrop()){var v=e.Object.__uid++;c.push('<clipPath id="imageCrop_'+v+`">
`,'	<rect x="'+o+'" y="'+g+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),m=' clip-path="url(#imageCrop_'+v+')" '}if(this.imageSmoothing||(l='" image-rendering="optimizeSpeed'),d.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',o-this.cropX,'" y="',g-this.cropY,'" width="',a.width||a.naturalWidth,'" height="',a.height||a.height,l,'"',m,`></image>
`),this.stroke||this.strokeDashArray){var _=this.fill;this.fill=null,s=["	<rect ",'x="',o,'" y="',g,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=_}return this.paintFirst!=="fill"?c=c.concat(s,d):c=c.concat(d,s),c},getSrc:function(c){var d=c?this._element:this._originalElement;return d?d.toDataURL?d.toDataURL():this.srcFromAttribute?d.getAttribute("src"):d.src:this.src||""},setSrc:function(c,d,s){return e.util.loadImage(c,function(a,o){this.setElement(a,s),this._setWidthHeight(),d&&d(this,o)},this,s&&s.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var c=this.resizeFilter,d=this.minimumScaleTrigger,s=this.getTotalObjectScaling(),a=s.scaleX,o=s.scaleY,g=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!c||a>d&&o>d){this._element=g,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=a,this._lastScaleY=o;return}e.filterBackend||(e.filterBackend=e.initFilterBackend());var m=e.util.createCanvasElement(),l=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,v=g.width,_=g.height;m.width=v,m.height=_,this._element=m,this._lastScaleX=c.scaleX=a,this._lastScaleY=c.scaleY=o,e.filterBackend.applyFilters([c],g,v,_,this._element,l),this._filterScalingX=m.width/this._originalElement.width,this._filterScalingY=m.height/this._originalElement.height},applyFilters:function(c){if(c=c||this.filters||[],c=c.filter(function(g){return g&&!g.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),c.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var d=this._originalElement,s=d.naturalWidth||d.width,a=d.naturalHeight||d.height;if(this._element===this._originalElement){var o=e.util.createCanvasElement();o.width=s,o.height=a,this._element=o,this._filteredEl=o}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,s,a),this._lastScaleX=1,this._lastScaleY=1;return e.filterBackend||(e.filterBackend=e.initFilterBackend()),e.filterBackend.applyFilters(c,this._originalElement,s,a,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(c){e.util.setImageSmoothing(c,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(c),this._renderPaintInOrder(c)},drawCacheOnCanvas:function(c){e.util.setImageSmoothing(c,this.imageSmoothing),e.Object.prototype.drawCacheOnCanvas.call(this,c)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(c){var d=this._element;if(d){var s=this._filterScalingX,a=this._filterScalingY,o=this.width,g=this.height,m=Math.min,l=Math.max,v=l(this.cropX,0),_=l(this.cropY,0),b=d.naturalWidth||d.width,y=d.naturalHeight||d.height,C=v*s,S=_*a,w=m(o*s,b-C),O=m(g*a,y-S),A=-o/2,N=-g/2,W=m(o,b/s-v),Y=m(g,y/a-_);d&&c.drawImage(d,C,S,w,O,A,N,W,Y)}},_needsResize:function(){var c=this.getTotalObjectScaling();return c.scaleX!==this._lastScaleX||c.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(c,d){this.setElement(e.util.getById(c),d),e.util.addClass(this.getElement(),e.Image.CSS_CANVAS)},_initConfig:function(c){c||(c={}),this.setOptions(c),this._setWidthHeight(c)},_initFilters:function(c,d){c&&c.length?e.util.enlivenObjects(c,function(s){d&&d(s)},"fabric.Image.filters"):d&&d()},_setWidthHeight:function(c){c||(c={});var d=this.getElement();this.width=c.width||d.naturalWidth||d.width||0,this.height=c.height||d.naturalHeight||d.height||0},parsePreserveAspectRatioAttribute:function(){var c=e.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),d=this._element.width,s=this._element.height,a=1,o=1,g=0,m=0,l=0,v=0,_,b=this.width,y=this.height,C={width:b,height:y};return c&&(c.alignX!=="none"||c.alignY!=="none")?(c.meetOrSlice==="meet"&&(a=o=e.util.findScaleToFit(this._element,C),_=(b-d*a)/2,c.alignX==="Min"&&(g=-_),c.alignX==="Max"&&(g=_),_=(y-s*o)/2,c.alignY==="Min"&&(m=-_),c.alignY==="Max"&&(m=_)),c.meetOrSlice==="slice"&&(a=o=e.util.findScaleToCover(this._element,C),_=d-b/a,c.alignX==="Mid"&&(l=_/2),c.alignX==="Max"&&(l=_),_=s-y/o,c.alignY==="Mid"&&(v=_/2),c.alignY==="Max"&&(v=_),d=b/a,s=y/o)):(a=b/d,o=y/s),{width:d,height:s,scaleX:a,scaleY:o,offsetLeft:g,offsetTop:m,cropX:l,cropY:v}}}),e.Image.CSS_CANVAS="canvas-img",e.Image.prototype.getSvgSrc=e.Image.prototype.getSrc,e.Image.fromObject=function(c,d){var s=e.util.object.clone(c);e.util.loadImage(s.src,function(a,o){if(o){d&&d(null,!0);return}e.Image.prototype._initFilters.call(s,s.filters,function(g){s.filters=g||[],e.Image.prototype._initFilters.call(s,[s.resizeFilter],function(m){s.resizeFilter=m[0],e.util.enlivenObjectEnlivables(s,s,function(){var l=new e.Image(a,s);d(l,!1)})})})},null,s.crossOrigin)},e.Image.fromURL=function(c,d,s){e.util.loadImage(c,function(a,o){d&&d(new e.Image(a,s),o)},null,s&&s.crossOrigin)},e.Image.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),e.Image.fromElement=function(c,d,s){var a=e.parseAttributes(c,e.Image.ATTRIBUTE_NAMES);e.Image.fromURL(a["xlink:href"],d,r(s?e.util.object.clone(s):{},a))}}(i),e.util.object.extend(e.Object.prototype,{_getAngleValueForStraighten:function(){var f=this.angle%360;return f>0?Math.round((f-1)/90)*90:Math.round(f/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(f){f=f||{};var r=function(){},c=f.onComplete||r,d=f.onChange||r,s=this;return e.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(a){s.rotate(a),d()},onComplete:function(){s.setCoords(),c()}})}}),e.util.object.extend(e.StaticCanvas.prototype,{straightenObject:function(f){return f.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(f){return f.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function f(c,d){var s="precision "+d+` float;
void main(){}`,a=c.createShader(c.FRAGMENT_SHADER);return c.shaderSource(a,s),c.compileShader(a),!!c.getShaderParameter(a,c.COMPILE_STATUS)}e.isWebglSupported=function(c){if(e.isLikelyNode)return!1;c=c||e.WebglFilterBackend.prototype.tileSize;var d=document.createElement("canvas"),s=d.getContext("webgl")||d.getContext("experimental-webgl"),a=!1;if(s){e.maxTextureSize=s.getParameter(s.MAX_TEXTURE_SIZE),a=e.maxTextureSize>=c;for(var o=["highp","mediump","lowp"],g=0;g<3;g++)if(f(s,o[g])){e.webGlPrecision=o[g];break}}return this.isSupported=a,a},e.WebglFilterBackend=r;function r(c){c&&c.tileSize&&(this.tileSize=c.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}r.prototype={tileSize:2048,resources:{},setupGLContext:function(c,d){this.dispose(),this.createWebGLCanvas(c,d),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(c,d)},chooseFastestCopyGLTo2DMethod:function(c,d){var s=typeof window.performance<"u",a;try{new ImageData(1,1),a=!0}catch{a=!1}var o=typeof ArrayBuffer<"u",g=typeof Uint8ClampedArray<"u";if(s&&a&&o&&g){var m=e.util.createCanvasElement(),l=new ArrayBuffer(c*d*4);if(e.forceGLPutImageData){this.imageBuffer=l,this.copyGLTo2D=p;return}var v={imageBuffer:l,destinationWidth:c,destinationHeight:d,targetCanvas:m},_,b,y;m.width=c,m.height=d,_=window.performance.now(),u.call(v,this.gl,v),b=window.performance.now()-_,_=window.performance.now(),p.call(v,this.gl,v),y=window.performance.now()-_,b>y?(this.imageBuffer=l,this.copyGLTo2D=p):this.copyGLTo2D=u}},createWebGLCanvas:function(c,d){var s=e.util.createCanvasElement();s.width=c,s.height=d;var a={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},o=s.getContext("webgl",a);o||(o=s.getContext("experimental-webgl",a)),o&&(o.clearColor(0,0,0,0),this.canvas=s,this.gl=o)},applyFilters:function(c,d,s,a,o,g){var m=this.gl,l;g&&(l=this.getCachedTexture(g,d));var v={originalWidth:d.width||d.originalWidth,originalHeight:d.height||d.originalHeight,sourceWidth:s,sourceHeight:a,destinationWidth:s,destinationHeight:a,context:m,sourceTexture:this.createTexture(m,s,a,!l&&d),targetTexture:this.createTexture(m,s,a),originalTexture:l||this.createTexture(m,s,a,!l&&d),passes:c.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:o},_=m.createFramebuffer();return m.bindFramebuffer(m.FRAMEBUFFER,_),c.forEach(function(b){b&&b.applyTo(v)}),h(v),this.copyGLTo2D(m,v),m.bindTexture(m.TEXTURE_2D,null),m.deleteTexture(v.sourceTexture),m.deleteTexture(v.targetTexture),m.deleteFramebuffer(_),o.getContext("2d").setTransform(1,0,0,1,0,0),v},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(c,d,s,a,o){var g=c.createTexture();return c.bindTexture(c.TEXTURE_2D,g),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,o||c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,o||c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),a?c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,a):c.texImage2D(c.TEXTURE_2D,0,c.RGBA,d,s,0,c.RGBA,c.UNSIGNED_BYTE,null),g},getCachedTexture:function(c,d){if(this.textureCache[c])return this.textureCache[c];var s=this.createTexture(this.gl,d.width,d.height,d);return this.textureCache[c]=s,s},evictCachesForKey:function(c){this.textureCache[c]&&(this.gl.deleteTexture(this.textureCache[c]),delete this.textureCache[c])},copyGLTo2D:u,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var c=this.gl,d={renderer:"",vendor:""};if(!c)return d;var s=c.getExtension("WEBGL_debug_renderer_info");if(s){var a=c.getParameter(s.UNMASKED_RENDERER_WEBGL),o=c.getParameter(s.UNMASKED_VENDOR_WEBGL);a&&(d.renderer=a.toLowerCase()),o&&(d.vendor=o.toLowerCase())}return this.gpuInfo=d,d}}}();function h(f){var r=f.targetCanvas,c=r.width,d=r.height,s=f.destinationWidth,a=f.destinationHeight;(c!==s||d!==a)&&(r.width=s,r.height=a)}function u(f,r){var c=f.canvas,d=r.targetCanvas,s=d.getContext("2d");s.translate(0,d.height),s.scale(1,-1);var a=c.height-d.height;s.drawImage(c,0,a,d.width,d.height,0,0,d.width,d.height)}function p(f,r){var c=r.targetCanvas,d=c.getContext("2d"),s=r.destinationWidth,a=r.destinationHeight,o=s*a*4,g=new Uint8Array(this.imageBuffer,0,o),m=new Uint8ClampedArray(this.imageBuffer,0,o);f.readPixels(0,0,s,a,f.RGBA,f.UNSIGNED_BYTE,g);var l=new ImageData(m,s,a);d.putImageData(l,0,0)}(function(){var f=function(){};e.Canvas2dFilterBackend=r;function r(){}r.prototype={evictCachesForKey:f,dispose:f,clearWebGLCaches:f,resources:{},applyFilters:function(c,d,s,a,o){var g=o.getContext("2d");g.drawImage(d,0,0,s,a);var m=g.getImageData(0,0,s,a),l=g.getImageData(0,0,s,a),v={sourceWidth:s,sourceHeight:a,imageData:m,originalEl:d,originalImageData:l,canvasEl:o,ctx:g,filterBackend:this};return c.forEach(function(_){_.applyTo(v)}),(v.imageData.width!==s||v.imageData.height!==a)&&(o.width=v.imageData.width,o.height=v.imageData.height),g.putImageData(v.imageData,0,0),v}}})(),e.Image=e.Image||{},e.Image.filters=e.Image.filters||{},e.Image.filters.BaseFilter=e.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(f){f&&this.setOptions(f)},setOptions:function(f){for(var r in f)this[r]=f[r]},createProgram:function(f,r,c){r=r||this.fragmentSource,c=c||this.vertexSource,e.webGlPrecision!=="highp"&&(r=r.replace(/precision highp float/g,"precision "+e.webGlPrecision+" float"));var d=f.createShader(f.VERTEX_SHADER);if(f.shaderSource(d,c),f.compileShader(d),!f.getShaderParameter(d,f.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+f.getShaderInfoLog(d));var s=f.createShader(f.FRAGMENT_SHADER);if(f.shaderSource(s,r),f.compileShader(s),!f.getShaderParameter(s,f.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+f.getShaderInfoLog(s));var a=f.createProgram();if(f.attachShader(a,d),f.attachShader(a,s),f.linkProgram(a),!f.getProgramParameter(a,f.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+f.getProgramInfoLog(a));var o=this.getAttributeLocations(f,a),g=this.getUniformLocations(f,a)||{};return g.uStepW=f.getUniformLocation(a,"uStepW"),g.uStepH=f.getUniformLocation(a,"uStepH"),{program:a,attributeLocations:o,uniformLocations:g}},getAttributeLocations:function(f,r){return{aPosition:f.getAttribLocation(r,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(f,r,c){var d=r.aPosition,s=f.createBuffer();f.bindBuffer(f.ARRAY_BUFFER,s),f.enableVertexAttribArray(d),f.vertexAttribPointer(d,2,f.FLOAT,!1,0,0),f.bufferData(f.ARRAY_BUFFER,c,f.STATIC_DRAW)},_setupFrameBuffer:function(f){var r=f.context,c,d;f.passes>1?(c=f.destinationWidth,d=f.destinationHeight,(f.sourceWidth!==c||f.sourceHeight!==d)&&(r.deleteTexture(f.targetTexture),f.targetTexture=f.filterBackend.createTexture(r,c,d)),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,f.targetTexture,0)):(r.bindFramebuffer(r.FRAMEBUFFER,null),r.finish())},_swapTextures:function(f){f.passes--,f.pass++;var r=f.targetTexture;f.targetTexture=f.sourceTexture,f.sourceTexture=r},isNeutralState:function(){var f=this.mainParameter,r=e.Image.filters[this.type].prototype;if(f)if(Array.isArray(r[f])){for(var c=r[f].length;c--;)if(this[f][c]!==r[f][c])return!1;return!0}else return r[f]===this[f];else return!1},applyTo:function(f){f.webgl?(this._setupFrameBuffer(f),this.applyToWebGL(f),this._swapTextures(f)):this.applyTo2d(f)},retrieveShader:function(f){return f.programCache.hasOwnProperty(this.type)||(f.programCache[this.type]=this.createProgram(f.context)),f.programCache[this.type]},applyToWebGL:function(f){var r=f.context,c=this.retrieveShader(f);f.pass===0&&f.originalTexture?r.bindTexture(r.TEXTURE_2D,f.originalTexture):r.bindTexture(r.TEXTURE_2D,f.sourceTexture),r.useProgram(c.program),this.sendAttributeData(r,c.attributeLocations,f.aPosition),r.uniform1f(c.uniformLocations.uStepW,1/f.sourceWidth),r.uniform1f(c.uniformLocations.uStepH,1/f.sourceHeight),this.sendUniformData(r,c.uniformLocations),r.viewport(0,0,f.destinationWidth,f.destinationHeight),r.drawArrays(r.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(f,r,c){f.activeTexture(c),f.bindTexture(f.TEXTURE_2D,r),f.activeTexture(f.TEXTURE0)},unbindAdditionalTexture:function(f,r){f.activeTexture(r),f.bindTexture(f.TEXTURE_2D,null),f.activeTexture(f.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(f){this[this.mainParameter]=f},sendUniformData:function(){},createHelpLayer:function(f){if(!f.helpLayer){var r=document.createElement("canvas");r.width=f.sourceWidth,r.height=f.sourceHeight,f.helpLayer=r}},toObject:function(){var f={type:this.type},r=this.mainParameter;return r&&(f[r]=this[r]),f},toJSON:function(){return this.toObject()}}),e.Image.filters.BaseFilter.fromObject=function(f,r){var c=new e.Image.filters[f.type](f);return r&&r(c),c},function(f){var r=f.fabric||(f.fabric={}),c=r.Image.filters,d=r.util.createClass;c.ColorMatrix=d(c.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(s){this.callSuper("initialize",s),this.matrix=this.matrix.slice(0)},applyTo2d:function(s){var a=s.imageData,o=a.data,g=o.length,m=this.matrix,l,v,_,b,y,C=this.colorsOnly;for(y=0;y<g;y+=4)l=o[y],v=o[y+1],_=o[y+2],C?(o[y]=l*m[0]+v*m[1]+_*m[2]+m[4]*255,o[y+1]=l*m[5]+v*m[6]+_*m[7]+m[9]*255,o[y+2]=l*m[10]+v*m[11]+_*m[12]+m[14]*255):(b=o[y+3],o[y]=l*m[0]+v*m[1]+_*m[2]+b*m[3]+m[4]*255,o[y+1]=l*m[5]+v*m[6]+_*m[7]+b*m[8]+m[9]*255,o[y+2]=l*m[10]+v*m[11]+_*m[12]+b*m[13]+m[14]*255,o[y+3]=l*m[15]+v*m[16]+_*m[17]+b*m[18]+m[19]*255)},getUniformLocations:function(s,a){return{uColorMatrix:s.getUniformLocation(a,"uColorMatrix"),uConstants:s.getUniformLocation(a,"uConstants")}},sendUniformData:function(s,a){var o=this.matrix,g=[o[0],o[1],o[2],o[3],o[5],o[6],o[7],o[8],o[10],o[11],o[12],o[13],o[15],o[16],o[17],o[18]],m=[o[4],o[9],o[14],o[19]];s.uniformMatrix4fv(a.uColorMatrix,!1,g),s.uniform4fv(a.uConstants,m)}}),r.Image.filters.ColorMatrix.fromObject=r.Image.filters.BaseFilter.fromObject}(i),function(f){var r=f.fabric||(f.fabric={}),c=r.Image.filters,d=r.util.createClass;c.Brightness=d(c.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(s){if(this.brightness!==0){var a=s.imageData,o=a.data,g,m=o.length,l=Math.round(this.brightness*255);for(g=0;g<m;g+=4)o[g]=o[g]+l,o[g+1]=o[g+1]+l,o[g+2]=o[g+2]+l}},getUniformLocations:function(s,a){return{uBrightness:s.getUniformLocation(a,"uBrightness")}},sendUniformData:function(s,a){s.uniform1f(a.uBrightness,this.brightness)}}),r.Image.filters.Brightness.fromObject=r.Image.filters.BaseFilter.fromObject}(i),function(f){var r=f.fabric||(f.fabric={}),c=r.util.object.extend,d=r.Image.filters,s=r.util.createClass;d.Convolute=s(d.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(a){var o=Math.sqrt(this.matrix.length),g=this.type+"_"+o+"_"+(this.opaque?1:0),m=this.fragmentSource[g];return a.programCache.hasOwnProperty(g)||(a.programCache[g]=this.createProgram(a.context,m)),a.programCache[g]},applyTo2d:function(a){var o=a.imageData,g=o.data,m=this.matrix,l=Math.round(Math.sqrt(m.length)),v=Math.floor(l/2),_=o.width,b=o.height,y=a.ctx.createImageData(_,b),C=y.data,S=this.opaque?1:0,w,O,A,N,W,Y,q,te,re,me,G,oe,T;for(G=0;G<b;G++)for(me=0;me<_;me++){for(W=(G*_+me)*4,w=0,O=0,A=0,N=0,T=0;T<l;T++)for(oe=0;oe<l;oe++)q=G+T-v,Y=me+oe-v,!(q<0||q>=b||Y<0||Y>=_)&&(te=(q*_+Y)*4,re=m[T*l+oe],w+=g[te]*re,O+=g[te+1]*re,A+=g[te+2]*re,S||(N+=g[te+3]*re));C[W]=w,C[W+1]=O,C[W+2]=A,S?C[W+3]=g[W+3]:C[W+3]=N}a.imageData=y},getUniformLocations:function(a,o){return{uMatrix:a.getUniformLocation(o,"uMatrix"),uOpaque:a.getUniformLocation(o,"uOpaque"),uHalfSize:a.getUniformLocation(o,"uHalfSize"),uSize:a.getUniformLocation(o,"uSize")}},sendUniformData:function(a,o){a.uniform1fv(o.uMatrix,this.matrix)},toObject:function(){return c(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),r.Image.filters.Convolute.fromObject=r.Image.filters.BaseFilter.fromObject}(i),function(f){var r=f.fabric||(f.fabric={}),c=r.Image.filters,d=r.util.createClass;c.Grayscale=d(c.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(s){var a=s.imageData,o=a.data,g,m=o.length,l,v=this.mode;for(g=0;g<m;g+=4)v==="average"?l=(o[g]+o[g+1]+o[g+2])/3:v==="lightness"?l=(Math.min(o[g],o[g+1],o[g+2])+Math.max(o[g],o[g+1],o[g+2]))/2:v==="luminosity"&&(l=.21*o[g]+.72*o[g+1]+.07*o[g+2]),o[g]=l,o[g+1]=l,o[g+2]=l},retrieveShader:function(s){var a=this.type+"_"+this.mode;if(!s.programCache.hasOwnProperty(a)){var o=this.fragmentSource[this.mode];s.programCache[a]=this.createProgram(s.context,o)}return s.programCache[a]},getUniformLocations:function(s,a){return{uMode:s.getUniformLocation(a,"uMode")}},sendUniformData:function(s,a){var o=1;s.uniform1i(a.uMode,o)},isNeutralState:function(){return!1}}),r.Image.filters.Grayscale.fromObject=r.Image.filters.BaseFilter.fromObject}(i),function(f){var r=f.fabric||(f.fabric={}),c=r.Image.filters,d=r.util.createClass;c.Invert=d(c.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(s){var a=s.imageData,o=a.data,g,m=o.length;for(g=0;g<m;g+=4)o[g]=255-o[g],o[g+1]=255-o[g+1],o[g+2]=255-o[g+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(s,a){return{uInvert:s.getUniformLocation(a,"uInvert")}},sendUniformData:function(s,a){s.uniform1i(a.uInvert,this.invert)}}),r.Image.filters.Invert.fromObject=r.Image.filters.BaseFilter.fromObject}(i),function(f){var r=f.fabric||(f.fabric={}),c=r.util.object.extend,d=r.Image.filters,s=r.util.createClass;d.Noise=s(d.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(a){if(this.noise!==0){var o=a.imageData,g=o.data,m,l=g.length,v=this.noise,_;for(m=0,l=g.length;m<l;m+=4)_=(.5-Math.random())*v,g[m]+=_,g[m+1]+=_,g[m+2]+=_}},getUniformLocations:function(a,o){return{uNoise:a.getUniformLocation(o,"uNoise"),uSeed:a.getUniformLocation(o,"uSeed")}},sendUniformData:function(a,o){a.uniform1f(o.uNoise,this.noise/255),a.uniform1f(o.uSeed,Math.random())},toObject:function(){return c(this.callSuper("toObject"),{noise:this.noise})}}),r.Image.filters.Noise.fromObject=r.Image.filters.BaseFilter.fromObject}(i),function(f){var r=f.fabric||(f.fabric={}),c=r.Image.filters,d=r.util.createClass;c.Pixelate=d(c.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(s){var a=s.imageData,o=a.data,g=a.height,m=a.width,l,v,_,b,y,C,S,w,O,A,N;for(v=0;v<g;v+=this.blocksize)for(_=0;_<m;_+=this.blocksize)for(l=v*4*m+_*4,b=o[l],y=o[l+1],C=o[l+2],S=o[l+3],A=Math.min(v+this.blocksize,g),N=Math.min(_+this.blocksize,m),w=v;w<A;w++)for(O=_;O<N;O++)l=w*4*m+O*4,o[l]=b,o[l+1]=y,o[l+2]=C,o[l+3]=S},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(s,a){return{uBlocksize:s.getUniformLocation(a,"uBlocksize"),uStepW:s.getUniformLocation(a,"uStepW"),uStepH:s.getUniformLocation(a,"uStepH")}},sendUniformData:function(s,a){s.uniform1f(a.uBlocksize,this.blocksize)}}),r.Image.filters.Pixelate.fromObject=r.Image.filters.BaseFilter.fromObject}(i),function(f){var r=f.fabric||(f.fabric={}),c=r.util.object.extend,d=r.Image.filters,s=r.util.createClass;d.RemoveColor=s(d.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(a){var o=a.imageData,g=o.data,m,l=this.distance*255,v,_,b,y=new r.Color(this.color).getSource(),C=[y[0]-l,y[1]-l,y[2]-l],S=[y[0]+l,y[1]+l,y[2]+l];for(m=0;m<g.length;m+=4)v=g[m],_=g[m+1],b=g[m+2],v>C[0]&&_>C[1]&&b>C[2]&&v<S[0]&&_<S[1]&&b<S[2]&&(g[m+3]=0)},getUniformLocations:function(a,o){return{uLow:a.getUniformLocation(o,"uLow"),uHigh:a.getUniformLocation(o,"uHigh")}},sendUniformData:function(a,o){var g=new r.Color(this.color).getSource(),m=parseFloat(this.distance),l=[0+g[0]/255-m,0+g[1]/255-m,0+g[2]/255-m,1],v=[g[0]/255+m,g[1]/255+m,g[2]/255+m,1];a.uniform4fv(o.uLow,l),a.uniform4fv(o.uHigh,v)},toObject:function(){return c(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),r.Image.filters.RemoveColor.fromObject=r.Image.filters.BaseFilter.fromObject}(i),function(f){var r=f.fabric||(f.fabric={}),c=r.Image.filters,d=r.util.createClass,s={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var a in s)c[a]=d(c.ColorMatrix,{type:a,matrix:s[a],mainParameter:!1,colorsOnly:!0}),r.Image.filters[a].fromObject=r.Image.filters.BaseFilter.fromObject}(i),function(f){var r=f.fabric,c=r.Image.filters,d=r.util.createClass;c.BlendColor=d(c.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(s){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[s]+`}
}`},retrieveShader:function(s){var a=this.type+"_"+this.mode,o;return s.programCache.hasOwnProperty(a)||(o=this.buildSource(this.mode),s.programCache[a]=this.createProgram(s.context,o)),s.programCache[a]},applyTo2d:function(s){var a=s.imageData,o=a.data,g=o.length,m,l,v,_,b,y,C,S=1-this.alpha;C=new r.Color(this.color).getSource(),m=C[0]*this.alpha,l=C[1]*this.alpha,v=C[2]*this.alpha;for(var w=0;w<g;w+=4)switch(_=o[w],b=o[w+1],y=o[w+2],this.mode){case"multiply":o[w]=_*m/255,o[w+1]=b*l/255,o[w+2]=y*v/255;break;case"screen":o[w]=255-(255-_)*(255-m)/255,o[w+1]=255-(255-b)*(255-l)/255,o[w+2]=255-(255-y)*(255-v)/255;break;case"add":o[w]=_+m,o[w+1]=b+l,o[w+2]=y+v;break;case"diff":case"difference":o[w]=Math.abs(_-m),o[w+1]=Math.abs(b-l),o[w+2]=Math.abs(y-v);break;case"subtract":o[w]=_-m,o[w+1]=b-l,o[w+2]=y-v;break;case"darken":o[w]=Math.min(_,m),o[w+1]=Math.min(b,l),o[w+2]=Math.min(y,v);break;case"lighten":o[w]=Math.max(_,m),o[w+1]=Math.max(b,l),o[w+2]=Math.max(y,v);break;case"overlay":o[w]=m<128?2*_*m/255:255-2*(255-_)*(255-m)/255,o[w+1]=l<128?2*b*l/255:255-2*(255-b)*(255-l)/255,o[w+2]=v<128?2*y*v/255:255-2*(255-y)*(255-v)/255;break;case"exclusion":o[w]=m+_-2*m*_/255,o[w+1]=l+b-2*l*b/255,o[w+2]=v+y-2*v*y/255;break;case"tint":o[w]=m+_*S,o[w+1]=l+b*S,o[w+2]=v+y*S}},getUniformLocations:function(s,a){return{uColor:s.getUniformLocation(a,"uColor")}},sendUniformData:function(s,a){var o=new r.Color(this.color).getSource();o[0]=this.alpha*o[0]/255,o[1]=this.alpha*o[1]/255,o[2]=this.alpha*o[2]/255,o[3]=this.alpha,s.uniform4fv(a.uColor,o)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),r.Image.filters.BlendColor.fromObject=r.Image.filters.BaseFilter.fromObject}(i),function(f){var r=f.fabric,c=r.Image.filters,d=r.util.createClass;c.BlendImage=d(c.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(s){var a=this.type+"_"+this.mode,o=this.fragmentSource[this.mode];return s.programCache.hasOwnProperty(a)||(s.programCache[a]=this.createProgram(s.context,o)),s.programCache[a]},applyToWebGL:function(s){var a=s.context,o=this.createTexture(s.filterBackend,this.image);this.bindAdditionalTexture(a,o,a.TEXTURE1),this.callSuper("applyToWebGL",s),this.unbindAdditionalTexture(a,a.TEXTURE1)},createTexture:function(s,a){return s.getCachedTexture(a.cacheKey,a._element)},calculateMatrix:function(){var s=this.image,a=s._element.width,o=s._element.height;return[1/s.scaleX,0,0,0,1/s.scaleY,0,-s.left/a,-s.top/o,1]},applyTo2d:function(s){var a=s.imageData,o=s.filterBackend.resources,g=a.data,m=g.length,l=a.width,v=a.height,_,b,y,C,S,w,O,A,N,W,Y=this.image,q;o.blendImage||(o.blendImage=r.util.createCanvasElement()),N=o.blendImage,W=N.getContext("2d"),N.width!==l||N.height!==v?(N.width=l,N.height=v):W.clearRect(0,0,l,v),W.setTransform(Y.scaleX,0,0,Y.scaleY,Y.left,Y.top),W.drawImage(Y._element,0,0,l,v),q=W.getImageData(0,0,l,v).data;for(var te=0;te<m;te+=4)switch(S=g[te],w=g[te+1],O=g[te+2],A=g[te+3],_=q[te],b=q[te+1],y=q[te+2],C=q[te+3],this.mode){case"multiply":g[te]=S*_/255,g[te+1]=w*b/255,g[te+2]=O*y/255,g[te+3]=A*C/255;break;case"mask":g[te+3]=C;break}},getUniformLocations:function(s,a){return{uTransformMatrix:s.getUniformLocation(a,"uTransformMatrix"),uImage:s.getUniformLocation(a,"uImage")}},sendUniformData:function(s,a){var o=this.calculateMatrix();s.uniform1i(a.uImage,1),s.uniformMatrix3fv(a.uTransformMatrix,!1,o)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),r.Image.filters.BlendImage.fromObject=function(s,a){r.Image.fromObject(s.image,function(o){var g=r.util.object.clone(s);g.image=o,a(new r.Image.filters.BlendImage(g))})}}(i),function(f){var r=f.fabric||(f.fabric={}),c=Math.pow,d=Math.floor,s=Math.sqrt,a=Math.abs,o=Math.round,g=Math.sin,m=Math.ceil,l=r.Image.filters,v=r.util.createClass;l.Resize=v(l.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(_,b){return{uDelta:_.getUniformLocation(b,"uDelta"),uTaps:_.getUniformLocation(b,"uTaps")}},sendUniformData:function(_,b){_.uniform2fv(b.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),_.uniform1fv(b.uTaps,this.taps)},retrieveShader:function(_){var b=this.getFilterWindow(),y=this.type+"_"+b;if(!_.programCache.hasOwnProperty(y)){var C=this.generateShader(b);_.programCache[y]=this.createProgram(_.context,C)}return _.programCache[y]},getFilterWindow:function(){var _=this.tempScale;return Math.ceil(this.lanczosLobes/_)},getTaps:function(){for(var _=this.lanczosCreate(this.lanczosLobes),b=this.tempScale,y=this.getFilterWindow(),C=new Array(y),S=1;S<=y;S++)C[S-1]=_(S*b);return C},generateShader:function(C){for(var b=new Array(C),y=this.fragmentSourceTOP,C,S=1;S<=C;S++)b[S-1]=S+".0 * uDelta";return y+="uniform float uTaps["+C+`];
`,y+=`void main() {
`,y+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,y+=`  float sum = 1.0;
`,b.forEach(function(w,O){y+="  color += texture2D(uTexture, vTexCoord + "+w+") * uTaps["+O+`];
`,y+="  color += texture2D(uTexture, vTexCoord - "+w+") * uTaps["+O+`];
`,y+="  sum += 2.0 * uTaps["+O+`];
`}),y+=`  gl_FragColor = color / sum;
`,y+="}",y},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(_){_.webgl?(_.passes++,this.width=_.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=_.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),_.destinationWidth=this.dW,this._setupFrameBuffer(_),this.applyToWebGL(_),this._swapTextures(_),_.sourceWidth=_.destinationWidth,this.height=_.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),_.destinationHeight=this.dH,this._setupFrameBuffer(_),this.applyToWebGL(_),this._swapTextures(_),_.sourceHeight=_.destinationHeight):this.applyTo2d(_)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(_){return function(b){if(b>=_||b<=-_)return 0;if(b<11920929e-14&&b>-11920929e-14)return 1;b*=Math.PI;var y=b/_;return g(b)/b*g(y)/y}},applyTo2d:function(_){var b=_.imageData,y=this.scaleX,C=this.scaleY;this.rcpScaleX=1/y,this.rcpScaleY=1/C;var S=b.width,w=b.height,O=o(S*y),A=o(w*C),N;this.resizeType==="sliceHack"?N=this.sliceByTwo(_,S,w,O,A):this.resizeType==="hermite"?N=this.hermiteFastResize(_,S,w,O,A):this.resizeType==="bilinear"?N=this.bilinearFiltering(_,S,w,O,A):this.resizeType==="lanczos"&&(N=this.lanczosResize(_,S,w,O,A)),_.imageData=N},sliceByTwo:function(_,b,y,C,S){var w=_.imageData,O=.5,A=!1,N=!1,W=b*O,Y=y*O,q=r.filterBackend.resources,te,re,me=0,G=0,oe=b,T=0;for(q.sliceByTwo||(q.sliceByTwo=document.createElement("canvas")),te=q.sliceByTwo,(te.width<b*1.5||te.height<y)&&(te.width=b*1.5,te.height=y),re=te.getContext("2d"),re.clearRect(0,0,b*1.5,y),re.putImageData(w,0,0),C=d(C),S=d(S);!A||!N;)b=W,y=Y,C<d(W*O)?W=d(W*O):(W=C,A=!0),S<d(Y*O)?Y=d(Y*O):(Y=S,N=!0),re.drawImage(te,me,G,b,y,oe,T,W,Y),me=oe,G=T,T+=Y;return re.getImageData(me,G,C,S)},lanczosResize:function(_,b,y,C,S){function w(L){var M,K,k,P,X,V,le,ee,he,pe,U;for(T.x=(L+.5)*Y,F.x=d(T.x),M=0;M<S;M++){for(T.y=(M+.5)*q,F.y=d(T.y),X=0,V=0,le=0,ee=0,he=0,K=F.x-me;K<=F.x+me;K++)if(!(K<0||K>=b)){pe=d(1e3*a(K-T.x)),oe[pe]||(oe[pe]={});for(var ne=F.y-G;ne<=F.y+G;ne++)ne<0||ne>=y||(U=d(1e3*a(ne-T.y)),oe[pe][U]||(oe[pe][U]=W(s(c(pe*te,2)+c(U*re,2))/1e3)),k=oe[pe][U],k>0&&(P=(ne*b+K)*4,X+=k,V+=k*O[P],le+=k*O[P+1],ee+=k*O[P+2],he+=k*O[P+3]))}P=(M*C+L)*4,N[P]=V/X,N[P+1]=le/X,N[P+2]=ee/X,N[P+3]=he/X}return++L<C?w(L):A}var O=_.imageData.data,A=_.ctx.createImageData(C,S),N=A.data,W=this.lanczosCreate(this.lanczosLobes),Y=this.rcpScaleX,q=this.rcpScaleY,te=2/this.rcpScaleX,re=2/this.rcpScaleY,me=m(Y*this.lanczosLobes/2),G=m(q*this.lanczosLobes/2),oe={},T={},F={};return w(0)},bilinearFiltering:function(_,b,y,C,S){var w,O,A,N,W,Y,q,te,re,me,G,oe,T=0,F,L=this.rcpScaleX,M=this.rcpScaleY,K=4*(b-1),k=_.imageData,P=k.data,X=_.ctx.createImageData(C,S),V=X.data;for(q=0;q<S;q++)for(te=0;te<C;te++)for(W=d(L*te),Y=d(M*q),re=L*te-W,me=M*q-Y,F=4*(Y*b+W),G=0;G<4;G++)w=P[F+G],O=P[F+4+G],A=P[F+K+G],N=P[F+K+4+G],oe=w*(1-re)*(1-me)+O*re*(1-me)+A*me*(1-re)+N*re*me,V[T++]=oe;return X},hermiteFastResize:function(_,b,y,C,S){for(var w=this.rcpScaleX,O=this.rcpScaleY,A=m(w/2),N=m(O/2),W=_.imageData,Y=W.data,q=_.ctx.createImageData(C,S),te=q.data,re=0;re<S;re++)for(var me=0;me<C;me++){for(var G=(me+re*C)*4,oe=0,T=0,F=0,L=0,M=0,K=0,k=0,P=(re+.5)*O,X=d(re*O);X<(re+1)*O;X++)for(var V=a(P-(X+.5))/N,le=(me+.5)*w,ee=V*V,he=d(me*w);he<(me+1)*w;he++){var pe=a(le-(he+.5))/A,U=s(ee+pe*pe);U>1&&U<-1||(oe=2*U*U*U-3*U*U+1,oe>0&&(pe=4*(he+X*b),k+=oe*Y[pe+3],F+=oe,Y[pe+3]<255&&(oe=oe*Y[pe+3]/250),L+=oe*Y[pe],M+=oe*Y[pe+1],K+=oe*Y[pe+2],T+=oe))}te[G]=L/T,te[G+1]=M/T,te[G+2]=K/T,te[G+3]=k/F}return q},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),r.Image.filters.Resize.fromObject=r.Image.filters.BaseFilter.fromObject}(i),function(f){var r=f.fabric||(f.fabric={}),c=r.Image.filters,d=r.util.createClass;c.Contrast=d(c.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(s){if(this.contrast!==0){var a=s.imageData,o,m,g=a.data,m=g.length,l=Math.floor(this.contrast*255),v=259*(l+255)/(255*(259-l));for(o=0;o<m;o+=4)g[o]=v*(g[o]-128)+128,g[o+1]=v*(g[o+1]-128)+128,g[o+2]=v*(g[o+2]-128)+128}},getUniformLocations:function(s,a){return{uContrast:s.getUniformLocation(a,"uContrast")}},sendUniformData:function(s,a){s.uniform1f(a.uContrast,this.contrast)}}),r.Image.filters.Contrast.fromObject=r.Image.filters.BaseFilter.fromObject}(i),function(f){var r=f.fabric||(f.fabric={}),c=r.Image.filters,d=r.util.createClass;c.Saturation=d(c.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(s){if(this.saturation!==0){var a=s.imageData,o=a.data,g=o.length,m=-this.saturation,l,v;for(l=0;l<g;l+=4)v=Math.max(o[l],o[l+1],o[l+2]),o[l]+=v!==o[l]?(v-o[l])*m:0,o[l+1]+=v!==o[l+1]?(v-o[l+1])*m:0,o[l+2]+=v!==o[l+2]?(v-o[l+2])*m:0}},getUniformLocations:function(s,a){return{uSaturation:s.getUniformLocation(a,"uSaturation")}},sendUniformData:function(s,a){s.uniform1f(a.uSaturation,-this.saturation)}}),r.Image.filters.Saturation.fromObject=r.Image.filters.BaseFilter.fromObject}(i),function(f){var r=f.fabric||(f.fabric={}),c=r.Image.filters,d=r.util.createClass;c.Vibrance=d(c.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(s){if(this.vibrance!==0){var a=s.imageData,o=a.data,g=o.length,m=-this.vibrance,l,v,_,b;for(l=0;l<g;l+=4)v=Math.max(o[l],o[l+1],o[l+2]),_=(o[l]+o[l+1]+o[l+2])/3,b=Math.abs(v-_)*2/255*m,o[l]+=v!==o[l]?(v-o[l])*b:0,o[l+1]+=v!==o[l+1]?(v-o[l+1])*b:0,o[l+2]+=v!==o[l+2]?(v-o[l+2])*b:0}},getUniformLocations:function(s,a){return{uVibrance:s.getUniformLocation(a,"uVibrance")}},sendUniformData:function(s,a){s.uniform1f(a.uVibrance,-this.vibrance)}}),r.Image.filters.Vibrance.fromObject=r.Image.filters.BaseFilter.fromObject}(i),function(f){var r=f.fabric||(f.fabric={}),c=r.Image.filters,d=r.util.createClass;c.Blur=d(c.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(s){s.webgl?(this.aspectRatio=s.sourceWidth/s.sourceHeight,s.passes++,this._setupFrameBuffer(s),this.horizontal=!0,this.applyToWebGL(s),this._swapTextures(s),this._setupFrameBuffer(s),this.horizontal=!1,this.applyToWebGL(s),this._swapTextures(s)):this.applyTo2d(s)},applyTo2d:function(s){s.imageData=this.simpleBlur(s)},simpleBlur:function(s){var a=s.filterBackend.resources,o,g,m=s.imageData.width,l=s.imageData.height;a.blurLayer1||(a.blurLayer1=r.util.createCanvasElement(),a.blurLayer2=r.util.createCanvasElement()),o=a.blurLayer1,g=a.blurLayer2,(o.width!==m||o.height!==l)&&(g.width=o.width=m,g.height=o.height=l);var v=o.getContext("2d"),_=g.getContext("2d"),b=15,y,C,S,w,O=this.blur*.06*.5;for(v.putImageData(s.imageData,0,0),_.clearRect(0,0,m,l),w=-b;w<=b;w++)y=(Math.random()-.5)/4,C=w/b,S=O*C*m+y,_.globalAlpha=1-Math.abs(C),_.drawImage(o,S,y),v.drawImage(g,0,0),_.globalAlpha=1,_.clearRect(0,0,g.width,g.height);for(w=-b;w<=b;w++)y=(Math.random()-.5)/4,C=w/b,S=O*C*l+y,_.globalAlpha=1-Math.abs(C),_.drawImage(o,y,S),v.drawImage(g,0,0),_.globalAlpha=1,_.clearRect(0,0,g.width,g.height);s.ctx.drawImage(o,0,0);var A=s.ctx.getImageData(0,0,o.width,o.height);return v.globalAlpha=1,v.clearRect(0,0,o.width,o.height),A},getUniformLocations:function(s,a){return{delta:s.getUniformLocation(a,"uDelta")}},sendUniformData:function(s,a){var o=this.chooseRightDelta();s.uniform2fv(a.delta,o)},chooseRightDelta:function(){var s=1,a=[0,0],o;return this.horizontal?this.aspectRatio>1&&(s=1/this.aspectRatio):this.aspectRatio<1&&(s=this.aspectRatio),o=s*this.blur*.12,this.horizontal?a[0]=o:a[1]=o,a}}),c.Blur.fromObject=r.Image.filters.BaseFilter.fromObject}(i),function(f){var r=f.fabric||(f.fabric={}),c=r.Image.filters,d=r.util.createClass;c.Gamma=d(c.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(s){this.gamma=[1,1,1],c.BaseFilter.prototype.initialize.call(this,s)},applyTo2d:function(s){var a=s.imageData,o=a.data,g=this.gamma,m=o.length,l=1/g[0],v=1/g[1],_=1/g[2],b;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),b=0,m=256;b<m;b++)this.rVals[b]=Math.pow(b/255,l)*255,this.gVals[b]=Math.pow(b/255,v)*255,this.bVals[b]=Math.pow(b/255,_)*255;for(b=0,m=o.length;b<m;b+=4)o[b]=this.rVals[o[b]],o[b+1]=this.gVals[o[b+1]],o[b+2]=this.bVals[o[b+2]]},getUniformLocations:function(s,a){return{uGamma:s.getUniformLocation(a,"uGamma")}},sendUniformData:function(s,a){s.uniform3fv(a.uGamma,this.gamma)}}),r.Image.filters.Gamma.fromObject=r.Image.filters.BaseFilter.fromObject}(i),function(f){var r=f.fabric||(f.fabric={}),c=r.Image.filters,d=r.util.createClass;c.Composed=d(c.BaseFilter,{type:"Composed",subFilters:[],initialize:function(s){this.callSuper("initialize",s),this.subFilters=this.subFilters.slice(0)},applyTo:function(s){s.passes+=this.subFilters.length-1,this.subFilters.forEach(function(a){a.applyTo(s)})},toObject:function(){return r.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(s){return s.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(s){return!s.isNeutralState()})}}),r.Image.filters.Composed.fromObject=function(s,a){var o=s.subFilters||[],g=o.map(function(l){return new r.Image.filters[l.type](l)}),m=new r.Image.filters.Composed({subFilters:g});return a&&a(m),m}}(i),function(f){var r=f.fabric||(f.fabric={}),c=r.Image.filters,d=r.util.createClass;c.HueRotation=d(c.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var s=this.rotation*Math.PI,a=r.util.cos(s),o=r.util.sin(s),g=1/3,m=Math.sqrt(g)*o,l=1-a;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=a+l/3,this.matrix[1]=g*l-m,this.matrix[2]=g*l+m,this.matrix[5]=g*l+m,this.matrix[6]=a+g*l,this.matrix[7]=g*l-m,this.matrix[10]=g*l-m,this.matrix[11]=g*l+m,this.matrix[12]=a+g*l},isNeutralState:function(s){return this.calculateMatrix(),c.BaseFilter.prototype.isNeutralState.call(this,s)},applyTo:function(s){this.calculateMatrix(),c.BaseFilter.prototype.applyTo.call(this,s)}}),r.Image.filters.HueRotation.fromObject=r.Image.filters.BaseFilter.fromObject}(i),function(f){var r=f.fabric||(f.fabric={}),c=r.util.object.clone;if(r.Text){r.warn("fabric.Text is already defined");return}var d="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");r.Text=r.util.createClass(r.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:r.Object.prototype.stateProperties.concat(d),cacheProperties:r.Object.prototype.cacheProperties.concat(d),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(s,a){this.styles=a?a.styles||{}:{},this.text=s,this.__skipDimension=!0,this.callSuper("initialize",a),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var s=this.path;s&&(s.segmentsInfo=r.util.getPathSegmentsInfo(s.path))},getMeasuringContext:function(){return r._measuringContext||(r._measuringContext=this.canvas&&this.canvas.contextCache||r.util.createCanvasElement().getContext("2d")),r._measuringContext},_splitText:function(){var s=this._splitTextIntoLines(this.text);return this.textLines=s.lines,this._textLines=s.graphemeLines,this._unwrappedTextLines=s._unwrappedLines,this._text=s.graphemeText,s},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var s,a,o,g,m,l,v,_=0,b=this._textLines.length;_<b;_++)if(!(this.textAlign!=="justify"&&(_===b-1||this.isEndOfWrapping(_)))&&(g=0,m=this._textLines[_],a=this.getLineWidth(_),a<this.width&&(v=this.textLines[_].match(this._reSpacesAndTabs)))){o=v.length,s=(this.width-a)/o;for(var y=0,C=m.length;y<=C;y++)l=this.__charBounds[_][y],this._reSpaceAndTab.test(m[y])?(l.width+=s,l.kernedWidth+=s,l.left+=g,g+=s):l.left+=g}},isEndOfWrapping:function(s){return s===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var s=this.callSuper("_getCacheCanvasDimensions"),a=this.fontSize;return s.width+=a*s.zoomX,s.height+=a*s.zoomY,s},_render:function(s){var a=this.path;a&&!a.isNotVisible()&&a._render(s),this._setTextStyles(s),this._renderTextLinesBackground(s),this._renderTextDecoration(s,"underline"),this._renderText(s),this._renderTextDecoration(s,"overline"),this._renderTextDecoration(s,"linethrough")},_renderText:function(s){this.paintFirst==="stroke"?(this._renderTextStroke(s),this._renderTextFill(s)):(this._renderTextFill(s),this._renderTextStroke(s))},_setTextStyles:function(s,a,o){if(s.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":s.textBaseline="middle";break;case"ascender":s.textBaseline="top";break;case"descender":s.textBaseline="bottom";break}s.font=this._getFontDeclaration(a,o)},calcTextWidth:function(){for(var s=this.getLineWidth(0),a=1,o=this._textLines.length;a<o;a++){var g=this.getLineWidth(a);g>s&&(s=g)}return s},_renderTextLine:function(s,a,o,g,m,l){this._renderChars(s,a,o,g,m,l)},_renderTextLinesBackground:function(s){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var a,o,g=s.fillStyle,m,l,v=this._getLeftOffset(),_=this._getTopOffset(),b=0,y=0,C,S,w=this.path,O,A=0,N=this._textLines.length;A<N;A++){if(a=this.getHeightOfLine(A),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",A)){_+=a;continue}m=this._textLines[A],o=this._getLineLeftOffset(A),y=0,b=0,l=this.getValueOfPropertyAt(A,0,"textBackgroundColor");for(var W=0,Y=m.length;W<Y;W++)C=this.__charBounds[A][W],S=this.getValueOfPropertyAt(A,W,"textBackgroundColor"),w?(s.save(),s.translate(C.renderLeft,C.renderTop),s.rotate(C.angle),s.fillStyle=S,S&&s.fillRect(-C.width/2,-a/this.lineHeight*(1-this._fontSizeFraction),C.width,a/this.lineHeight),s.restore()):S!==l?(O=v+o+b,this.direction==="rtl"&&(O=this.width-O-y),s.fillStyle=l,l&&s.fillRect(O,_,y,a/this.lineHeight),b=C.left,y=C.width,l=S):y+=C.kernedWidth;S&&!w&&(O=v+o+b,this.direction==="rtl"&&(O=this.width-O-y),s.fillStyle=S,s.fillRect(O,_,y,a/this.lineHeight)),_+=a}s.fillStyle=g,this._removeShadow(s)}},getFontCache:function(s){var a=s.fontFamily.toLowerCase();r.charWidthsCache[a]||(r.charWidthsCache[a]={});var o=r.charWidthsCache[a],g=s.fontStyle.toLowerCase()+"_"+(s.fontWeight+"").toLowerCase();return o[g]||(o[g]={}),o[g]},_measureChar:function(s,a,o,g){var m=this.getFontCache(a),l=this._getFontDeclaration(a),v=this._getFontDeclaration(g),_=o+s,b=l===v,y,C,S,w=a.fontSize/this.CACHE_FONT_SIZE,O;if(o&&m[o]!==void 0&&(S=m[o]),m[s]!==void 0&&(O=y=m[s]),b&&m[_]!==void 0&&(C=m[_],O=C-S),y===void 0||S===void 0||C===void 0){var A=this.getMeasuringContext();this._setTextStyles(A,a,!0)}return y===void 0&&(O=y=A.measureText(s).width,m[s]=y),S===void 0&&b&&o&&(S=A.measureText(o).width,m[o]=S),b&&C===void 0&&(C=A.measureText(_).width,m[_]=C,O=C-S),{width:y*w,kernedWidth:O*w}},getHeightOfChar:function(s,a){return this.getValueOfPropertyAt(s,a,"fontSize")},measureLine:function(s){var a=this._measureLine(s);return this.charSpacing!==0&&(a.width-=this._getWidthOfCharSpacing()),a.width<0&&(a.width=0),a},_measureLine:function(s){var a=0,o,g,m=this._textLines[s],l,v,_=0,b=new Array(m.length),y=0,C,S,w=this.path,O=this.pathSide==="right";for(this.__charBounds[s]=b,o=0;o<m.length;o++)g=m[o],v=this._getGraphemeBox(g,s,o,l),b[o]=v,a+=v.kernedWidth,l=g;if(b[o]={left:v?v.left+v.width:0,width:0,kernedWidth:0,height:this.fontSize},w){switch(S=w.segmentsInfo[w.segmentsInfo.length-1].length,C=r.util.getPointOnPath(w.path,0,w.segmentsInfo),C.x+=w.pathOffset.x,C.y+=w.pathOffset.y,this.textAlign){case"left":y=O?S-a:0;break;case"center":y=(S-a)/2;break;case"right":y=O?0:S-a;break}for(y+=this.pathStartOffset*(O?-1:1),o=O?m.length-1:0;O?o>=0:o<m.length;O?o--:o++)v=b[o],y>S?y%=S:y<0&&(y+=S),this._setGraphemeOnPath(y,v,C),y+=v.kernedWidth}return{width:a,numOfSpaces:_}},_setGraphemeOnPath:function(s,a,o){var g=s+a.kernedWidth/2,m=this.path,l=r.util.getPointOnPath(m.path,g,m.segmentsInfo);a.renderLeft=l.x-o.x,a.renderTop=l.y-o.y,a.angle=l.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(s,a,o,g,m){var l=this.getCompleteStyleDeclaration(a,o),v=g?this.getCompleteStyleDeclaration(a,o-1):{},_=this._measureChar(s,l,g,v),b=_.kernedWidth,y=_.width,C;this.charSpacing!==0&&(C=this._getWidthOfCharSpacing(),y+=C,b+=C);var S={width:y,left:0,height:l.fontSize,kernedWidth:b,deltaY:l.deltaY};if(o>0&&!m){var w=this.__charBounds[a][o-1];S.left=w.left+w.width+_.kernedWidth-_.width}return S},getHeightOfLine:function(s){if(this.__lineHeights[s])return this.__lineHeights[s];for(var a=this._textLines[s],o=this.getHeightOfChar(s,0),g=1,m=a.length;g<m;g++)o=Math.max(this.getHeightOfChar(s,g),o);return this.__lineHeights[s]=o*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var s,a=0,o=0,g=this._textLines.length;o<g;o++)s=this.getHeightOfLine(o),a+=o===g-1?s/this.lineHeight:s;return a},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(s,a){s.save();for(var o=0,g=this._getLeftOffset(),m=this._getTopOffset(),l=0,v=this._textLines.length;l<v;l++){var _=this.getHeightOfLine(l),b=_/this.lineHeight,y=this._getLineLeftOffset(l);this._renderTextLine(a,s,this._textLines[l],g+y,m+o+b,l),o+=_}s.restore()},_renderTextFill:function(s){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(s,"fillText")},_renderTextStroke:function(s){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(s),s.save(),this._setLineDash(s,this.strokeDashArray),s.beginPath(),this._renderTextCommon(s,"strokeText"),s.closePath(),s.restore())},_renderChars:function(s,a,o,g,m,l){var v=this.getHeightOfLine(l),_=this.textAlign.indexOf("justify")!==-1,b,y,C="",S,w=0,O,A=this.path,N=!_&&this.charSpacing===0&&this.isEmptyStyles(l)&&!A,W=this.direction==="ltr",Y=this.direction==="ltr"?1:-1,q,te=a.canvas.getAttribute("dir");if(a.save(),te!==this.direction&&(a.canvas.setAttribute("dir",W?"ltr":"rtl"),a.direction=W?"ltr":"rtl",a.textAlign=W?"left":"right"),m-=v*this._fontSizeFraction/this.lineHeight,N){this._renderChar(s,a,l,0,o.join(""),g,m,v),a.restore();return}for(var re=0,me=o.length-1;re<=me;re++)O=re===me||this.charSpacing||A,C+=o[re],S=this.__charBounds[l][re],w===0?(g+=Y*(S.kernedWidth-S.width),w+=S.width):w+=S.kernedWidth,_&&!O&&this._reSpaceAndTab.test(o[re])&&(O=!0),O||(b=b||this.getCompleteStyleDeclaration(l,re),y=this.getCompleteStyleDeclaration(l,re+1),O=r.util.hasStyleChanged(b,y,!1)),O&&(A?(a.save(),a.translate(S.renderLeft,S.renderTop),a.rotate(S.angle),this._renderChar(s,a,l,re,C,-w/2,0,v),a.restore()):(q=g,this._renderChar(s,a,l,re,C,q,m,v)),C="",b=y,g+=Y*w,w=0);a.restore()},_applyPatternGradientTransformText:function(s){var a=r.util.createCanvasElement(),o,g=this.width+this.strokeWidth,m=this.height+this.strokeWidth;return a.width=g,a.height=m,o=a.getContext("2d"),o.beginPath(),o.moveTo(0,0),o.lineTo(g,0),o.lineTo(g,m),o.lineTo(0,m),o.closePath(),o.translate(g/2,m/2),o.fillStyle=s.toLive(o),this._applyPatternGradientTransform(o,s),o.fill(),o.createPattern(a,"no-repeat")},handleFiller:function(s,a,o){var g,m;return o.toLive?o.gradientUnits==="percentage"||o.gradientTransform||o.patternTransform?(g=-this.width/2,m=-this.height/2,s.translate(g,m),s[a]=this._applyPatternGradientTransformText(o),{offsetX:g,offsetY:m}):(s[a]=o.toLive(s,this),this._applyPatternGradientTransform(s,o)):(s[a]=o,{offsetX:0,offsetY:0})},_setStrokeStyles:function(s,a){return s.lineWidth=a.strokeWidth,s.lineCap=this.strokeLineCap,s.lineDashOffset=this.strokeDashOffset,s.lineJoin=this.strokeLineJoin,s.miterLimit=this.strokeMiterLimit,this.handleFiller(s,"strokeStyle",a.stroke)},_setFillStyles:function(s,a){return this.handleFiller(s,"fillStyle",a.fill)},_renderChar:function(s,a,o,g,m,l,v){var _=this._getStyleDeclaration(o,g),b=this.getCompleteStyleDeclaration(o,g),y=s==="fillText"&&b.fill,C=s==="strokeText"&&b.stroke&&b.strokeWidth,S,w;!C&&!y||(a.save(),y&&(S=this._setFillStyles(a,b)),C&&(w=this._setStrokeStyles(a,b)),a.font=this._getFontDeclaration(b),_&&_.textBackgroundColor&&this._removeShadow(a),_&&_.deltaY&&(v+=_.deltaY),y&&a.fillText(m,l-S.offsetX,v-S.offsetY),C&&a.strokeText(m,l-w.offsetX,v-w.offsetY),a.restore())},setSuperscript:function(s,a){return this._setScript(s,a,this.superscript)},setSubscript:function(s,a){return this._setScript(s,a,this.subscript)},_setScript:function(s,a,o){var g=this.get2DCursorLocation(s,!0),m=this.getValueOfPropertyAt(g.lineIndex,g.charIndex,"fontSize"),l=this.getValueOfPropertyAt(g.lineIndex,g.charIndex,"deltaY"),v={fontSize:m*o.size,deltaY:l+m*o.baseline};return this.setSelectionStyles(v,s,a),this},_getLineLeftOffset:function(s){var a=this.getLineWidth(s),o=this.width-a,g=this.textAlign,m=this.direction,v,l=0,v=this.isEndOfWrapping(s);return g==="justify"||g==="justify-center"&&!v||g==="justify-right"&&!v||g==="justify-left"&&!v?0:(g==="center"&&(l=o/2),g==="right"&&(l=o),g==="justify-center"&&(l=o/2),g==="justify-right"&&(l=o),m==="rtl"&&(l-=o),l)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var s=this._forceClearCache;return s||(s=this.hasStateChanged("_dimensionAffectingProps")),s&&(this.dirty=!0,this._forceClearCache=!1),s},getLineWidth:function(s){if(this.__lineWidths[s]!==void 0)return this.__lineWidths[s];var a=this.measureLine(s),o=a.width;return this.__lineWidths[s]=o,o},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(s,a,o){var g=this._getStyleDeclaration(s,a);return g&&typeof g[o]<"u"?g[o]:this[o]},_renderTextDecoration:function(s,a){if(!(!this[a]&&!this.styleHas(a))){for(var o,g,m,l,v,_,b,y,C=this._getLeftOffset(),S=this._getTopOffset(),w,O,A,N,W,Y,q,te,re=this.path,me=this._getWidthOfCharSpacing(),G=this.offsets[a],oe=0,T=this._textLines.length;oe<T;oe++){if(o=this.getHeightOfLine(oe),!this[a]&&!this.styleHas(a,oe)){S+=o;continue}b=this._textLines[oe],Y=o/this.lineHeight,l=this._getLineLeftOffset(oe),O=0,A=0,y=this.getValueOfPropertyAt(oe,0,a),te=this.getValueOfPropertyAt(oe,0,"fill"),w=S+Y*(1-this._fontSizeFraction),g=this.getHeightOfChar(oe,0),v=this.getValueOfPropertyAt(oe,0,"deltaY");for(var F=0,L=b.length;F<L;F++)if(N=this.__charBounds[oe][F],W=this.getValueOfPropertyAt(oe,F,a),q=this.getValueOfPropertyAt(oe,F,"fill"),m=this.getHeightOfChar(oe,F),_=this.getValueOfPropertyAt(oe,F,"deltaY"),re&&W&&q)s.save(),s.fillStyle=te,s.translate(N.renderLeft,N.renderTop),s.rotate(N.angle),s.fillRect(-N.kernedWidth/2,G*m+_,N.kernedWidth,this.fontSize/15),s.restore();else if((W!==y||q!==te||m!==g||_!==v)&&A>0){var M=C+l+O;this.direction==="rtl"&&(M=this.width-M-A),y&&te&&(s.fillStyle=te,s.fillRect(M,w+G*g+v,A,this.fontSize/15)),O=N.left,A=N.width,y=W,te=q,g=m,v=_}else A+=N.kernedWidth;var M=C+l+O;this.direction==="rtl"&&(M=this.width-M-A),s.fillStyle=q,W&&q&&s.fillRect(M,w+G*g+v,A-me,this.fontSize/15),S+=o}this._removeShadow(s)}},_getFontDeclaration:function(s,a){var o=s||this,g=this.fontFamily,m=r.Text.genericFonts.indexOf(g.toLowerCase())>-1,l=g===void 0||g.indexOf("'")>-1||g.indexOf(",")>-1||g.indexOf('"')>-1||m?o.fontFamily:'"'+o.fontFamily+'"';return[r.isLikelyNode?o.fontWeight:o.fontStyle,r.isLikelyNode?o.fontStyle:o.fontWeight,a?this.CACHE_FONT_SIZE+"px":o.fontSize+"px",l].join(" ")},render:function(s){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",s)))},_splitTextIntoLines:function(s){for(var a=s.split(this._reNewline),o=new Array(a.length),g=[`
`],m=[],l=0;l<a.length;l++)o[l]=r.util.string.graphemeSplit(a[l]),m=m.concat(o[l],g);return m.pop(),{_unwrappedLines:o,lines:a,graphemeText:m,graphemeLines:o}},toObject:function(s){var a=d.concat(s),o=this.callSuper("toObject",a);return o.styles=r.util.stylesToArray(this.styles,this.text),o.path&&(o.path=this.path.toObject()),o},set:function(s,a){this.callSuper("set",s,a);var o=!1,g=!1;if(typeof s=="object")for(var m in s)m==="path"&&this.setPathInfo(),o=o||this._dimensionAffectingProps.indexOf(m)!==-1,g=g||m==="path";else o=this._dimensionAffectingProps.indexOf(s)!==-1,g=s==="path";return g&&this.setPathInfo(),o&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),r.Text.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),r.Text.DEFAULT_SVG_FONT_SIZE=16,r.Text.fromElement=function(s,a,o){if(!s)return a(null);var g=r.parseAttributes(s,r.Text.ATTRIBUTE_NAMES),m=g.textAnchor||"left";if(o=r.util.object.extend(o?c(o):{},g),o.top=o.top||0,o.left=o.left||0,g.textDecoration){var l=g.textDecoration;l.indexOf("underline")!==-1&&(o.underline=!0),l.indexOf("overline")!==-1&&(o.overline=!0),l.indexOf("line-through")!==-1&&(o.linethrough=!0),delete o.textDecoration}"dx"in g&&(o.left+=g.dx),"dy"in g&&(o.top+=g.dy),"fontSize"in o||(o.fontSize=r.Text.DEFAULT_SVG_FONT_SIZE);var v="";"textContent"in s?v=s.textContent:"firstChild"in s&&s.firstChild!==null&&"data"in s.firstChild&&s.firstChild.data!==null&&(v=s.firstChild.data),v=v.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var _=o.strokeWidth;o.strokeWidth=0;var b=new r.Text(v,o),y=b.getScaledHeight()/b.height,C=(b.height+b.strokeWidth)*b.lineHeight-b.height,S=C*y,w=b.getScaledHeight()+S,O=0;m==="center"&&(O=b.getScaledWidth()/2),m==="right"&&(O=b.getScaledWidth()),b.set({left:b.left-O,top:b.top-(w-b.fontSize*(.07+b._fontSizeFraction))/b.lineHeight,strokeWidth:typeof _<"u"?_:1}),a(b)},r.Text.fromObject=function(s,a){var o=c(s),g=s.path;return delete o.path,r.Object._fromObject("Text",o,function(m){m.styles=r.util.stylesFromArray(s.styles,s.text),g?r.Object._fromObject("Path",g,function(l){m.set("path",l),a(m)},"path"):a(m)},"text")},r.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],r.util.createAccessors&&r.util.createAccessors(r.Text)}(i),function(){e.util.object.extend(e.Text.prototype,{isEmptyStyles:function(f){if(!this.styles||typeof f<"u"&&!this.styles[f])return!0;var r=typeof f>"u"?this.styles:{line:this.styles[f]};for(var c in r)for(var d in r[c])for(var s in r[c][d])return!1;return!0},styleHas:function(f,r){if(!this.styles||!f||f===""||typeof r<"u"&&!this.styles[r])return!1;var c=typeof r>"u"?this.styles:{0:this.styles[r]};for(var d in c)for(var s in c[d])if(typeof c[d][s][f]<"u")return!0;return!1},cleanStyle:function(f){if(!this.styles||!f||f==="")return!1;var r=this.styles,c=0,d,s,a=!0,o=0,g;for(var m in r){d=0;for(var l in r[m]){var g=r[m][l],v=g.hasOwnProperty(f);c++,v?(s?g[f]!==s&&(a=!1):s=g[f],g[f]===this[f]&&delete g[f]):a=!1,Object.keys(g).length!==0?d++:delete r[m][l]}d===0&&delete r[m]}for(var _=0;_<this._textLines.length;_++)o+=this._textLines[_].length;a&&c===o&&(this[f]=s,this.removeStyle(f))},removeStyle:function(f){if(!(!this.styles||!f||f==="")){var r=this.styles,c,d,s;for(d in r){c=r[d];for(s in c)delete c[s][f],Object.keys(c[s]).length===0&&delete c[s];Object.keys(c).length===0&&delete r[d]}}},_extendStyles:function(f,r){var c=this.get2DCursorLocation(f);this._getLineStyle(c.lineIndex)||this._setLineStyle(c.lineIndex),this._getStyleDeclaration(c.lineIndex,c.charIndex)||this._setStyleDeclaration(c.lineIndex,c.charIndex,{}),e.util.object.extend(this._getStyleDeclaration(c.lineIndex,c.charIndex),r)},get2DCursorLocation:function(f,r){typeof f>"u"&&(f=this.selectionStart);for(var c=r?this._unwrappedTextLines:this._textLines,d=c.length,s=0;s<d;s++){if(f<=c[s].length)return{lineIndex:s,charIndex:f};f-=c[s].length+this.missingNewlineOffset(s)}return{lineIndex:s-1,charIndex:c[s-1].length<f?c[s-1].length:f}},getSelectionStyles:function(f,r,c){typeof f>"u"&&(f=this.selectionStart||0),typeof r>"u"&&(r=this.selectionEnd||f);for(var d=[],s=f;s<r;s++)d.push(this.getStyleAtPosition(s,c));return d},getStyleAtPosition:function(f,r){var c=this.get2DCursorLocation(f),d=r?this.getCompleteStyleDeclaration(c.lineIndex,c.charIndex):this._getStyleDeclaration(c.lineIndex,c.charIndex);return d||{}},setSelectionStyles:function(f,r,c){typeof r>"u"&&(r=this.selectionStart||0),typeof c>"u"&&(c=this.selectionEnd||r);for(var d=r;d<c;d++)this._extendStyles(d,f);return this._forceClearCache=!0,this},_getStyleDeclaration:function(f,r){var c=this.styles&&this.styles[f];return c?c[r]:null},getCompleteStyleDeclaration:function(f,r){for(var c=this._getStyleDeclaration(f,r)||{},d={},s,a=0;a<this._styleProperties.length;a++)s=this._styleProperties[a],d[s]=typeof c[s]>"u"?this[s]:c[s];return d},_setStyleDeclaration:function(f,r,c){this.styles[f][r]=c},_deleteStyleDeclaration:function(f,r){delete this.styles[f][r]},_getLineStyle:function(f){return!!this.styles[f]},_setLineStyle:function(f){this.styles[f]={}},_deleteLineStyle:function(f){delete this.styles[f]}})}(),function(){function f(r){r.textDecoration&&(r.textDecoration.indexOf("underline")>-1&&(r.underline=!0),r.textDecoration.indexOf("line-through")>-1&&(r.linethrough=!0),r.textDecoration.indexOf("overline")>-1&&(r.overline=!0),delete r.textDecoration)}e.IText=e.util.createClass(e.Text,e.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(r,c){this.callSuper("initialize",r,c),this.initBehavior()},setSelectionStart:function(r){r=Math.max(r,0),this._updateAndFire("selectionStart",r)},setSelectionEnd:function(r){r=Math.min(r,this.text.length),this._updateAndFire("selectionEnd",r)},_updateAndFire:function(r,c){this[r]!==c&&(this._fireSelectionChanged(),this[r]=c),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(r){this.clearContextTop(),this.callSuper("render",r),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(r){this.callSuper("_render",r)},clearContextTop:function(r){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var c=this.canvas.contextTop,d=this.canvas.viewportTransform;c.save(),c.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this.transform(c),this._clearTextArea(c),r||c.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var r=this._getCursorBoundaries(),c=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(r,c):this.renderSelection(r,c),c.restore()}},_clearTextArea:function(r){var c=this.width+4,d=this.height+4;r.clearRect(-c/2,-d/2,c,d)},_getCursorBoundaries:function(r){typeof r>"u"&&(r=this.selectionStart);var c=this._getLeftOffset(),d=this._getTopOffset(),s=this._getCursorBoundariesOffsets(r);return{left:c,top:d,leftOffset:s.left,topOffset:s.top}},_getCursorBoundariesOffsets:function(r){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var c,d,s,a=0,o=0,g,m=this.get2DCursorLocation(r);s=m.charIndex,d=m.lineIndex;for(var l=0;l<d;l++)a+=this.getHeightOfLine(l);c=this._getLineLeftOffset(d);var v=this.__charBounds[d][s];return v&&(o=v.left),this.charSpacing!==0&&s===this._textLines[d].length&&(o-=this._getWidthOfCharSpacing()),g={top:a,left:c+(o>0?o:0)},this.direction==="rtl"&&(g.left*=-1),this.cursorOffsetCache=g,this.cursorOffsetCache},renderCursor:function(r,c){var d=this.get2DCursorLocation(),s=d.lineIndex,a=d.charIndex>0?d.charIndex-1:0,o=this.getValueOfPropertyAt(s,a,"fontSize"),g=this.scaleX*this.canvas.getZoom(),m=this.cursorWidth/g,l=r.topOffset,v=this.getValueOfPropertyAt(s,a,"deltaY");l+=(1-this._fontSizeFraction)*this.getHeightOfLine(s)/this.lineHeight-o*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(r,c),c.fillStyle=this.cursorColor||this.getValueOfPropertyAt(s,a,"fill"),c.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,c.fillRect(r.left+r.leftOffset-m/2,l+r.top+v,m,o)},renderSelection:function(r,c){for(var d=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,s=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,a=this.textAlign.indexOf("justify")!==-1,o=this.get2DCursorLocation(d),g=this.get2DCursorLocation(s),m=o.lineIndex,l=g.lineIndex,v=o.charIndex<0?0:o.charIndex,_=g.charIndex<0?0:g.charIndex,b=m;b<=l;b++){var y=this._getLineLeftOffset(b)||0,C=this.getHeightOfLine(b),S=0,w=0,O=0;if(b===m&&(w=this.__charBounds[m][v].left),b>=m&&b<l)O=a&&!this.isEndOfWrapping(b)?this.width:this.getLineWidth(b)||5;else if(b===l)if(_===0)O=this.__charBounds[l][_].left;else{var A=this._getWidthOfCharSpacing();O=this.__charBounds[l][_-1].left+this.__charBounds[l][_-1].width-A}S=C,(this.lineHeight<1||b===l&&this.lineHeight>1)&&(C/=this.lineHeight);var N=r.left+y+w,W=O-w,Y=C,q=0;this.inCompositionMode?(c.fillStyle=this.compositionColor||"black",Y=1,q=C):c.fillStyle=this.selectionColor,this.direction==="rtl"&&(N=this.width-N-W),c.fillRect(N,r.top+r.topOffset+q,W,Y),r.topOffset+=S}},getCurrentCharFontSize:function(){var r=this._getCurrentCharIndex();return this.getValueOfPropertyAt(r.l,r.c,"fontSize")},getCurrentCharColor:function(){var r=this._getCurrentCharIndex();return this.getValueOfPropertyAt(r.l,r.c,"fill")},_getCurrentCharIndex:function(){var r=this.get2DCursorLocation(this.selectionStart,!0),c=r.charIndex>0?r.charIndex-1:0;return{l:r.lineIndex,c}}}),e.IText.fromObject=function(r,c){var d=e.util.stylesFromArray(r.styles,r.text),s=Object.assign({},r,{styles:d});if(f(s),s.styles)for(var a in s.styles)for(var o in s.styles[a])f(s.styles[a][o]);e.Object._fromObject("IText",s,c,"text")}}(),function(){var f=e.util.object.clone;e.util.object.extend(e.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var r=this;this.on("added",function(){var c=r.canvas;c&&(c._hasITextHandlers||(c._hasITextHandlers=!0,r._initCanvasHandlers(c)),c._iTextInstances=c._iTextInstances||[],c._iTextInstances.push(r))})},initRemovedHandler:function(){var r=this;this.on("removed",function(){var c=r.canvas;c&&(c._iTextInstances=c._iTextInstances||[],e.util.removeFromArray(c._iTextInstances,r),c._iTextInstances.length===0&&(c._hasITextHandlers=!1,r._removeCanvasHandlers(c)))})},_initCanvasHandlers:function(r){r._mouseUpITextHandler=function(){r._iTextInstances&&r._iTextInstances.forEach(function(c){c.__isMousedown=!1})},r.on("mouse:up",r._mouseUpITextHandler)},_removeCanvasHandlers:function(r){r.off("mouse:up",r._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(r,c,d,s){var a;return a={isAborted:!1,abort:function(){this.isAborted=!0}},r.animate("_currentCursorOpacity",c,{duration:d,onComplete:function(){a.isAborted||r[s]()},onChange:function(){r.canvas&&r.selectionStart===r.selectionEnd&&r.renderCursorOrSelection()},abort:function(){return a.isAborted}}),a},_onTickComplete:function(){var r=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){r._currentTickCompleteState=r._animateCursor(r,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(r){var c=this,d=r?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){c._tick()},d)},abortCursorAnimation:function(){var r=this._currentTickState||this._currentTickCompleteState,c=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,r&&c&&c.clearContext(c.contextTop||c.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(r){var c=0,d=r-1;if(this._reSpace.test(this._text[d]))for(;this._reSpace.test(this._text[d]);)c++,d--;for(;/\S/.test(this._text[d])&&d>-1;)c++,d--;return r-c},findWordBoundaryRight:function(r){var c=0,d=r;if(this._reSpace.test(this._text[d]))for(;this._reSpace.test(this._text[d]);)c++,d++;for(;/\S/.test(this._text[d])&&d<this._text.length;)c++,d++;return r+c},findLineBoundaryLeft:function(r){for(var c=0,d=r-1;!/\n/.test(this._text[d])&&d>-1;)c++,d--;return r-c},findLineBoundaryRight:function(r){for(var c=0,d=r;!/\n/.test(this._text[d])&&d<this._text.length;)c++,d++;return r+c},searchWordBoundary:function(r,c){for(var d=this._text,s=this._reSpace.test(d[r])?r-1:r,a=d[s],o=e.reNonWord;!o.test(a)&&s>0&&s<d.length;)s+=c,a=d[s];return o.test(a)&&(s+=c===1?0:1),s},selectWord:function(r){r=r||this.selectionStart;var c=this.searchWordBoundary(r,-1),d=this.searchWordBoundary(r,1);this.selectionStart=c,this.selectionEnd=d,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(r){r=r||this.selectionStart;var c=this.findLineBoundaryLeft(r),d=this.findLineBoundaryRight(r);return this.selectionStart=c,this.selectionEnd=d,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(r){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(r),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(r){r._iTextInstances&&r._iTextInstances.forEach(function(c){c.selected=!1,c.isEditing&&c.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(r){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var c=this.getSelectionStartFromPointer(r.e),d=this.selectionStart,s=this.selectionEnd;(c!==this.__selectionStartOnMouseDown||d===s)&&(d===c||s===c)||(c>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=c):(this.selectionStart=c,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==d||this.selectionEnd!==s)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(r,c,d){var s=d.slice(0,r),a=e.util.string.graphemeSplit(s).length;if(r===c)return{selectionStart:a,selectionEnd:a};var o=d.slice(r,c),g=e.util.string.graphemeSplit(o).length;return{selectionStart:a,selectionEnd:a+g}},fromGraphemeToStringSelection:function(r,c,d){var s=d.slice(0,r),a=s.join("").length;if(r===c)return{selectionStart:a,selectionEnd:a};var o=d.slice(r,c),g=o.join("").length;return{selectionStart:a,selectionEnd:a+g}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var r=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=r.selectionStart,this.hiddenTextarea.selectionEnd=r.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var r=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=r.selectionEnd,this.inCompositionMode||(this.selectionStart=r.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var r=this._calcTextareaPosition();this.hiddenTextarea.style.left=r.left,this.hiddenTextarea.style.top=r.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var r=this.inCompositionMode?this.compositionStart:this.selectionStart,c=this._getCursorBoundaries(r),d=this.get2DCursorLocation(r),s=d.lineIndex,a=d.charIndex,o=this.getValueOfPropertyAt(s,a,"fontSize")*this.lineHeight,g=c.leftOffset,m=this.calcTransformMatrix(),l={x:c.left+g,y:c.top+c.topOffset+o},v=this.canvas.getRetinaScaling(),_=this.canvas.upperCanvasEl,b=_.width/v,y=_.height/v,C=b-o,S=y-o,w=_.clientWidth/b,O=_.clientHeight/y;return l=e.util.transformPoint(l,m),l=e.util.transformPoint(l,this.canvas.viewportTransform),l.x*=w,l.y*=O,l.x<0&&(l.x=0),l.x>C&&(l.x=C),l.y<0&&(l.y=0),l.y>S&&(l.y=S),l.x+=this.canvas._offset.left,l.y+=this.canvas._offset.top,{left:l.x+"px",top:l.y+"px",fontSize:o+"px",charHeight:o}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var r=this._textBeforeEdit!==this.text,c=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,c&&(c.blur&&c.blur(),c.parentNode&&c.parentNode.removeChild(c)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),r&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),r&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var r in this.styles)this._textLines[r]||delete this.styles[r]},removeStyleFromTo:function(r,c){var d=this.get2DCursorLocation(r,!0),s=this.get2DCursorLocation(c,!0),a=d.lineIndex,o=d.charIndex,g=s.lineIndex,m=s.charIndex,l,v;if(a!==g){if(this.styles[a])for(l=o;l<this._unwrappedTextLines[a].length;l++)delete this.styles[a][l];if(this.styles[g])for(l=m;l<this._unwrappedTextLines[g].length;l++)v=this.styles[g][l],v&&(this.styles[a]||(this.styles[a]={}),this.styles[a][o+l-m]=v);for(l=a+1;l<=g;l++)delete this.styles[l];this.shiftLineStyles(g,a-g)}else if(this.styles[a]){v=this.styles[a];var _=m-o,b,y;for(l=o;l<m;l++)delete v[l];for(y in this.styles[a])b=parseInt(y,10),b>=m&&(v[b-_]=v[y],delete v[y])}},shiftLineStyles:function(r,c){var d=f(this.styles);for(var s in this.styles){var a=parseInt(s,10);a>r&&(this.styles[a+c]=d[a],d[a-c]||delete this.styles[a])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(r,c,d,s){var a,o={},g=!1,m=this._unwrappedTextLines[r].length===c;d||(d=1),this.shiftLineStyles(r,d),this.styles[r]&&(a=this.styles[r][c===0?c:c-1]);for(var l in this.styles[r]){var v=parseInt(l,10);v>=c&&(g=!0,o[v-c]=this.styles[r][l],m&&c===0||delete this.styles[r][l])}var _=!1;for(g&&!m&&(this.styles[r+d]=o,_=!0),_&&d--;d>0;)s&&s[d-1]?this.styles[r+d]={0:f(s[d-1])}:a?this.styles[r+d]={0:f(a)}:delete this.styles[r+d],d--;this._forceClearCache=!0},insertCharStyleObject:function(r,c,d,s){this.styles||(this.styles={});var a=this.styles[r],o=a?f(a):{};d||(d=1);for(var g in o){var m=parseInt(g,10);m>=c&&(a[m+d]=o[m],o[m-d]||delete a[m])}if(this._forceClearCache=!0,s){for(;d--;)Object.keys(s[d]).length&&(this.styles[r]||(this.styles[r]={}),this.styles[r][c+d]=f(s[d]));return}if(a)for(var l=a[c?c-1:1];l&&d--;)this.styles[r][c+d]=f(l)},insertNewStyleBlock:function(r,c,d){for(var s=this.get2DCursorLocation(c,!0),a=[0],o=0,g=0;g<r.length;g++)r[g]===`
`?(o++,a[o]=0):a[o]++;a[0]>0&&(this.insertCharStyleObject(s.lineIndex,s.charIndex,a[0],d),d=d&&d.slice(a[0]+1)),o&&this.insertNewlineStyleObject(s.lineIndex,s.charIndex+a[0],o);for(var g=1;g<o;g++)a[g]>0?this.insertCharStyleObject(s.lineIndex+g,0,a[g],d):d&&this.styles[s.lineIndex+g]&&d[0]&&(this.styles[s.lineIndex+g][0]=d[0]),d=d&&d.slice(a[g]+1);a[g]>0&&this.insertCharStyleObject(s.lineIndex+g,0,a[g],d)},setSelectionStartEndWithShift:function(r,c,d){d<=r?(c===r?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=r),this.selectionStart=d):d>r&&d<c?this._selectionDirection==="right"?this.selectionEnd=d:this.selectionStart=d:(c===r?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=c),this.selectionEnd=d)},setSelectionInBoundaries:function(){var r=this.text.length;this.selectionStart>r?this.selectionStart=r:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>r?this.selectionEnd=r:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),e.util.object.extend(e.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(f){if(this.canvas){this.__newClickTime=+new Date;var r=f.pointer;this.isTripleClick(r)&&(this.fire("tripleclick",f),this._stopEvent(f.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=r,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(f){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===f.x&&this.__lastPointer.y===f.y},_stopEvent:function(f){f.preventDefault&&f.preventDefault(),f.stopPropagation&&f.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(f){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(f.e))},tripleClickHandler:function(f){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(f.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(f){!this.canvas||!this.editable||f.e.button&&f.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(f.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(f){!this.canvas||!this.editable||f.e.button&&f.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(f){if(this.__isMousedown=!1,!(!this.editable||this.group||f.transform&&f.transform.actionPerformed||f.e.button&&f.e.button!==1)){if(this.canvas){var r=this.canvas._activeObject;if(r&&r!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(f.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(f){var r=this.getSelectionStartFromPointer(f),c=this.selectionStart,d=this.selectionEnd;f.shiftKey?this.setSelectionStartEndWithShift(c,d,r):(this.selectionStart=r,this.selectionEnd=r),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(f){for(var r=this.getLocalPointer(f),c=0,d=0,s=0,a=0,o=0,g,m,l=0,v=this._textLines.length;l<v&&s<=r.y;l++)s+=this.getHeightOfLine(l)*this.scaleY,o=l,l>0&&(a+=this._textLines[l-1].length+this.missingNewlineOffset(l-1));g=this._getLineLeftOffset(o),d=g*this.scaleX,m=this._textLines[o],this.direction==="rtl"&&(r.x=this.width*this.scaleX-r.x+d);for(var _=0,b=m.length;_<b&&(c=d,d+=this.__charBounds[o][_].kernedWidth*this.scaleX,d<=r.x);_++)a++;return this._getNewSelectionStartFromOffset(r,c,d,a,b)},_getNewSelectionStartFromOffset:function(f,r,c,d,s){var a=f.x-r,o=c-f.x,g=o>a||o<0?0:1,m=d+g;return this.flipX&&(m=s-m),m>this._text.length&&(m=this._text.length),m}}),e.util.object.extend(e.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=e.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var f=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+f.top+"; left: "+f.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+f.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):e.document.body.appendChild(this.hiddenTextarea),e.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),e.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),e.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),e.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),e.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),e.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(e.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(f){if(this.isEditing){var r=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(f.keyCode in r)this[r[f.keyCode]](f);else if(f.keyCode in this.ctrlKeysMapDown&&(f.ctrlKey||f.metaKey))this[this.ctrlKeysMapDown[f.keyCode]](f);else return;f.stopImmediatePropagation(),f.preventDefault(),f.keyCode>=33&&f.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(f){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(f.keyCode in this.ctrlKeysMapUp&&(f.ctrlKey||f.metaKey))this[this.ctrlKeysMapUp[f.keyCode]](f);else return;f.stopImmediatePropagation(),f.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(f){var r=this.fromPaste;if(this.fromPaste=!1,f&&f.stopPropagation(),!!this.isEditing){var c=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,d=this._text.length,s=c.length,a,o,g=s-d,m=this.selectionStart,l=this.selectionEnd,v=m!==l,_,b,y;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var C=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),S=m>C.selectionStart;v?(a=this._text.slice(m,l),g+=l-m):s<d&&(S?a=this._text.slice(l+g,l):a=this._text.slice(m,m-g)),o=c.slice(C.selectionEnd-g,C.selectionEnd),a&&a.length&&(o.length&&(_=this.getSelectionStyles(m,m+1,!1),_=o.map(function(){return _[0]})),v?(b=m,y=l):S?(b=l-a.length,y=l):(b=l,y=l+a.length),this.removeStyleFromTo(b,y)),o.length&&(r&&o.join("")===e.copiedText&&!e.disableStyleCopyPaste&&(_=e.copiedTextStyle),this.insertNewStyleBlock(o,m,_)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(f){this.compositionStart=f.target.selectionStart,this.compositionEnd=f.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(e.copiedText=this.getSelectedText(),e.disableStyleCopyPaste?e.copiedTextStyle=null:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(f){return f&&f.clipboardData||e.window.clipboardData},_getWidthBeforeCursor:function(f,r){var c=this._getLineLeftOffset(f),d;return r>0&&(d=this.__charBounds[f][r-1],c+=d.left+d.width),c},getDownCursorOffset:function(f,r){var c=this._getSelectionForOffset(f,r),d=this.get2DCursorLocation(c),s=d.lineIndex;if(s===this._textLines.length-1||f.metaKey||f.keyCode===34)return this._text.length-c;var a=d.charIndex,o=this._getWidthBeforeCursor(s,a),g=this._getIndexOnLine(s+1,o),m=this._textLines[s].slice(a);return m.length+g+1+this.missingNewlineOffset(s)},_getSelectionForOffset:function(f,r){return f.shiftKey&&this.selectionStart!==this.selectionEnd&&r?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(f,r){var c=this._getSelectionForOffset(f,r),d=this.get2DCursorLocation(c),s=d.lineIndex;if(s===0||f.metaKey||f.keyCode===33)return-c;var a=d.charIndex,o=this._getWidthBeforeCursor(s,a),g=this._getIndexOnLine(s-1,o),m=this._textLines[s].slice(0,a),l=this.missingNewlineOffset(s-1);return-this._textLines[s-1].length+g-m.length+(1-l)},_getIndexOnLine:function(f,r){for(var c=this._textLines[f],d=this._getLineLeftOffset(f),s=d,a=0,o,g,m=0,l=c.length;m<l;m++)if(o=this.__charBounds[f][m].width,s+=o,s>r){g=!0;var v=s-o,_=s,b=Math.abs(v-r),y=Math.abs(_-r);a=y<b?m:m-1;break}return g||(a=c.length-1),a},moveCursorDown:function(f){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",f)},moveCursorUp:function(f){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",f)},_moveCursorUpOrDown:function(f,r){var c="get"+f+"CursorOffset",d=this[c](r,this._selectionDirection==="right");r.shiftKey?this.moveCursorWithShift(d):this.moveCursorWithoutShift(d),d!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(f){var r=this._selectionDirection==="left"?this.selectionStart+f:this.selectionEnd+f;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,r),f!==0},moveCursorWithoutShift:function(f){return f<0?(this.selectionStart+=f,this.selectionEnd=this.selectionStart):(this.selectionEnd+=f,this.selectionStart=this.selectionEnd),f!==0},moveCursorLeft:function(f){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",f)},_move:function(f,r,c){var d;if(f.altKey)d=this["findWordBoundary"+c](this[r]);else if(f.metaKey||f.keyCode===35||f.keyCode===36)d=this["findLineBoundary"+c](this[r]);else return this[r]+=c==="Left"?-1:1,!0;if(typeof d<"u"&&this[r]!==d)return this[r]=d,!0},_moveLeft:function(f,r){return this._move(f,r,"Left")},_moveRight:function(f,r){return this._move(f,r,"Right")},moveCursorLeftWithoutShift:function(f){var r=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(r=this._moveLeft(f,"selectionStart")),this.selectionEnd=this.selectionStart,r},moveCursorLeftWithShift:function(f){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(f,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(f,"selectionStart")},moveCursorRight:function(f){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",f)},_moveCursorLeftOrRight:function(f,r){var c="moveCursor"+f+"With";this._currentCursorOpacity=1,r.shiftKey?c+="Shift":c+="outShift",this[c](r)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(f){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(f,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(f,"selectionEnd")},moveCursorRightWithoutShift:function(f){var r=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(r=this._moveRight(f,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,r},removeChars:function(f,r){typeof r>"u"&&(r=f+1),this.removeStyleFromTo(f,r),this._text.splice(f,r-f),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(f,r,c,d){typeof d>"u"&&(d=c),d>c&&this.removeStyleFromTo(c,d);var s=e.util.string.graphemeSplit(f);this.insertNewStyleBlock(s,c,r),this._text=[].concat(this._text.slice(0,c),s,this._text.slice(d)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var f=e.util.toFixed,r=/  +/g;e.util.object.extend(e.Text.prototype,{_toSVG:function(){var c=this._getSVGLeftTopOffsets(),d=this._getSVGTextAndBg(c.textTop,c.textLeft);return this._wrapSVGTextAndBg(d)},toSVG:function(c){return this._createBaseSVGMarkup(this._toSVG(),{reviver:c,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(c){var d=!0,s=this.getSvgTextDecoration(this);return[c.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",s?'text-decoration="'+s+'" ':"",'style="',this.getSvgStyles(d),'"',this.addPaintOrder()," >",c.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(c,d){var s=[],a=[],o=c,g;this._setSVGBg(a);for(var m=0,l=this._textLines.length;m<l;m++)g=this._getLineLeftOffset(m),(this.textBackgroundColor||this.styleHas("textBackgroundColor",m))&&this._setSVGTextLineBg(a,m,d+g,o),this._setSVGTextLineText(s,m,d+g,o),o+=this.getHeightOfLine(m);return{textSpans:s,textBgRects:a}},_createTextCharSpan:function(c,d,s,a){var o=c!==c.trim()||c.match(r),g=this.getSvgSpanStyles(d,o),m=g?'style="'+g+'"':"",l=d.deltaY,v="",_=e.Object.NUM_FRACTION_DIGITS;return l&&(v=' dy="'+f(l,_)+'" '),['<tspan x="',f(s,_),'" y="',f(a,_),'" ',v,m,">",e.util.string.escapeXml(c),"</tspan>"].join("")},_setSVGTextLineText:function(c,d,s,a){var o=this.getHeightOfLine(d),g=this.textAlign.indexOf("justify")!==-1,m,l,v="",_,b,y=0,C=this._textLines[d],S;a+=o*(1-this._fontSizeFraction)/this.lineHeight;for(var w=0,O=C.length-1;w<=O;w++)S=w===O||this.charSpacing,v+=C[w],_=this.__charBounds[d][w],y===0?(s+=_.kernedWidth-_.width,y+=_.width):y+=_.kernedWidth,g&&!S&&this._reSpaceAndTab.test(C[w])&&(S=!0),S||(m=m||this.getCompleteStyleDeclaration(d,w),l=this.getCompleteStyleDeclaration(d,w+1),S=e.util.hasStyleChanged(m,l,!0)),S&&(b=this._getStyleDeclaration(d,w)||{},c.push(this._createTextCharSpan(v,b,s,a)),v="",m=l,s+=y,y=0)},_pushTextBgRect:function(c,d,s,a,o,g){var m=e.Object.NUM_FRACTION_DIGITS;c.push("		<rect ",this._getFillAttributes(d),' x="',f(s,m),'" y="',f(a,m),'" width="',f(o,m),'" height="',f(g,m),`"></rect>
`)},_setSVGTextLineBg:function(c,d,s,a){for(var o=this._textLines[d],g=this.getHeightOfLine(d)/this.lineHeight,m=0,l=0,v,_,b=this.getValueOfPropertyAt(d,0,"textBackgroundColor"),y=0,C=o.length;y<C;y++)v=this.__charBounds[d][y],_=this.getValueOfPropertyAt(d,y,"textBackgroundColor"),_!==b?(b&&this._pushTextBgRect(c,b,s+l,a,m,g),l=v.left,m=v.width,b=_):m+=v.kernedWidth;_&&this._pushTextBgRect(c,_,s+l,a,m,g)},_getFillAttributes:function(c){var d=c&&typeof c=="string"?new e.Color(c):"";return!d||!d.getSource()||d.getAlpha()===1?'fill="'+c+'"':'opacity="'+d.getAlpha()+'" fill="'+d.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(c){for(var d=0,s=0,a=0;a<c;a++)d+=this.getHeightOfLine(a);return s=this.getHeightOfLine(a),{lineTop:d,offset:(this._fontSizeMult-this._fontSizeFraction)*s/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(c){var d=e.Object.prototype.getSvgStyles.call(this,c);return d+" white-space: pre;"}})}(),function(f){var r=f.fabric||(f.fabric={});r.Textbox=r.util.createClass(r.IText,r.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:r.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(c){for(var d=0,s=0,a=0,o={},g=0;g<c.graphemeLines.length;g++)c.graphemeText[a]===`
`&&g>0?(s=0,a++,d++):!this.splitByGrapheme&&this._reSpaceAndTab.test(c.graphemeText[a])&&g>0&&(s++,a++),o[g]={line:d,offset:s},a+=c.graphemeLines[g].length,s+=c.graphemeLines[g].length;return o},styleHas:function(c,d){if(this._styleMap&&!this.isWrapping){var s=this._styleMap[d];s&&(d=s.line)}return r.Text.prototype.styleHas.call(this,c,d)},isEmptyStyles:function(c){if(!this.styles)return!0;var d=0,s=c+1,a,o,g=!1,m=this._styleMap[c],l=this._styleMap[c+1];m&&(c=m.line,d=m.offset),l&&(s=l.line,g=s===c,a=l.offset),o=typeof c>"u"?this.styles:{line:this.styles[c]};for(var v in o)for(var _ in o[v])if(_>=d&&(!g||_<a))for(var b in o[v][_])return!1;return!0},_getStyleDeclaration:function(c,d){if(this._styleMap&&!this.isWrapping){var s=this._styleMap[c];if(!s)return null;c=s.line,d=s.offset+d}return this.callSuper("_getStyleDeclaration",c,d)},_setStyleDeclaration:function(c,d,s){var a=this._styleMap[c];c=a.line,d=a.offset+d,this.styles[c][d]=s},_deleteStyleDeclaration:function(c,d){var s=this._styleMap[c];c=s.line,d=s.offset+d,delete this.styles[c][d]},_getLineStyle:function(c){var d=this._styleMap[c];return!!this.styles[d.line]},_setLineStyle:function(c){var d=this._styleMap[c];this.styles[d.line]={}},_wrapText:function(c,d){var s=[],a;for(this.isWrapping=!0,a=0;a<c.length;a++)s=s.concat(this._wrapLine(c[a],a,d));return this.isWrapping=!1,s},_measureWord:function(c,d,s){var a=0,o,g=!0;s=s||0;for(var m=0,l=c.length;m<l;m++){var v=this._getGraphemeBox(c[m],d,m+s,o,g);a+=v.kernedWidth,o=c[m]}return a},_wrapLine:function(c,d,s,N){var o=0,g=this.splitByGrapheme,m=[],l=[],v=g?r.util.string.graphemeSplit(c):c.split(this._wordJoiners),_="",b=0,y=g?"":" ",C=0,S=0,w=0,O=!0,A=this._getWidthOfCharSpacing(),N=N||0;v.length===0&&v.push([]),s-=N;for(var W=0;W<v.length;W++)_=g?v[W]:r.util.string.graphemeSplit(v[W]),C=this._measureWord(_,d,b),b+=_.length,o+=S+C-A,o>s&&!O?(m.push(l),l=[],o=C,O=!0):o+=A,!O&&!g&&l.push(y),l=l.concat(_),S=g?0:this._measureWord([y],d,b),b++,O=!1,C>w&&(w=C);return W&&m.push(l),w+N>this.dynamicMinWidth&&(this.dynamicMinWidth=w-A+N),m},isEndOfWrapping:function(c){return!this._styleMap[c+1]||this._styleMap[c+1].line!==this._styleMap[c].line},missingNewlineOffset:function(c){return this.splitByGrapheme?this.isEndOfWrapping(c)?1:0:1},_splitTextIntoLines:function(c){for(var d=r.Text.prototype._splitTextIntoLines.call(this,c),s=this._wrapText(d.lines,this.width),a=new Array(s.length),o=0;o<s.length;o++)a[o]=s[o].join("");return d.lines=a,d.graphemeLines=s,d},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var c={};for(var d in this._styleMap)this._textLines[d]&&(c[this._styleMap[d].line]=1);for(var d in this.styles)c[d]||delete this.styles[d]},toObject:function(c){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(c))}}),r.Textbox.fromObject=function(c,d){var s=r.util.stylesFromArray(c.styles,c.text),a=Object.assign({},c,{styles:s});return r.Object._fromObject("Textbox",a,d,"text")}}(i),function(){var f=e.controlsUtils,r=f.scaleSkewCursorStyleHandler,c=f.scaleCursorStyleHandler,d=f.scalingEqually,s=f.scalingYOrSkewingX,a=f.scalingXOrSkewingY,o=f.scaleOrSkewActionName,g=e.Object.prototype.controls;if(g.ml=new e.Control({x:-.5,y:0,cursorStyleHandler:r,actionHandler:a,getActionName:o}),g.mr=new e.Control({x:.5,y:0,cursorStyleHandler:r,actionHandler:a,getActionName:o}),g.mb=new e.Control({x:0,y:.5,cursorStyleHandler:r,actionHandler:s,getActionName:o}),g.mt=new e.Control({x:0,y:-.5,cursorStyleHandler:r,actionHandler:s,getActionName:o}),g.tl=new e.Control({x:-.5,y:-.5,cursorStyleHandler:c,actionHandler:d}),g.tr=new e.Control({x:.5,y:-.5,cursorStyleHandler:c,actionHandler:d}),g.bl=new e.Control({x:-.5,y:.5,cursorStyleHandler:c,actionHandler:d}),g.br=new e.Control({x:.5,y:.5,cursorStyleHandler:c,actionHandler:d}),g.mtr=new e.Control({x:0,y:-.5,actionHandler:f.rotationWithSnapping,cursorStyleHandler:f.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),e.Textbox){var m=e.Textbox.prototype.controls={};m.mtr=g.mtr,m.tr=g.tr,m.br=g.br,m.tl=g.tl,m.bl=g.bl,m.mt=g.mt,m.mb=g.mb,m.mr=new e.Control({x:.5,y:0,actionHandler:f.changeWidth,cursorStyleHandler:r,actionName:"resizing"}),m.ml=new e.Control({x:-.5,y:0,actionHandler:f.changeWidth,cursorStyleHandler:r,actionName:"resizing"})}}(),function(){e.Object.ENLIVEN_PROPS.push("eraser");var f=e.Object.prototype._drawClipPath,r=e.Object.prototype.needsItsOwnCache,c=e.Object.prototype.toObject,d=e.Object.prototype.getSvgCommons,s=e.Object.prototype._createBaseClipPathSVGMarkup,a=e.Object.prototype._createBaseSVGMarkup;e.Object.prototype.cacheProperties.push("eraser"),e.Object.prototype.stateProperties.push("eraser"),e.util.object.extend(e.Object.prototype,{erasable:!0,eraser:void 0,needsItsOwnCache:function(){return r.call(this)||!!this.eraser},_drawClipPath:function(m,l){if(f.call(this,m,l),this.eraser){var v=this._getNonTransformedDimensions();this.eraser.isType("eraser")&&this.eraser.set({width:v.x,height:v.y}),f.call(this,m,this.eraser)}},toObject:function(m){var l=c.call(this,["erasable"].concat(m));return this.eraser&&!this.eraser.excludeFromExport&&(l.eraser=this.eraser.toObject(m)),l},getSvgCommons:function(){return d.call(this)+(this.eraser?'mask="url(#'+this.eraser.clipPathId+')" ':"")},_createEraserSVGMarkup:function(m){return this.eraser?(this.eraser.clipPathId="MASK_"+e.Object.__uid++,['<mask id="',this.eraser.clipPathId,'" >',this.eraser.toSVG(m),"</mask>",`
`].join("")):""},_createBaseClipPathSVGMarkup:function(m,l){return[this._createEraserSVGMarkup(l&&l.reviver),s.call(this,m,l)].join("")},_createBaseSVGMarkup:function(m,l){return[this._createEraserSVGMarkup(l&&l.reviver),a.call(this,m,l)].join("")}});var o=e.Group.prototype._restoreObjectsState;e.util.object.extend(e.Group.prototype,{_addEraserPathToObjects:function(m){this._objects.forEach(function(l){e.EraserBrush.prototype._addPathToObjectEraser.call(e.EraserBrush.prototype,l,m)})},applyEraserToObjects:function(){var m=this,l=this.eraser;if(l){delete this.eraser;var v=m.calcTransformMatrix();l.clone(function(_){var b=m.clipPath;_.getObjects("path").forEach(function(y){var C=e.util.multiplyTransformMatrices(v,y.calcTransformMatrix());e.util.applyTransformToObject(y,C),b?b.clone(function(S){var w=e.EraserBrush.prototype.applyClipPathToPath.call(e.EraserBrush.prototype,y,S,v);m._addEraserPathToObjects(w)},["absolutePositioned","inverted"]):m._addEraserPathToObjects(y)})})}},_restoreObjectsState:function(){return this.erasable===!0&&this.applyEraserToObjects(),o.call(this)}}),e.Eraser=e.util.createClass(e.Group,{type:"eraser",originX:"center",originY:"center",drawObject:function(m){m.save(),m.fillStyle="black",m.fillRect(-this.width/2,-this.height/2,this.width,this.height),m.restore(),this.callSuper("drawObject",m)},_getBounds:function(){},_toSVG:function(m){var l=["<g ","COMMON_PARTS",` >
`],v=-this.width/2,_=-this.height/2,b=["<rect ",'fill="white" ','x="',v,'" y="',_,'" width="',this.width,'" height="',this.height,`" />
`].join("");l.push("		",b);for(var y=0,C=this._objects.length;y<C;y++)l.push("		",this._objects[y].toSVG(m));return l.push(`</g>
`),l}}),e.Eraser.fromObject=function(m,l){var v=m.objects;e.util.enlivenObjects(v,function(_){var b=e.util.object.clone(m,!0);delete b.objects,e.util.enlivenObjectEnlivables(m,b,function(){l&&l(new e.Eraser(_,b,!0))})})};var g=e.Canvas.prototype._renderOverlay;e.util.object.extend(e.Canvas.prototype,{isErasing:function(){return this.isDrawingMode&&this.freeDrawingBrush&&this.freeDrawingBrush.type==="eraser"&&this.freeDrawingBrush._isErasing},_renderOverlay:function(m){g.call(this,m),this.isErasing()&&!this.freeDrawingBrush.inverted&&this.freeDrawingBrush._render()}}),e.EraserBrush=e.util.createClass(e.PencilBrush,{type:"eraser",inverted:!1,_isErasing:!1,_isErasable:function(m){return m.erasable!==!1},_prepareCollectionTraversal:function(m,l,v){m.forEachObject(function(_){_.forEachObject&&_.erasable==="deep"?this._prepareCollectionTraversal(_,l,v):!this.inverted&&_.erasable&&_.visible?(_.visible=!1,m.dirty=!0,v.visibility.push(_),v.collection.push(m)):this.inverted&&_.visible&&(_.erasable&&_.eraser?(_.eraser.inverted=!0,_.dirty=!0,m.dirty=!0,v.eraser.push(_),v.collection.push(m)):(_.visible=!1,m.dirty=!0,v.visibility.push(_),v.collection.push(m)))},this)},preparePattern:function(){this._patternCanvas||(this._patternCanvas=e.util.createCanvasElement());var m=this._patternCanvas;m.width=this.canvas.width,m.height=this.canvas.height;var l=m.getContext("2d");if(this.canvas._isRetinaScaling()){var v=this.canvas.getRetinaScaling();this.canvas.__initRetinaScaling(v,m,l)}var _=this.canvas.backgroundImage,b=_&&this._isErasable(_),y=this.canvas.overlayImage,C=y&&this._isErasable(y);if(!this.inverted&&(_&&!b||this.canvas.backgroundColor))b&&(this.canvas.backgroundImage=void 0),this.canvas._renderBackground(l),b&&(this.canvas.backgroundImage=_);else if(this.inverted&&_&&b){var S=this.canvas.backgroundColor;this.canvas.backgroundColor=void 0,this.canvas._renderBackground(l),this.canvas.backgroundColor=S}l.save(),l.transform.apply(l,this.canvas.viewportTransform);var w={visibility:[],eraser:[],collection:[]};if(this._prepareCollectionTraversal(this.canvas,l,w),this.canvas._renderObjects(l,this.canvas._objects),w.visibility.forEach(function(O){O.visible=!0}),w.eraser.forEach(function(O){O.eraser.inverted=!1,O.dirty=!0}),w.collection.forEach(function(O){O.dirty=!0}),l.restore(),!this.inverted&&(y&&!C||this.canvas.overlayColor))C&&(this.canvas.overlayImage=void 0),g.call(this.canvas,l),C&&(this.canvas.overlayImage=y);else if(this.inverted&&y&&C){var S=this.canvas.overlayColor;this.canvas.overlayColor=void 0,g.call(this.canvas,l),this.canvas.overlayColor=S}},_setBrushStyles:function(m){this.callSuper("_setBrushStyles",m),m.strokeStyle="black"},_saveAndTransform:function(m){this.callSuper("_saveAndTransform",m),this._setBrushStyles(m),m.globalCompositeOperation=m===this.canvas.getContext()?"destination-out":"source-over"},needsFullRender:function(){return!0},onMouseDown:function(m,l){this.canvas._isMainEvent(l.e)&&(this._prepareForDrawing(m),this._captureDrawingPath(m),this.preparePattern(),this._isErasing=!0,this.canvas.fire("erasing:start"),this._render())},_render:function(){var m;this.inverted||(m=this.canvas.getContext(),this.callSuper("_render",m)),m=this.canvas.contextTop,this.canvas.clearContext(m),this.callSuper("_render",m),m.save();var l=this.canvas.getRetinaScaling(),v=1/l;m.scale(v,v),m.globalCompositeOperation="source-in",m.drawImage(this._patternCanvas,0,0),m.restore()},createPath:function(m){var l=this.callSuper("createPath",m);return l.globalCompositeOperation=this.inverted?"source-over":"destination-out",l.stroke=this.inverted?"white":"black",l},applyClipPathToPath:function(m,l,v){var _=e.util.invertTransform(m.calcTransformMatrix()),b=l.calcTransformMatrix(),y=l.absolutePositioned?_:e.util.multiplyTransformMatrices(_,v);return l.absolutePositioned=!1,e.util.applyTransformToObject(l,e.util.multiplyTransformMatrices(y,b)),m.clipPath=m.clipPath?e.util.mergeClipPaths(l,m.clipPath):l,m},clonePathWithClipPath:function(m,l,v){var _=l.calcTransformMatrix(),b=l.clipPath,y=this;m.clone(function(C){b.clone(function(S){v(y.applyClipPathToPath(C,S,_))},["absolutePositioned","inverted"])})},_addPathToObjectEraser:function(m,l){var v=this;if(m.forEachObject&&m.erasable==="deep"){var _=m._objects.filter(function(y){return y.erasable});_.length>0&&m.clipPath?this.clonePathWithClipPath(l,m,function(y){_.forEach(function(C){v._addPathToObjectEraser(C,y)})}):_.length>0&&_.forEach(function(y){v._addPathToObjectEraser(y,l)});return}var b=m.eraser;b||(b=new e.Eraser,m.eraser=b),l.clone(function(y){var C=e.util.multiplyTransformMatrices(e.util.invertTransform(m.calcTransformMatrix()),y.calcTransformMatrix());e.util.applyTransformToObject(y,C),b.addWithUpdate(y),m.set("dirty",!0),m.fire("erasing:end",{path:y}),m.group&&Array.isArray(v.__subTargets)&&v.__subTargets.push(m)})},applyEraserToCanvas:function(m){var l=this.canvas,v={};return["backgroundImage","overlayImage"].forEach(function(_){var b=l[_];b&&b.erasable&&(this._addPathToObjectEraser(b,m),v[_]=b)},this),v},_finalizeAndAddPath:function(){var m=this.canvas.contextTop,l=this.canvas;m.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate)),l.clearContext(l.contextTop),this._isErasing=!1;var v=this._points&&this._points.length>1?this.convertPointsToSVGPath(this._points):null;if(!v||this._isEmptySVGPath(v)){l.fire("erasing:end"),l.requestRenderAll();return}var _=this.createPath(v);_.setCoords(),l.fire("before:path:created",{path:_});var b=this.applyEraserToCanvas(_),y=this;this.__subTargets=[];var C=[];l.forEachObject(function(S){S.erasable&&S.intersectsWithObject(_,!0,!0)&&(y._addPathToObjectEraser(S,_),C.push(S))}),l.fire("erasing:end",{path:_,targets:C,subTargets:this.__subTargets,drawables:b}),delete this.__subTargets,l.requestRenderAll(),this._resetShadow(),l.fire("path:created",{path:_})}})}()})(qt);const dm=(i,e=1e3)=>{let t;return(...n)=>{clearTimeout(t),t=setTimeout(()=>{i(...n)},e)}},ci=Lt(2),vi=Lt("#000000"),ti=Lt("select"),ki=Lt(!1),Qa=Lt(null),Lr=Lt(null);class gm{constructor(e){ut(this,"isDrawing",Lt(!1));ut(this,"subscribeToStrokeWidth",null);ut(this,"subscribeToStrokeColor",null);ut(this,"clearBoard",()=>{this.canvas.clear(),this.resetEvents()});ut(this,"resetZoom",()=>{this.resetEvents(),this.canvas.setZoom(1)});ut(this,"defineModifiedListener",()=>{this.canvas.on("object:modified",()=>{this.saveBoard()})});ut(this,"resetEvents",()=>{ti.set("select"),this.canvas.defaultCursor="default",this.canvas.off(),this.canvas.isDrawingMode=!1,document.querySelectorAll(".fabric-toolbar-button.btn-neutral").forEach(e=>{e.classList.remove("btn-neutral"),e.classList.add("btn-ghost")}),this.subscribeToStrokeWidth&&this.subscribeToStrokeWidth(),this.subscribeToStrokeColor&&this.subscribeToStrokeColor(),this.setZoom(),this.defineModifiedListener()});ut(this,"setZoom",()=>{this.canvas.on("mouse:wheel",e=>{var t=e.e.deltaY,n=this.canvas.getZoom();n*=.999**t,n>1&&(n=1),n<.01&&(n=.01),this.canvas.setZoom(n),e.e.preventDefault(),e.e.stopPropagation()})});ut(this,"activateEraser",()=>{this.resetEvents(),setTimeout(()=>{ti.set("eraser"),this.canvas.freeDrawingBrush=new qt.fabric.EraserBrush(this.canvas),this.canvas.isDrawingMode=!0,this.subscribeToStrokeWidth=ci.subscribe(e=>{this.canvas.freeDrawingBrush.width=e*3})},100),this.canvas.on("mouse:up",()=>{this.saveBoard()})});ut(this,"drawline",e=>{this.resetEvents(),setTimeout(()=>{ti.set("line"),this.canvas.defaultCursor="crosshair";let t;this.canvas.on("mouse:down",n=>{this.isDrawing.set(!0);let h=this.canvas.getPointer(n.e),u=[h.x,h.y,h.x,h.y];t=new qt.fabric.Line(u,{strokeWidth:Rt(ci),stroke:Rt(vi)}),this.canvas.add(t),this.canvas.renderAll()}),this.canvas.on("mouse:move",n=>{if(!Rt(this.isDrawing))return;let h=this.canvas.getPointer(n.e);t.set({x2:h.x,y2:h.y}),this.canvas.renderAll()}),this.canvas.on("mouse:up",()=>{this.isDrawing.set(!1),this.saveBoard()})},100)});ut(this,"drawRect",e=>{this.resetEvents(),setTimeout(()=>{ti.set("rect"),this.canvas.defaultCursor="crosshair";let t;this.canvas.on("mouse:down",n=>{this.isDrawing.set(!0);let h=this.canvas.getPointer(n.e),u={x:h.x,y:h.y},p={x:h.x,y:h.y};t=new qt.fabric.Rect({left:u.x,top:u.y,width:p.x-u.x,height:p.y-u.y,strokeWidth:Rt(ci),stroke:Rt(vi),fill:"transparent"}),this.canvas.add(t),this.canvas.renderAll()}),this.canvas.on("mouse:move",n=>{if(!Rt(this.isDrawing))return;let h=this.canvas.getPointer(n.e);t&&t.left&&t.top&&(t.set({width:h.x-t.left,height:h.y-t.top}),this.canvas.renderAll())}),this.canvas.on("mouse:up",()=>{this.isDrawing.set(!1),this.saveBoard()})},100)});ut(this,"drawCircle",e=>{this.resetEvents(),setTimeout(()=>{ti.set("circle"),this.canvas.defaultCursor="crosshair";let t;this.canvas.on("mouse:down",n=>{this.isDrawing.set(!0);let h=this.canvas.getPointer(n.e),u={x:h.x,y:h.y},p={x:h.x,y:h.y},f=Math.abs((p.x-u.x)/2);t=new qt.fabric.Circle({left:u.x-f,top:u.y-f,radius:f,strokeWidth:Rt(ci),stroke:Rt(vi),fill:"transparent"}),this.canvas.add(t),this.canvas.renderAll()}),this.canvas.on("mouse:move",n=>{if(!Rt(this.isDrawing))return;let h=this.canvas.getPointer(n.e);if(t&&t.left){let u=Math.abs((h.x-t.left)/2);t.set({radius:u}),this.canvas.renderAll()}}),this.canvas.on("mouse:up",()=>{this.isDrawing.set(!1),this.saveBoard()})},100)});ut(this,"drawFreeform",e=>{this.resetEvents(),setTimeout(()=>{ti.set("freeform"),this.canvas.freeDrawingBrush=new qt.fabric.PencilBrush(this.canvas),this.canvas.isDrawingMode=!0,this.subscribeToStrokeWidth=ci.subscribe(t=>{this.canvas.freeDrawingBrush.width=t}),this.subscribeToStrokeColor=vi.subscribe(t=>{this.canvas.freeDrawingBrush.color=t}),this.canvas.on("mouse:down",()=>{this.isDrawing.set(!0)}),this.canvas.on("mouse:up",()=>{this.isDrawing.set(!1),this.saveBoard()})},100)});ut(this,"addText",(e="Edit me")=>{this.resetEvents(),setTimeout(()=>{ti.set("select");const t=new qt.fabric.IText(e,{left:50,top:50,fontSize:Rt(ci)*10,fill:Rt(vi)});this.canvas.add(t),this.saveBoard()},100)});ut(this,"pasteItem",(e=null)=>{this.resetEvents(),setTimeout(async()=>{},100)});ut(this,"startTakingScreenshot",async()=>{this.resetEvents(),setTimeout(async()=>{const e=await navigator.mediaDevices.getDisplayMedia({video:{displaySurface:"window",width:{ideal:1920,max:1920},height:{ideal:1080,max:1080}}}),t=e.getVideoTracks()[0];new ImageCapture(t).grabFrame().then(function(h){console.log(h);const u=document.getElementById("capturedStill");u.width=window.innerWidth,u.height=window.innerHeight,u.getContext("2d").drawImage(h,0,0,window.innerWidth,window.innerHeight)}),setTimeout(()=>{e.getTracks().forEach(h=>h.stop())},1e3),ki.set(!0)},100)});ut(this,"saveBoard",dm(()=>{Lr.set(this.canvas.toJSON())}));ut(this,"setFixed",e=>{this.canvas.getObjects().forEach(t=>{t.lockMovementX=e,t.lockMovementY=e})});ut(this,"enterDragMode",()=>{this.resetEvents(),setTimeout(()=>{ti.set("move");let e=!1,t,n;this.canvas.discardActiveObject(),this.canvas.defaultCursor="move",this.canvas.on("mouse:up",h=>{e=!1}),this.canvas.on("mouse:down",h=>{e=!0,t=h.e.clientX,n=h.e.clientY}),this.canvas.on("mouse:move",h=>{if(!e)return;let u=0,p=0;t&&(u=h.e.clientX-t),n&&(p=h.e.clientY-n),t=h.e.clientX,n=h.e.clientY;let f=new qt.fabric.Point(u,p);this.canvas.relativePan(f)})},100)});ut(this,"finishTakingScreenshot",e=>{qt.fabric.Image.fromURL(e,t=>{t.set({left:100,top:100}),this.canvas.add(t),this.canvas.renderAll(),this.saveBoard()})});this.canvas=e,this.isDrawing.subscribe(t=>{this.setFixed(t)}),document.onkeydown=t=>{t.key==="Delete"&&this.canvas.getActiveObjects().forEach(n=>{this.canvas.remove(n),this.saveBoard()})},document.addEventListener("paste",t=>{const n=t.clipboardData;if(n){const h=n.items;let u=null;h.length>0&&(u=h[0].kind),this.pasteItem(u)}}),Rt(Lr)&&this.canvas.loadFromJSON(Rt(Lr),async()=>{}),this.setZoom(),this.defineModifiedListener()}}var mm={grad:.9,turn:360,rad:360/(2*Math.PI)},ei=function(i){return typeof i=="string"?i.length>0:typeof i=="number"},Ot=function(i,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*i)/t+0},Xt=function(i,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),i>t?t:i>e?i:e},Za=function(i){return(i=isFinite(i)?i%360:0)>0?i:i+360},So=function(i){return{r:Xt(i.r,0,255),g:Xt(i.g,0,255),b:Xt(i.b,0,255),a:Xt(i.a)}},Fr=function(i){return{r:Ot(i.r),g:Ot(i.g),b:Ot(i.b),a:Ot(i.a,3)}},pm=/^#([0-9a-f]{3,8})$/i,ln=function(i){var e=i.toString(16);return e.length<2?"0"+e:e},$a=function(i){var e=i.r,t=i.g,n=i.b,h=i.a,u=Math.max(e,t,n),p=u-Math.min(e,t,n),f=p?u===e?(t-n)/p:u===t?2+(n-e)/p:4+(e-t)/p:0;return{h:60*(f<0?f+6:f),s:u?p/u*100:0,v:u/255*100,a:h}},el=function(i){var e=i.h,t=i.s,n=i.v,h=i.a;e=e/360*6,t/=100,n/=100;var u=Math.floor(e),p=n*(1-t),f=n*(1-(e-u)*t),r=n*(1-(1-e+u)*t),c=u%6;return{r:255*[n,f,p,p,r,n][c],g:255*[r,n,n,f,p,p][c],b:255*[p,p,r,n,n,f][c],a:h}},wo=function(i){return{h:Za(i.h),s:Xt(i.s,0,100),l:Xt(i.l,0,100),a:Xt(i.a)}},To=function(i){return{h:Ot(i.h),s:Ot(i.s),l:Ot(i.l),a:Ot(i.a,3)}},xo=function(i){return el((t=(e=i).s,{h:e.h,s:(t*=((n=e.l)<50?n:100-n)/100)>0?2*t/(n+t)*100:0,v:n+t,a:e.a}));var e,t,n},zi=function(i){return{h:(e=$a(i)).h,s:(h=(200-(t=e.s))*(n=e.v)/100)>0&&h<200?t*n/100/(h<=100?h:200-h)*100:0,l:h/2,a:e.a};var e,t,n,h},vm=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,_m=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,bm=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ym=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ts={string:[[function(i){var e=pm.exec(i);return e?(i=e[1]).length<=4?{r:parseInt(i[0]+i[0],16),g:parseInt(i[1]+i[1],16),b:parseInt(i[2]+i[2],16),a:i.length===4?Ot(parseInt(i[3]+i[3],16)/255,2):1}:i.length===6||i.length===8?{r:parseInt(i.substr(0,2),16),g:parseInt(i.substr(2,2),16),b:parseInt(i.substr(4,2),16),a:i.length===8?Ot(parseInt(i.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(i){var e=bm.exec(i)||ym.exec(i);return e?e[2]!==e[4]||e[4]!==e[6]?null:So({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(i){var e=vm.exec(i)||_m.exec(i);if(!e)return null;var t,n,h=wo({h:(t=e[1],n=e[2],n===void 0&&(n="deg"),Number(t)*(mm[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return xo(h)},"hsl"]],object:[[function(i){var e=i.r,t=i.g,n=i.b,h=i.a,u=h===void 0?1:h;return ei(e)&&ei(t)&&ei(n)?So({r:Number(e),g:Number(t),b:Number(n),a:Number(u)}):null},"rgb"],[function(i){var e=i.h,t=i.s,n=i.l,h=i.a,u=h===void 0?1:h;if(!ei(e)||!ei(t)||!ei(n))return null;var p=wo({h:Number(e),s:Number(t),l:Number(n),a:Number(u)});return xo(p)},"hsl"],[function(i){var e=i.h,t=i.s,n=i.v,h=i.a,u=h===void 0?1:h;if(!ei(e)||!ei(t)||!ei(n))return null;var p=function(f){return{h:Za(f.h),s:Xt(f.s,0,100),v:Xt(f.v,0,100),a:Xt(f.a)}}({h:Number(e),s:Number(t),v:Number(n),a:Number(u)});return el(p)},"hsv"]]},Oo=function(i,e){for(var t=0;t<e.length;t++){var n=e[t][0](i);if(n)return[n,e[t][1]]}return[null,void 0]},Cm=function(i){return typeof i=="string"?Oo(i.trim(),ts.string):typeof i=="object"&&i!==null?Oo(i,ts.object):[null,void 0]},Rr=function(i,e){var t=zi(i);return{h:t.h,s:Xt(t.s+100*e,0,100),l:t.l,a:t.a}},Ir=function(i){return(299*i.r+587*i.g+114*i.b)/1e3/255},ko=function(i,e){var t=zi(i);return{h:t.h,s:t.s,l:Xt(t.l+100*e,0,100),a:t.a}},is=function(){function i(e){this.parsed=Cm(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return i.prototype.isValid=function(){return this.parsed!==null},i.prototype.brightness=function(){return Ot(Ir(this.rgba),2)},i.prototype.isDark=function(){return Ir(this.rgba)<.5},i.prototype.isLight=function(){return Ir(this.rgba)>=.5},i.prototype.toHex=function(){return e=Fr(this.rgba),t=e.r,n=e.g,h=e.b,p=(u=e.a)<1?ln(Ot(255*u)):"","#"+ln(t)+ln(n)+ln(h)+p;var e,t,n,h,u,p},i.prototype.toRgb=function(){return Fr(this.rgba)},i.prototype.toRgbString=function(){return e=Fr(this.rgba),t=e.r,n=e.g,h=e.b,(u=e.a)<1?"rgba("+t+", "+n+", "+h+", "+u+")":"rgb("+t+", "+n+", "+h+")";var e,t,n,h,u},i.prototype.toHsl=function(){return To(zi(this.rgba))},i.prototype.toHslString=function(){return e=To(zi(this.rgba)),t=e.h,n=e.s,h=e.l,(u=e.a)<1?"hsla("+t+", "+n+"%, "+h+"%, "+u+")":"hsl("+t+", "+n+"%, "+h+"%)";var e,t,n,h,u},i.prototype.toHsv=function(){return e=$a(this.rgba),{h:Ot(e.h),s:Ot(e.s),v:Ot(e.v),a:Ot(e.a,3)};var e},i.prototype.invert=function(){return Dt({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},i.prototype.saturate=function(e){return e===void 0&&(e=.1),Dt(Rr(this.rgba,e))},i.prototype.desaturate=function(e){return e===void 0&&(e=.1),Dt(Rr(this.rgba,-e))},i.prototype.grayscale=function(){return Dt(Rr(this.rgba,-1))},i.prototype.lighten=function(e){return e===void 0&&(e=.1),Dt(ko(this.rgba,e))},i.prototype.darken=function(e){return e===void 0&&(e=.1),Dt(ko(this.rgba,-e))},i.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},i.prototype.alpha=function(e){return typeof e=="number"?Dt({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):Ot(this.rgba.a,3);var t},i.prototype.hue=function(e){var t=zi(this.rgba);return typeof e=="number"?Dt({h:e,s:t.s,l:t.l,a:t.a}):Ot(t.h)},i.prototype.isEqual=function(e){return this.toHex()===Dt(e).toHex()},i}(),Dt=function(i){return i instanceof is?i:new is(i)},Po=[],Sm=function(i){i.forEach(function(e){Po.indexOf(e)<0&&(e(is,ts),Po.push(e))})},jr=function(i){var e=i/255;return e<.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},Br=function(i){return .2126*jr(i.r)+.7152*jr(i.g)+.0722*jr(i.b)};function wm(i){i.prototype.luminance=function(){return e=Br(this.rgba),(t=2)===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n+0;var e,t,n},i.prototype.contrast=function(e){e===void 0&&(e="#FFF");var t,n,h,u,p,f,r,c=e instanceof i?e:new i(e);return u=this.rgba,p=c.toRgb(),f=Br(u),r=Br(p),t=f>r?(f+.05)/(r+.05):(r+.05)/(f+.05),(n=2)===void 0&&(n=0),h===void 0&&(h=Math.pow(10,n)),Math.floor(h*t)/h+0},i.prototype.isReadable=function(e,t){return e===void 0&&(e="#FFF"),t===void 0&&(t={}),this.contrast(e)>=(f=(p=(n=t).size)===void 0?"normal":p,(u=(h=n.level)===void 0?"AA":h)==="AAA"&&f==="normal"?7:u==="AA"&&f==="large"?3:4.5);var n,h,u,p,f}}const ii=Lt({ArrowLeft:0,ArrowUp:0,ArrowRight:0,ArrowDown:0}),ps=Wl(ii,i=>({...i,ArrowV:i.ArrowUp+i.ArrowDown,ArrowH:i.ArrowLeft+i.ArrowRight,ArrowVH:i.ArrowUp+i.ArrowDown+i.ArrowLeft+i.ArrowRight}));function vs(i,e=.001,t=.01){const u=Math.min(1,Math.max(1,i-50)/50);return e+(t-e)/2*(1-Math.cos(Math.PI*u))}const{window:Ii}=rs;function Tm(i){let e,t,n,h,u,p;var f=i[2].pickerIndicator;function r(c,d){return{props:{pos:c[9],isDark:c[5],hex:Dt({h:c[3],s:c[0],v:c[1],a:1}).toHex()}}}return f&&(t=vt(f,r(i))),{c(){var c,d;e=ge("div"),t&&B(t.$$.fragment),Q(e,"class","picker svelte-uiwgvv"),Q(e,"tabindex","0"),It(e,"--color-bg",i[8]),Q(e,"aria-label","saturation and brightness picker (arrow keyboard navigation)"),Q(e,"aria-valuemin",0),Q(e,"aria-valuemax",100),Q(e,"aria-valuetext",n="saturation "+((c=i[9].x)==null?void 0:c.toFixed())+"%, brightness "+((d=i[9].y)==null?void 0:d.toFixed())+"%")},m(c,d){Z(c,e,d),t&&I(t,e,null),i[18](e),h=!0,u||(p=[Fe(e,"mousedown",Nt(i[10])),Fe(e,"touchstart",i[16]),Fe(e,"touchmove",Nt(i[16])),Fe(e,"touchend",i[16])],u=!0)},p(c,d){var s,a;if(d&4&&f!==(f=c[2].pickerIndicator)){if(t){Ne();const o=t;E(o.$$.fragment,1,0,()=>{j(o,1)}),Xe()}f?(t=vt(f,r(c)),B(t.$$.fragment),x(t.$$.fragment,1),I(t,e,null)):t=null}else if(f){const o={};d&512&&(o.pos=c[9]),d&32&&(o.isDark=c[5]),d&11&&(o.hex=Dt({h:c[3],s:c[0],v:c[1],a:1}).toHex()),t.$set(o)}(!h||d&256)&&It(e,"--color-bg",c[8]),(!h||d&512&&n!==(n="saturation "+((s=c[9].x)==null?void 0:s.toFixed())+"%, brightness "+((a=c[9].y)==null?void 0:a.toFixed())+"%"))&&Q(e,"aria-valuetext",n)},i(c){h||(t&&x(t.$$.fragment,c),h=!0)},o(c){t&&E(t.$$.fragment,c),h=!1},d(c){c&&J(e),t&&j(t),i[18](null),u=!1,bt(p)}}}function xm(i){let e,t,n,h,u;var p=i[2].pickerWrapper;function f(r,c){return{props:{focused:r[7],toRight:r[4],$$slots:{default:[Tm]},$$scope:{ctx:r}}}}return p&&(e=vt(p,f(i))),{c(){e&&B(e.$$.fragment),t=yt()},m(r,c){e&&I(e,r,c),Z(r,t,c),n=!0,h||(u=[Fe(Ii,"mouseup",i[11]),Fe(Ii,"mousedown",i[13]),Fe(Ii,"mousemove",i[12]),Fe(Ii,"keyup",i[14]),Fe(Ii,"keydown",i[15])],h=!0)},p(r,[c]){if(c&4&&p!==(p=r[2].pickerWrapper)){if(e){Ne();const d=e;E(d.$$.fragment,1,0,()=>{j(d,1)}),Xe()}p?(e=vt(p,f(r)),B(e.$$.fragment),x(e.$$.fragment,1),I(e,t.parentNode,t)):e=null}else if(p){const d={};c&128&&(d.focused=r[7]),c&16&&(d.toRight=r[4]),c&67109743&&(d.$$scope={dirty:c,ctx:r}),e.$set(d)}},i(r){n||(e&&x(e.$$.fragment,r),n=!0)},o(r){e&&E(e.$$.fragment,r),n=!1},d(r){r&&J(t),e&&j(e,r),h=!1,bt(u)}}}function Eo(i,e,t){return Math.min(Math.max(e,i),t)}function Om(i,e,t){let n,h;dt(i,ii,q=>t(22,n=q)),dt(i,ps,q=>t(23,h=q));let{components:u}=e,{h:p}=e,{s:f}=e,{v:r}=e,{isOpen:c}=e,{toRight:d}=e,{isDark:s}=e,a,o=!1,g=!1,m,l,v,_={x:100,y:0};function b(q){let te={x:q.offsetX,y:q.offsetY},re=a.getBoundingClientRect().width,me=a.getBoundingClientRect().height;t(0,f=Eo(te.x/re,0,1)*100),t(1,r=Eo((me-te.y)/me,0,1)*100)}function y(q){q.button===0&&(o=!0,b(q))}function C(){o=!1}function S(q){o&&b({offsetX:Math.max(0,Math.min(a.getBoundingClientRect().width,q.clientX-a.getBoundingClientRect().left)),offsetY:Math.max(0,Math.min(a.getBoundingClientRect().height,q.clientY-a.getBoundingClientRect().top))})}function w(q){q.target.isSameNode(a)||t(7,g=!1)}function O(q){var te;q.key==="Tab"&&t(7,g=!!((te=document.activeElement)!=null&&te.isSameNode(a))),!q.repeat&&g&&N()}function A(q){g&&h.ArrowVH&&(q.preventDefault(),q.repeat||N())}function N(){h.ArrowVH?m||(l=0,m=window.setInterval(()=>{let q=vs(++l);t(0,f=Math.min(100,Math.max(0,f+(n.ArrowRight-n.ArrowLeft)*q*100))),t(1,r=Math.min(100,Math.max(0,r+(n.ArrowUp-n.ArrowDown)*q*100)))},10)):m&&(clearInterval(m),m=void 0)}function W(q){q.preventDefault(),b({offsetX:q.changedTouches[0].clientX-a.getBoundingClientRect().left,offsetY:q.changedTouches[0].clientY-a.getBoundingClientRect().top})}function Y(q){Le[q?"unshift":"push"](()=>{a=q,t(6,a)})}return i.$$set=q=>{"components"in q&&t(2,u=q.components),"h"in q&&t(3,p=q.h),"s"in q&&t(0,f=q.s),"v"in q&&t(1,r=q.v),"isOpen"in q&&t(17,c=q.isOpen),"toRight"in q&&t(4,d=q.toRight),"isDark"in q&&t(5,s=q.isDark)},i.$$.update=()=>{i.$$.dirty&8&&typeof p=="number"&&t(8,v=Dt({h:p,s:100,v:100,a:1}).toHex()),i.$$.dirty&67&&typeof f=="number"&&typeof r=="number"&&a&&t(9,_={x:f,y:100-r})},[f,r,u,p,d,s,a,g,v,_,y,C,S,w,O,A,W,c,Y]}class km extends Ie{constructor(e){super(),Re(this,e,Om,xm,Me,{components:2,h:3,s:0,v:1,isOpen:17,toRight:4,isDark:5})}}const{window:fn}=rs;function Pm(i){let e,t,n,h,u,p;var f=i[1].sliderIndicator;function r(c,d){return{props:{pos:c[4],toRight:c[2]}}}return f&&(t=vt(f,r(i))),{c(){e=ge("div"),t&&B(t.$$.fragment),Q(e,"class","slider svelte-14nweqy"),Q(e,"tabindex","0"),Q(e,"aria-label","hue picker (arrow keyboard navigation)"),Q(e,"aria-valuemin",0),Q(e,"aria-valuemax",360),Q(e,"aria-valuenow",n=Math.round(i[0])),Et(e,"to-right",i[2])},m(c,d){Z(c,e,d),t&&I(t,e,null),i[12](e),h=!0,u||(p=[Fe(e,"mousedown",Nt(i[6])),Fe(e,"touchstart",i[11]),Fe(e,"touchmove",Nt(i[11])),Fe(e,"touchend",i[11])],u=!0)},p(c,d){if(d&2&&f!==(f=c[1].sliderIndicator)){if(t){Ne();const s=t;E(s.$$.fragment,1,0,()=>{j(s,1)}),Xe()}f?(t=vt(f,r(c)),B(t.$$.fragment),x(t.$$.fragment,1),I(t,e,null)):t=null}else if(f){const s={};d&16&&(s.pos=c[4]),d&4&&(s.toRight=c[2]),t.$set(s)}(!h||d&1&&n!==(n=Math.round(c[0])))&&Q(e,"aria-valuenow",n),(!h||d&4)&&Et(e,"to-right",c[2])},i(c){h||(t&&x(t.$$.fragment,c),h=!0)},o(c){t&&E(t.$$.fragment,c),h=!1},d(c){c&&J(e),t&&j(t),i[12](null),u=!1,bt(p)}}}function Em(i){let e,t,n,h,u;var p=i[1].sliderWrapper;function f(r,c){return{props:{focused:r[5],toRight:r[2],$$slots:{default:[Pm]},$$scope:{ctx:r}}}}return p&&(e=vt(p,f(i))),{c(){e&&B(e.$$.fragment),t=yt()},m(r,c){e&&I(e,r,c),Z(r,t,c),n=!0,h||(u=[Fe(fn,"mouseup",i[7]),Fe(fn,"mousemove",i[8]),Fe(fn,"keyup",i[9]),Fe(fn,"keydown",i[10])],h=!0)},p(r,[c]){if(c&2&&p!==(p=r[1].sliderWrapper)){if(e){Ne();const d=e;E(d.$$.fragment,1,0,()=>{j(d,1)}),Xe()}p?(e=vt(p,f(r)),B(e.$$.fragment),x(e.$$.fragment,1),I(e,t.parentNode,t)):e=null}else if(p){const d={};c&32&&(d.focused=r[5]),c&4&&(d.toRight=r[2]),c&1048607&&(d.$$scope={dirty:c,ctx:r}),e.$set(d)}},i(r){n||(e&&x(e.$$.fragment,r),n=!0)},o(r){e&&E(e.$$.fragment,r),n=!1},d(r){r&&J(t),e&&j(e,r),h=!1,bt(u)}}}function Am(i,e,t){let n,h;dt(i,ii,w=>t(16,n=w)),dt(i,ps,w=>t(17,h=w));let{components:u}=e,{toRight:p}=e,f,r=!1,{h:c}=e,d=0,s=!1,a,o;function g(w){const O=p?f.getBoundingClientRect().width:f.getBoundingClientRect().height,A=Math.max(0,Math.min(O,w));t(0,c=A/O*360)}function m(w){w.button===0&&(r=!0,g(p?w.offsetX:w.offsetY))}function l(){r=!1}function v(w){r&&g(p?w.clientX-f.getBoundingClientRect().left:w.clientY-f.getBoundingClientRect().top)}function _(w){var O;w.key==="Tab"&&t(5,s=!!((O=document.activeElement)!=null&&O.isSameNode(f))),!w.repeat&&s&&y()}function b(w){s&&h.ArrowVH&&(w.preventDefault(),w.repeat||y())}function y(){h.ArrowVH?a||(o=0,a=window.setInterval(()=>{const w=vs(++o),O=p?n.ArrowRight-n.ArrowLeft:n.ArrowDown-n.ArrowUp;t(0,c=Math.min(360,Math.max(0,c+O*360*w)))},10)):a&&(clearInterval(a),a=void 0)}function C(w){w.preventDefault(),g(p?w.changedTouches[0].clientX-f.getBoundingClientRect().left:w.changedTouches[0].clientY-f.getBoundingClientRect().top)}function S(w){Le[w?"unshift":"push"](()=>{f=w,t(3,f)})}return i.$$set=w=>{"components"in w&&t(1,u=w.components),"toRight"in w&&t(2,p=w.toRight),"h"in w&&t(0,c=w.h)},i.$$.update=()=>{i.$$.dirty&9&&typeof c=="number"&&f&&t(4,d=100*c/360)},[c,u,p,f,d,s,m,l,v,_,b,C,S]}class Mm extends Ie{constructor(e){super(),Re(this,e,Am,Em,Me,{components:1,toRight:2,h:0})}}const{window:cn}=rs;function Dm(i){let e,t,n,h,u,p,f;var r=i[0].alphaIndicator;function c(d,s){return{props:{pos:d[5],toRight:d[2]}}}return r&&(t=vt(r,c(i))),{c(){var d,s;e=ge("div"),t&&B(t.$$.fragment),Q(e,"class","alpha svelte-f2vq53"),Q(e,"tabindex","0"),It(e,"--alpha-color",(d=i[1])==null?void 0:d.substring(0,7)),Q(e,"aria-label","transparency picker (arrow keyboard navigation)"),Q(e,"aria-valuemin",0),Q(e,"aria-valuemax",100),Q(e,"aria-valuenow",n=Math.round(i[5])),Q(e,"aria-valuetext",h=((s=i[5])==null?void 0:s.toFixed())+"%"),Et(e,"to-right",i[2])},m(d,s){Z(d,e,s),t&&I(t,e,null),i[14](e),u=!0,p||(f=[Fe(e,"mousedown",Nt(i[6])),Fe(e,"touchstart",i[11]),Fe(e,"touchmove",Nt(i[11])),Fe(e,"touchend",i[11])],p=!0)},p(d,s){var a,o;if(s&1&&r!==(r=d[0].alphaIndicator)){if(t){Ne();const g=t;E(g.$$.fragment,1,0,()=>{j(g,1)}),Xe()}r?(t=vt(r,c(d)),B(t.$$.fragment),x(t.$$.fragment,1),I(t,e,null)):t=null}else if(r){const g={};s&32&&(g.pos=d[5]),s&4&&(g.toRight=d[2]),t.$set(g)}(!u||s&2)&&It(e,"--alpha-color",(a=d[1])==null?void 0:a.substring(0,7)),(!u||s&32&&n!==(n=Math.round(d[5])))&&Q(e,"aria-valuenow",n),(!u||s&32&&h!==(h=((o=d[5])==null?void 0:o.toFixed())+"%"))&&Q(e,"aria-valuetext",h),(!u||s&4)&&Et(e,"to-right",d[2])},i(d){u||(t&&x(t.$$.fragment,d),u=!0)},o(d){t&&E(t.$$.fragment,d),u=!1},d(d){d&&J(e),t&&j(t),i[14](null),p=!1,bt(f)}}}function Lm(i){let e,t,n,h,u;var p=i[0].alphaWrapper;function f(r,c){return{props:{focused:r[4],toRight:r[2],$$slots:{default:[Dm]},$$scope:{ctx:r}}}}return p&&(e=vt(p,f(i))),{c(){e&&B(e.$$.fragment),t=yt()},m(r,c){e&&I(e,r,c),Z(r,t,c),n=!0,h||(u=[Fe(cn,"mouseup",i[7]),Fe(cn,"mousemove",i[8]),Fe(cn,"keyup",i[9]),Fe(cn,"keydown",i[10])],h=!0)},p(r,[c]){if(c&1&&p!==(p=r[0].alphaWrapper)){if(e){Ne();const d=e;E(d.$$.fragment,1,0,()=>{j(d,1)}),Xe()}p?(e=vt(p,f(r)),B(e.$$.fragment),x(e.$$.fragment,1),I(e,t.parentNode,t)):e=null}else if(p){const d={};c&16&&(d.focused=r[4]),c&4&&(d.toRight=r[2]),c&4194351&&(d.$$scope={dirty:c,ctx:r}),e.$set(d)}},i(r){n||(e&&x(e.$$.fragment,r),n=!0)},o(r){e&&E(e.$$.fragment,r),n=!1},d(r){r&&J(t),e&&j(e,r),h=!1,bt(u)}}}function Fm(i,e,t){let n,h;dt(i,ii,A=>t(18,n=A)),dt(i,ps,A=>t(19,h=A));let{components:u}=e,{isOpen:p}=e,{a:f=1}=e,{hex:r}=e,{toRight:c}=e,d,s=!1,a=!1,o,g,m;function l(A){const N=c?d.getBoundingClientRect().width:d.getBoundingClientRect().height,W=Math.max(0,Math.min(N,A));t(12,f=W/N)}function v(A){A.button===0&&(s=!0,l(c?A.offsetX:A.offsetY))}function _(){s=!1}function b(A){s&&l(c?A.clientX-d.getBoundingClientRect().left:A.clientY-d.getBoundingClientRect().top)}function y(A){var N;A.key==="Tab"&&t(4,a=!!((N=document.activeElement)!=null&&N.isSameNode(d))),!A.repeat&&a&&S()}function C(A){a&&h.ArrowVH&&(A.preventDefault(),A.repeat||S())}function S(){h.ArrowVH?o||(g=0,o=window.setInterval(()=>{const A=vs(++g),N=c?n.ArrowRight-n.ArrowLeft:n.ArrowDown-n.ArrowUp;t(12,f=Math.min(1,Math.max(0,f+N*A)))},10)):o&&(clearInterval(o),o=void 0)}function w(A){A.preventDefault(),l(c?A.changedTouches[0].clientX-d.getBoundingClientRect().left:A.changedTouches[0].clientY-d.getBoundingClientRect().top)}function O(A){Le[A?"unshift":"push"](()=>{d=A,t(3,d)})}return i.$$set=A=>{"components"in A&&t(0,u=A.components),"isOpen"in A&&t(13,p=A.isOpen),"a"in A&&t(12,f=A.a),"hex"in A&&t(1,r=A.hex),"toRight"in A&&t(2,c=A.toRight)},i.$$.update=()=>{i.$$.dirty&4104&&typeof f=="number"&&d&&t(5,m=100*f)},[u,r,c,d,a,m,v,_,b,y,C,w,f,p,O]}class Rm extends Ie{constructor(e){super(),Re(this,e,Fm,Lm,Me,{components:0,isOpen:13,a:12,hex:1,toRight:2})}}function Im(i){let e,t,n,h,u,p,f,r,c,d=i[2]&&Ao(i);return{c(){e=ge("div"),t=ge("input"),n=ue(),h=ge("input"),u=ue(),p=ge("input"),f=ue(),d&&d.c(),Q(t,"aria-label","hue chanel color"),t.value=i[8],Q(t,"type","number"),Q(t,"min","0"),Q(t,"max","360"),Q(t,"class","svelte-11z4jba"),Q(h,"aria-label","saturation chanel color"),h.value=i[7],Q(h,"type","number"),Q(h,"min","0"),Q(h,"max","100"),Q(h,"class","svelte-11z4jba"),Q(p,"aria-label","brightness chanel color"),p.value=i[6],Q(p,"type","number"),Q(p,"min","0"),Q(p,"max","100"),Q(p,"class","svelte-11z4jba"),Q(e,"class","input-container svelte-11z4jba")},m(s,a){Z(s,e,a),se(e,t),se(e,n),se(e,h),se(e,u),se(e,p),se(e,f),d&&d.m(e,null),r||(c=[Fe(t,"input",i[12]("h")),Fe(h,"input",i[12]("s")),Fe(p,"input",i[12]("v"))],r=!0)},p(s,a){a&256&&t.value!==s[8]&&(t.value=s[8]),a&128&&h.value!==s[7]&&(h.value=s[7]),a&64&&p.value!==s[6]&&(p.value=s[6]),s[2]?d?d.p(s,a):(d=Ao(s),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},d(s){s&&J(e),d&&d.d(),r=!1,bt(c)}}}function jm(i){let e,t,n,h,u,p,f,r,c,d,s,a,o=i[2]&&Mo(i);return{c(){e=ge("div"),t=ge("input"),h=ue(),u=ge("input"),f=ue(),r=ge("input"),d=ue(),o&&o.c(),Q(t,"aria-label","red chanel color"),t.value=n=i[0].r,Q(t,"type","number"),Q(t,"min","0"),Q(t,"max","255"),Q(t,"class","svelte-11z4jba"),Q(u,"aria-label","green chanel color"),u.value=p=i[0].g,Q(u,"type","number"),Q(u,"min","0"),Q(u,"max","255"),Q(u,"class","svelte-11z4jba"),Q(r,"aria-label","blue chanel color"),r.value=c=i[0].b,Q(r,"type","number"),Q(r,"min","0"),Q(r,"max","255"),Q(r,"class","svelte-11z4jba"),Q(e,"class","input-container svelte-11z4jba")},m(g,m){Z(g,e,m),se(e,t),se(e,h),se(e,u),se(e,f),se(e,r),se(e,d),o&&o.m(e,null),s||(a=[Fe(t,"input",i[11]("r")),Fe(u,"input",i[11]("g")),Fe(r,"input",i[11]("b"))],s=!0)},p(g,m){m&1&&n!==(n=g[0].r)&&t.value!==n&&(t.value=n),m&1&&p!==(p=g[0].g)&&u.value!==p&&(u.value=p),m&1&&c!==(c=g[0].b)&&r.value!==c&&(r.value=c),g[2]?o?o.p(g,m):(o=Mo(g),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(g){g&&J(e),o&&o.d(),s=!1,bt(a)}}}function Bm(i){let e,t,n,h,u,p=i[2]&&Do(i);return{c(){e=ge("div"),t=ge("input"),n=ue(),p&&p.c(),t.value=i[1],It(t,"flex","3"),Q(t,"class","svelte-11z4jba"),Q(e,"class","input-container svelte-11z4jba")},m(f,r){Z(f,e,r),se(e,t),se(e,n),p&&p.m(e,null),h||(u=Fe(t,"input",i[10]),h=!0)},p(f,r){r&2&&t.value!==f[1]&&(t.value=f[1]),f[2]?p?p.p(f,r):(p=Do(f),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},d(f){f&&J(e),p&&p.d(),h=!1,u()}}}function Ao(i){let e,t,n;return{c(){e=ge("input"),Q(e,"aria-label","transparency chanel color"),e.value=i[5],Q(e,"type","number"),Q(e,"min","0"),Q(e,"max","1"),Q(e,"step","0.01"),Q(e,"class","svelte-11z4jba")},m(h,u){Z(h,e,u),t||(n=Fe(e,"input",i[12]("a")),t=!0)},p(h,u){u&32&&e.value!==h[5]&&(e.value=h[5])},d(h){h&&J(e),t=!1,n()}}}function Mo(i){let e,t,n;return{c(){e=ge("input"),Q(e,"aria-label","transparency chanel color"),e.value=i[5],Q(e,"type","number"),Q(e,"min","0"),Q(e,"max","1"),Q(e,"step","0.01"),Q(e,"class","svelte-11z4jba")},m(h,u){Z(h,e,u),t||(n=Fe(e,"input",i[11]("a")),t=!0)},p(h,u){u&32&&e.value!==h[5]&&(e.value=h[5])},d(h){h&&J(e),t=!1,n()}}}function Do(i){let e,t,n;return{c(){e=ge("input"),Q(e,"aria-label","hexadecimal color"),e.value=i[5],Q(e,"type","number"),Q(e,"min","0"),Q(e,"max","1"),Q(e,"step","0.01"),Q(e,"class","svelte-11z4jba")},m(h,u){Z(h,e,u),t||(n=Fe(e,"input",i[11]("a")),t=!0)},p(h,u){u&32&&e.value!==h[5]&&(e.value=h[5])},d(h){h&&J(e),t=!1,n()}}}function Lo(i){let e,t=i[9][i[4]]+"",n,h,u,p;return{c(){e=ge("button"),n=We(t),Q(e,"aria-label",h="change inputs to "+i[9][(i[4]+1)%3]),Q(e,"class","svelte-11z4jba")},m(f,r){Z(f,e,r),se(e,n),u||(p=Fe(e,"click",i[14]),u=!0)},p(f,r){r&16&&t!==(t=f[9][f[4]]+"")&&Vt(n,t),r&16&&h!==(h="change inputs to "+f[9][(f[4]+1)%3])&&Q(e,"aria-label",h)},d(f){f&&J(e),u=!1,p()}}}function Nm(i){let e,t;function n(f,r){return f[4]===0?Bm:f[4]===1?jm:Im}let h=n(i),u=h(i),p=i[3]&&Lo(i);return{c(){e=ge("div"),u.c(),t=ue(),p&&p.c(),Q(e,"class","text-input svelte-11z4jba")},m(f,r){Z(f,e,r),u.m(e,null),se(e,t),p&&p.m(e,null)},p(f,[r]){h===(h=n(f))&&u?u.p(f,r):(u.d(1),u=h(f),u&&(u.c(),u.m(e,t))),f[3]?p?p.p(f,r):(p=Lo(f),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},i:we,o:we,d(f){f&&J(e),u.d(),p&&p.d()}}}const Xm=/^#?([A-F0-9]{6}|[A-F0-9]{8})$/i;function zm(i,e,t){let n,h,u,p,{isAlpha:f}=e,{rgb:r}=e,{hsv:c}=e,{hex:d}=e,{canChangeMode:s}=e;const a=["HEX","RGB","HSV"];let o=0;function g(_){const b=_.target;Xm.test(b.value)&&t(1,d=b.value)}function m(_){return function(b){t(0,r={...r,[_]:parseFloat(b.target.value)})}}function l(_){return function(b){t(13,c={...c,[_]:parseFloat(b.target.value)})}}const v=()=>t(4,o=(o+1)%3);return i.$$set=_=>{"isAlpha"in _&&t(2,f=_.isAlpha),"rgb"in _&&t(0,r=_.rgb),"hsv"in _&&t(13,c=_.hsv),"hex"in _&&t(1,d=_.hex),"canChangeMode"in _&&t(3,s=_.canChangeMode)},i.$$.update=()=>{i.$$.dirty&8192&&t(8,n=Math.round(c.h)),i.$$.dirty&8192&&t(7,h=Math.round(c.s)),i.$$.dirty&8192&&t(6,u=Math.round(c.v)),i.$$.dirty&8192&&t(5,p=c.a===void 0?1:Math.round(c.a*100)/100)},[r,d,f,s,o,p,u,h,n,a,g,m,l,c,v]}class Wm extends Ie{constructor(e){super(),Re(this,e,zm,Nm,Me,{isAlpha:2,rgb:0,hsv:13,hex:1,canChangeMode:3})}}function Hm(i){let e;return{c(){e=ge("div"),Q(e,"class","slider-indicator svelte-13znx8u"),It(e,"top",i[0])},m(t,n){Z(t,e,n)},p(t,[n]){n&1&&It(e,"top",t[0])},i:we,o:we,d(t){t&&J(e)}}}function Vm(i,e,t){let n,{pos:h}=e,{toRight:u}=e;return i.$$set=p=>{"pos"in p&&t(1,h=p.pos),"toRight"in p&&t(2,u=p.toRight)},i.$$.update=()=>{i.$$.dirty&2&&t(0,n=`calc(${h} * (var(--picker-height, 200px) - 14px) / 100 + 2px)`)},[n,h,u]}class Fo extends Ie{constructor(e){super(),Re(this,e,Vm,Hm,Me,{pos:1,toRight:2})}}function Ym(i){let e,t;return{c(){e=ge("div"),Q(e,"class","picker-indicator svelte-1nw247x"),Q(e,"style",t=`left: ${i[2]}; top: ${i[1]}; box-shadow: 0 0 4px ${i[0]?"white":"black"};`)},m(n,h){Z(n,e,h)},p(n,[h]){h&7&&t!==(t=`left: ${n[2]}; top: ${n[1]}; box-shadow: 0 0 4px ${n[0]?"white":"black"};`)&&Q(e,"style",t)},i:we,o:we,d(n){n&&J(e)}}}function Um(i,e,t){let n,h,{pos:u}=e,{hex:p}=e,{isDark:f}=e;return i.$$set=r=>{"pos"in r&&t(3,u=r.pos),"hex"in r&&t(4,p=r.hex),"isDark"in r&&t(0,f=r.isDark)},i.$$.update=()=>{i.$$.dirty&8&&t(2,n=`calc(${u.x} * (var(--picker-width, 200px) - 14px) / 100 + 2px)`),i.$$.dirty&8&&t(1,h=`calc(${u.y} * (var(--picker-height, 200px) - 14px) / 100 + 2px)`)},[f,h,n,u,p]}class Gm extends Ie{constructor(e){super(),Re(this,e,Um,Ym,Me,{pos:3,hex:4,isDark:0})}}function qm(i){let e,t;return{c:we,m(n,h){e||(t=[Fe(window,"keyup",i[0]),Fe(window,"keydown",i[1])],e=!0)},p:we,i:we,o:we,d(n){e=!1,bt(t)}}}function Km(i,e,t){let n;dt(i,ii,p=>t(2,n=p));function h(p){["ArrowLeft","ArrowUp","ArrowRight","ArrowDown"].includes(p.key)&&(kt(ii,n[p.key]=0,n),ii.set(n))}function u(p){["ArrowLeft","ArrowUp","ArrowRight","ArrowDown"].includes(p.key)&&(p.repeat||(kt(ii,n[p.key]=1,n),ii.set(n)))}return[h,u]}class Jm extends Ie{constructor(e){super(),Re(this,e,Km,qm,Me,{})}}function Qm(i){let e,t;const n=i[3].default,h=st(n,i,i[2],null);return{c(){e=ge("div"),h&&h.c(),Q(e,"class","picker-wrapper svelte-1hhmcjg"),Et(e,"focused",i[0])},m(u,p){Z(u,e,p),h&&h.m(e,null),t=!0},p(u,[p]){h&&h.p&&(!t||p&4)&&at(h,n,u,u[2],t?ot(n,u[2],p,null):lt(u[2]),null),(!t||p&1)&&Et(e,"focused",u[0])},i(u){t||(x(h,u),t=!0)},o(u){E(h,u),t=!1},d(u){u&&J(e),h&&h.d(u)}}}function Zm(i,e,t){let{$$slots:n={},$$scope:h}=e,{focused:u}=e,{toRight:p}=e;return i.$$set=f=>{"focused"in f&&t(0,u=f.focused),"toRight"in f&&t(1,p=f.toRight),"$$scope"in f&&t(2,h=f.$$scope)},[u,p,h,n]}class $m extends Ie{constructor(e){super(),Re(this,e,Zm,Qm,Me,{focused:0,toRight:1})}}function ep(i){let e,t;const n=i[3].default,h=st(n,i,i[2],null);return{c(){e=ge("div"),h&&h.c(),Q(e,"class","slider-wrapper svelte-1udewng"),Et(e,"focused",i[0])},m(u,p){Z(u,e,p),h&&h.m(e,null),t=!0},p(u,[p]){h&&h.p&&(!t||p&4)&&at(h,n,u,u[2],t?ot(n,u[2],p,null):lt(u[2]),null),(!t||p&1)&&Et(e,"focused",u[0])},i(u){t||(x(h,u),t=!0)},o(u){E(h,u),t=!1},d(u){u&&J(e),h&&h.d(u)}}}function tp(i,e,t){let{$$slots:n={},$$scope:h}=e,{focused:u}=e,{toRight:p}=e;return i.$$set=f=>{"focused"in f&&t(0,u=f.focused),"toRight"in f&&t(1,p=f.toRight),"$$scope"in f&&t(2,h=f.$$scope)},[u,p,h,n]}class Ro extends Ie{constructor(e){super(),Re(this,e,tp,ep,Me,{focused:0,toRight:1})}}function ip(i){let e,t,n,h,u,p,f,r,c,d,s;return{c(){e=ge("label"),t=ge("div"),n=ge("input"),h=ue(),u=ge("div"),p=ue(),f=ge("div"),r=ue(),c=We(i[2]),Q(n,"type","color"),n.value=i[1],Q(n,"aria-haspopup","dialog"),Q(n,"class","svelte-2ybi8r"),Q(u,"class","alpha svelte-2ybi8r"),Q(f,"class","color svelte-2ybi8r"),It(f,"background",i[1]),Q(t,"class","container svelte-2ybi8r"),Q(e,"class","svelte-2ybi8r")},m(a,o){Z(a,e,o),se(e,t),se(t,n),se(t,h),se(t,u),se(t,p),se(t,f),se(e,r),se(e,c),i[4](e),d||(s=[Fe(n,"click",Nt(np)),Fe(n,"mousedown",Nt(rp)),Fe(e,"click",Nt(sp)),Fe(e,"mousedown",Nt(op))],d=!0)},p(a,[o]){o&2&&(n.value=a[1]),o&2&&It(f,"background",a[1]),o&4&&Vt(c,a[2])},i:we,o:we,d(a){a&&J(e),i[4](null),d=!1,bt(s)}}}const np=()=>{},rp=()=>{},sp=()=>{},op=()=>{};function ap(i,e,t){let{labelWrapper:n}=e,{hex:h}=e,{label:u}=e,{isOpen:p}=e;function f(r){Le[r?"unshift":"push"](()=>{n=r,t(0,n)})}return i.$$set=r=>{"labelWrapper"in r&&t(0,n=r.labelWrapper),"hex"in r&&t(1,h=r.hex),"label"in r&&t(2,u=r.label),"isOpen"in r&&t(3,p=r.isOpen)},[n,h,u,p,f]}class lp extends Ie{constructor(e){super(),Re(this,e,ap,ip,Me,{labelWrapper:0,hex:1,label:2,isOpen:3})}}function fp(i){let e,t,n;const h=i[5].default,u=st(h,i,i[4],null);return{c(){e=ge("div"),u&&u.c(),Q(e,"class","wrapper svelte-6lhts"),Q(e,"role",t=i[2]?"dialog":void 0),Q(e,"aria-label","color picker"),Et(e,"isOpen",i[1]),Et(e,"isPopup",i[2])},m(p,f){Z(p,e,f),u&&u.m(e,null),i[6](e),n=!0},p(p,[f]){u&&u.p&&(!n||f&16)&&at(u,h,p,p[4],n?ot(h,p[4],f,null):lt(p[4]),null),(!n||f&4&&t!==(t=p[2]?"dialog":void 0))&&Q(e,"role",t),(!n||f&2)&&Et(e,"isOpen",p[1]),(!n||f&4)&&Et(e,"isPopup",p[2])},i(p){n||(x(u,p),n=!0)},o(p){E(u,p),n=!1},d(p){p&&J(e),u&&u.d(p),i[6](null)}}}function cp(i,e,t){let{$$slots:n={},$$scope:h}=e,{wrapper:u}=e,{isOpen:p}=e,{isPopup:f}=e,{toRight:r}=e;function c(d){Le[d?"unshift":"push"](()=>{u=d,t(0,u)})}return i.$$set=d=>{"wrapper"in d&&t(0,u=d.wrapper),"isOpen"in d&&t(1,p=d.isOpen),"isPopup"in d&&t(2,f=d.isPopup),"toRight"in d&&t(3,r=d.toRight),"$$scope"in d&&t(4,h=d.$$scope)},[u,p,f,r,h,n,c]}class up extends Ie{constructor(e){super(),Re(this,e,cp,fp,Me,{wrapper:0,isOpen:1,isPopup:2,toRight:3})}}function Io(i,e,t){const n=i.slice();return n[9]=e[t].contrast,n[10]=e[t].hex,n[11]=e[t].placeholder,n[12]=e[t].reverse,n[13]=e[t].size,n}function jo(i){let e,t,n;var h=i[0].a11ySingleNotice;function u(p,f){return{props:{contrast:p[9],textColor:p[12]?p[10]:p[1],bgColor:p[12]?p[1]:p[10],placeholder:p[11],size:p[13]}}}return h&&(e=vt(h,u(i))),{c(){e&&B(e.$$.fragment),t=yt()},m(p,f){e&&I(e,p,f),Z(p,t,f),n=!0},p(p,f){if(f&1&&h!==(h=p[0].a11ySingleNotice)){if(e){Ne();const r=e;E(r.$$.fragment,1,0,()=>{j(r,1)}),Xe()}h?(e=vt(h,u(p)),B(e.$$.fragment),x(e.$$.fragment,1),I(e,t.parentNode,t)):e=null}else if(h){const r={};f&16&&(r.contrast=p[9]),f&18&&(r.textColor=p[12]?p[10]:p[1]),f&18&&(r.bgColor=p[12]?p[1]:p[10]),f&16&&(r.placeholder=p[11]),f&16&&(r.size=p[13]),e.$set(r)}},i(p){n||(e&&x(e.$$.fragment,p),n=!0)},o(p){e&&E(e.$$.fragment,p),n=!1},d(p){p&&J(t),e&&j(e,p)}}}function Bo(i){let e;return{c(){e=ge("span"),Q(e,"class","svelte-1s4dluu")},m(t,n){Z(t,e,n),e.innerHTML=i[2]},p(t,n){n&4&&(e.innerHTML=t[2])},d(t){t&&J(e)}}}function hp(i){let e,t,n,h,u,p,f,r,c;var d=i[0].a11ySummary;function s(l,v){return{props:{a11yColors:l[4],hex:l[1]}}}d&&(n=vt(d,s(i)));let a=bn(i[4]),o=[];for(let l=0;l<a.length;l+=1)o[l]=jo(Io(i,a,l));const g=l=>E(o[l],1,1,()=>{o[l]=null});let m=i[2]&&Bo(i);return{c(){e=ge("details"),t=ge("summary"),n&&B(n.$$.fragment),u=ue(),p=ge("div");for(let l=0;l<o.length;l+=1)o[l].c();f=ue(),m&&m.c(),Q(t,"tabindex",h=i[5]?-1:void 0),Q(t,"class","svelte-1s4dluu"),Q(p,"class","svelte-1s4dluu"),Q(e,"class",r="a11y-notice "+(i[5]?"not-closable":"")+" svelte-1s4dluu"),e.open=i[3]},m(l,v){Z(l,e,v),se(e,t),n&&I(n,t,null),se(e,u),se(e,p);for(let _=0;_<o.length;_+=1)o[_]&&o[_].m(p,null);se(p,f),m&&m.m(p,null),c=!0},p(l,[v]){if(v&1&&d!==(d=l[0].a11ySummary)){if(n){Ne();const _=n;E(_.$$.fragment,1,0,()=>{j(_,1)}),Xe()}d?(n=vt(d,s(l)),B(n.$$.fragment),x(n.$$.fragment,1),I(n,t,null)):n=null}else if(d){const _={};v&16&&(_.a11yColors=l[4]),v&2&&(_.hex=l[1]),n.$set(_)}if((!c||v&32&&h!==(h=l[5]?-1:void 0))&&Q(t,"tabindex",h),v&19){a=bn(l[4]);let _;for(_=0;_<a.length;_+=1){const b=Io(l,a,_);o[_]?(o[_].p(b,v),x(o[_],1)):(o[_]=jo(b),o[_].c(),x(o[_],1),o[_].m(p,f))}for(Ne(),_=a.length;_<o.length;_+=1)g(_);Xe()}l[2]?m?m.p(l,v):(m=Bo(l),m.c(),m.m(p,null)):m&&(m.d(1),m=null),(!c||v&32&&r!==(r="a11y-notice "+(l[5]?"not-closable":"")+" svelte-1s4dluu"))&&Q(e,"class",r),(!c||v&8)&&(e.open=l[3])},i(l){if(!c){n&&x(n.$$.fragment,l);for(let v=0;v<a.length;v+=1)x(o[v]);c=!0}},o(l){n&&E(n.$$.fragment,l),o=o.filter(Boolean);for(let v=0;v<o.length;v+=1)E(o[v]);c=!1},d(l){l&&J(e),n&&j(n),$o(o,l),m&&m.d()}}}function dp(i,e,t){let n,h,{components:u}=e,{a11yColors:p}=e,{hex:f}=e,{color:r}=e,{a11yGuidelines:c}=e,{isA11yOpen:d}=e,{isA11yClosable:s}=e;return i.$$set=a=>{"components"in a&&t(0,u=a.components),"a11yColors"in a&&t(6,p=a.a11yColors),"hex"in a&&t(1,f=a.hex),"color"in a&&t(7,r=a.color),"a11yGuidelines"in a&&t(2,c=a.a11yGuidelines),"isA11yOpen"in a&&t(3,d=a.isA11yOpen),"isA11yClosable"in a&&t(8,s=a.isA11yClosable)},i.$$.update=()=>{i.$$.dirty&264&&t(5,n=d&&!s),i.$$.dirty&192&&t(4,h=p.map(a=>({...a,contrast:r==null?void 0:r.contrast(a.hex)})))},[u,f,c,d,h,n,p,r,s]}class gp extends Ie{constructor(e){super(),Re(this,e,dp,hp,Me,{components:0,a11yColors:6,hex:1,color:7,a11yGuidelines:2,isA11yOpen:3,isA11yClosable:8})}}function mp(i){let e,t,n=(i[2]||"Lorem Ipsum")+"",h,u,p,f,r,c,d=(i[3]>=10?i[3].toFixed(1):i[3])+"",s,a,o,g,m;return{c(){e=ge("div"),t=ge("p"),h=We(n),p=ue(),f=ge("div"),r=ge("p"),c=We("contrast: "),s=We(d),a=ue(),o=ge("span"),o.textContent="AA",g=ue(),m=ge("span"),m.textContent="AAA",Q(t,"class",u="lorem "+(i[4]==="large"&&"large")+" svelte-obnxge"),It(t,"color",i[0]),It(t,"background-color",i[1]),Q(r,"class","svelte-obnxge"),Q(o,"class","grade svelte-obnxge"),Et(o,"grade-ok",i[3]>(i[4]==="large"?3:4.5)),Q(m,"class","grade svelte-obnxge"),Et(m,"grade-ok",i[3]>(i[4]==="large"?4.5:7)),Q(f,"class","score svelte-obnxge"),Q(e,"class","a11y-single-notice svelte-obnxge")},m(l,v){Z(l,e,v),se(e,t),se(t,h),se(e,p),se(e,f),se(f,r),se(r,c),se(r,s),se(f,a),se(f,o),se(f,g),se(f,m)},p(l,[v]){v&4&&n!==(n=(l[2]||"Lorem Ipsum")+"")&&Vt(h,n),v&16&&u!==(u="lorem "+(l[4]==="large"&&"large")+" svelte-obnxge")&&Q(t,"class",u),v&1&&It(t,"color",l[0]),v&2&&It(t,"background-color",l[1]),v&8&&d!==(d=(l[3]>=10?l[3].toFixed(1):l[3])+"")&&Vt(s,d),v&24&&Et(o,"grade-ok",l[3]>(l[4]==="large"?3:4.5)),v&24&&Et(m,"grade-ok",l[3]>(l[4]==="large"?4.5:7))},i:we,o:we,d(l){l&&J(e)}}}function pp(i,e,t){let{textColor:n}=e,{bgColor:h}=e,{placeholder:u=void 0}=e,{contrast:p=1}=e,{size:f=void 0}=e;return i.$$set=r=>{"textColor"in r&&t(0,n=r.textColor),"bgColor"in r&&t(1,h=r.bgColor),"placeholder"in r&&t(2,u=r.placeholder),"contrast"in r&&t(3,p=r.contrast),"size"in r&&t(4,f=r.size)},[n,h,u,p,f]}class vp extends Ie{constructor(e){super(),Re(this,e,pp,mp,Me,{textColor:0,bgColor:1,placeholder:2,contrast:3,size:4})}}function _p(i){let e;return{c(){e=We(i[0])},m(t,n){Z(t,e,n)},p(t,[n]){n&1&&Vt(e,t[0])},i:we,o:we,d(t){t&&J(e)}}}function bp({contrast:i,size:e}){return i?e==="large"?i<3?2:i<4.5?1:0:i<4.5?2:i<7?1:0:1}function yp(i,e,t){let n,h,{a11yColors:u}=e,{hex:p}=e;return i.$$set=f=>{"a11yColors"in f&&t(1,u=f.a11yColors),"hex"in f&&t(2,p=f.hex)},i.$$.update=()=>{i.$$.dirty&2&&t(3,n=u.map(bp).reduce((f,r)=>f+r)),i.$$.dirty&8&&t(0,h=n?` ${n} contrast grade${n&&"s"} fail`:"Contrast grade information")},[h,u,p,n]}class Cp extends Ie{constructor(e){super(),Re(this,e,yp,_p,Me,{a11yColors:1,hex:2})}}function Sp(i){let e;return{c(){e=ge("input"),Q(e,"type","hidden"),e.value=i[2]},m(t,n){Z(t,e,n)},p(t,n){n[0]&4&&(e.value=t[2])},i:we,o:we,d(t){t&&J(e)}}}function wp(i){let e,t,n,h,u;function p(d){i[26](d)}function f(d){i[27](d)}var r=i[21]().input;function c(d,s){let a={hex:d[2],label:d[6]};return d[19]!==void 0&&(a.labelWrapper=d[19]),d[3]!==void 0&&(a.isOpen=d[3]),{props:a}}return r&&(e=vt(r,c(i)),Le.push(()=>Ze(e,"labelWrapper",p)),Le.push(()=>Ze(e,"isOpen",f))),{c(){e&&B(e.$$.fragment),h=yt()},m(d,s){e&&I(e,d,s),Z(d,h,s),u=!0},p(d,s){if(r!==(r=d[21]().input)){if(e){Ne();const a=e;E(a.$$.fragment,1,0,()=>{j(a,1)}),Xe()}r?(e=vt(r,c(d)),Le.push(()=>Ze(e,"labelWrapper",p)),Le.push(()=>Ze(e,"isOpen",f)),B(e.$$.fragment),x(e.$$.fragment,1),I(e,h.parentNode,h)):e=null}else if(r){const a={};s[0]&4&&(a.hex=d[2]),s[0]&64&&(a.label=d[6]),!t&&s[0]&524288&&(t=!0,a.labelWrapper=d[19],ct(()=>t=!1)),!n&&s[0]&8&&(n=!0,a.isOpen=d[3],ct(()=>n=!1)),e.$set(a)}},i(d){u||(e&&x(e.$$.fragment,d),u=!0)},o(d){e&&E(e.$$.fragment,d),u=!1},d(d){d&&J(h),e&&j(e,d)}}}function No(i){let e,t,n,h;function u(r){i[32](r)}function p(r){i[33](r)}let f={components:i[21](),hex:i[2],toRight:i[17]};return i[1].a!==void 0&&(f.a=i[1].a),i[3]!==void 0&&(f.isOpen=i[3]),e=new Rm({props:f}),Le.push(()=>Ze(e,"a",u)),Le.push(()=>Ze(e,"isOpen",p)),{c(){B(e.$$.fragment)},m(r,c){I(e,r,c),h=!0},p(r,c){const d={};c[0]&4&&(d.hex=r[2]),c[0]&131072&&(d.toRight=r[17]),!t&&c[0]&2&&(t=!0,d.a=r[1].a,ct(()=>t=!1)),!n&&c[0]&8&&(n=!0,d.isOpen=r[3],ct(()=>n=!1)),e.$set(d)},i(r){h||(x(e.$$.fragment,r),h=!0)},o(r){E(e.$$.fragment,r),h=!1},d(r){j(e,r)}}}function Xo(i){let e,t,n,h,u,p;function f(a){i[34](a)}function r(a){i[35](a)}function c(a){i[36](a)}var d=i[21]().textInput;function s(a,o){let g={isAlpha:a[7],canChangeMode:a[10]};return a[2]!==void 0&&(g.hex=a[2]),a[0]!==void 0&&(g.rgb=a[0]),a[1]!==void 0&&(g.hsv=a[1]),{props:g}}return d&&(e=vt(d,s(i)),Le.push(()=>Ze(e,"hex",f)),Le.push(()=>Ze(e,"rgb",r)),Le.push(()=>Ze(e,"hsv",c))),{c(){e&&B(e.$$.fragment),u=yt()},m(a,o){e&&I(e,a,o),Z(a,u,o),p=!0},p(a,o){if(d!==(d=a[21]().textInput)){if(e){Ne();const g=e;E(g.$$.fragment,1,0,()=>{j(g,1)}),Xe()}d?(e=vt(d,s(a)),Le.push(()=>Ze(e,"hex",f)),Le.push(()=>Ze(e,"rgb",r)),Le.push(()=>Ze(e,"hsv",c)),B(e.$$.fragment),x(e.$$.fragment,1),I(e,u.parentNode,u)):e=null}else if(d){const g={};o[0]&128&&(g.isAlpha=a[7]),o[0]&1024&&(g.canChangeMode=a[10]),!t&&o[0]&4&&(t=!0,g.hex=a[2],ct(()=>t=!1)),!n&&o[0]&1&&(n=!0,g.rgb=a[0],ct(()=>n=!1)),!h&&o[0]&2&&(h=!0,g.hsv=a[1],ct(()=>h=!1)),e.$set(g)}},i(a){p||(e&&x(e.$$.fragment,a),p=!0)},o(a){e&&E(e.$$.fragment,a),p=!1},d(a){a&&J(u),e&&j(e,a)}}}function zo(i){let e,t,n;var h=i[21]().a11yNotice;function u(p,f){return{props:{components:p[21](),a11yColors:p[12],color:p[4],hex:p[2],a11yGuidelines:p[13],isA11yOpen:p[14],isA11yClosable:p[15]}}}return h&&(e=vt(h,u(i))),{c(){e&&B(e.$$.fragment),t=yt()},m(p,f){e&&I(e,p,f),Z(p,t,f),n=!0},p(p,f){if(h!==(h=p[21]().a11yNotice)){if(e){Ne();const r=e;E(r.$$.fragment,1,0,()=>{j(r,1)}),Xe()}h?(e=vt(h,u(p)),B(e.$$.fragment),x(e.$$.fragment,1),I(e,t.parentNode,t)):e=null}else if(h){const r={};f[0]&4096&&(r.a11yColors=p[12]),f[0]&16&&(r.color=p[4]),f[0]&4&&(r.hex=p[2]),f[0]&8192&&(r.a11yGuidelines=p[13]),f[0]&16384&&(r.isA11yOpen=p[14]),f[0]&32768&&(r.isA11yClosable=p[15]),e.$set(r)}},i(p){n||(e&&x(e.$$.fragment,p),n=!0)},o(p){e&&E(e.$$.fragment,p),n=!1},d(p){p&&J(t),e&&j(e,p)}}}function Tp(i){let e,t,n,h,u,p,f,r,c,d,s,a;function o(S){i[28](S)}function g(S){i[29](S)}function m(S){i[30](S)}let l={components:i[21](),h:i[1].h,toRight:i[17],isDark:i[5]};i[1].s!==void 0&&(l.s=i[1].s),i[1].v!==void 0&&(l.v=i[1].v),i[3]!==void 0&&(l.isOpen=i[3]),e=new km({props:l}),Le.push(()=>Ze(e,"s",o)),Le.push(()=>Ze(e,"v",g)),Le.push(()=>Ze(e,"isOpen",m));function v(S){i[31](S)}let _={components:i[21](),toRight:i[17]};i[1].h!==void 0&&(_.h=i[1].h),p=new Mm({props:_}),Le.push(()=>Ze(p,"h",v));let b=i[7]&&No(i),y=i[9]&&Xo(i),C=i[11]&&zo(i);return{c(){B(e.$$.fragment),u=ue(),B(p.$$.fragment),r=ue(),b&&b.c(),c=ue(),y&&y.c(),d=ue(),C&&C.c(),s=yt()},m(S,w){I(e,S,w),Z(S,u,w),I(p,S,w),Z(S,r,w),b&&b.m(S,w),Z(S,c,w),y&&y.m(S,w),Z(S,d,w),C&&C.m(S,w),Z(S,s,w),a=!0},p(S,w){const O={};w[0]&2&&(O.h=S[1].h),w[0]&131072&&(O.toRight=S[17]),w[0]&32&&(O.isDark=S[5]),!t&&w[0]&2&&(t=!0,O.s=S[1].s,ct(()=>t=!1)),!n&&w[0]&2&&(n=!0,O.v=S[1].v,ct(()=>n=!1)),!h&&w[0]&8&&(h=!0,O.isOpen=S[3],ct(()=>h=!1)),e.$set(O);const A={};w[0]&131072&&(A.toRight=S[17]),!f&&w[0]&2&&(f=!0,A.h=S[1].h,ct(()=>f=!1)),p.$set(A),S[7]?b?(b.p(S,w),w[0]&128&&x(b,1)):(b=No(S),b.c(),x(b,1),b.m(c.parentNode,c)):b&&(Ne(),E(b,1,1,()=>{b=null}),Xe()),S[9]?y?(y.p(S,w),w[0]&512&&x(y,1)):(y=Xo(S),y.c(),x(y,1),y.m(d.parentNode,d)):y&&(Ne(),E(y,1,1,()=>{y=null}),Xe()),S[11]?C?(C.p(S,w),w[0]&2048&&x(C,1)):(C=zo(S),C.c(),x(C,1),C.m(s.parentNode,s)):C&&(Ne(),E(C,1,1,()=>{C=null}),Xe())},i(S){a||(x(e.$$.fragment,S),x(p.$$.fragment,S),x(b),x(y),x(C),a=!0)},o(S){E(e.$$.fragment,S),E(p.$$.fragment,S),E(b),E(y),E(C),a=!1},d(S){S&&(J(u),J(r),J(c),J(d),J(s)),j(e,S),j(p,S),b&&b.d(S),y&&y.d(S),C&&C.d(S)}}}function xp(i){let e,t,n,h,u,p,f,r,c,d,s;e=new Jm({});const a=[wp,Sp],o=[];function g(_,b){return _[8]?0:1}h=g(i),u=o[h]=a[h](i);function m(_){i[37](_)}var l=i[21]().wrapper;function v(_,b){let y={isOpen:_[3],isPopup:_[16],toRight:_[17],$$slots:{default:[Tp]},$$scope:{ctx:_}};return _[20]!==void 0&&(y.wrapper=_[20]),{props:y}}return l&&(f=vt(l,v(i)),Le.push(()=>Ze(f,"wrapper",m))),{c(){B(e.$$.fragment),t=ue(),n=ge("span"),u.c(),p=ue(),f&&B(f.$$.fragment),Q(n,"class","color-picker svelte-7ntk55")},m(_,b){I(e,_,b),Z(_,t,b),Z(_,n,b),o[h].m(n,null),se(n,p),f&&I(f,n,null),i[38](n),c=!0,d||(s=[Fe(window,"mousedown",i[22]),Fe(window,"keyup",i[23])],d=!0)},p(_,b){let y=h;if(h=g(_),h===y?o[h].p(_,b):(Ne(),E(o[y],1,1,()=>{o[y]=null}),Xe(),u=o[h],u?u.p(_,b):(u=o[h]=a[h](_),u.c()),x(u,1),u.m(n,p)),l!==(l=_[21]().wrapper)){if(f){Ne();const C=f;E(C.$$.fragment,1,0,()=>{j(C,1)}),Xe()}l?(f=vt(l,v(_)),Le.push(()=>Ze(f,"wrapper",m)),B(f.$$.fragment),x(f.$$.fragment,1),I(f,n,null)):f=null}else if(l){const C={};b[0]&8&&(C.isOpen=_[3]),b[0]&65536&&(C.isPopup=_[16]),b[0]&131072&&(C.toRight=_[17]),b[0]&196287|b[1]&16384&&(C.$$scope={dirty:b,ctx:_}),!r&&b[0]&1048576&&(r=!0,C.wrapper=_[20],ct(()=>r=!1)),f.$set(C)}},i(_){c||(x(e.$$.fragment,_),x(u),f&&x(f.$$.fragment,_),c=!0)},o(_){E(e.$$.fragment,_),E(u),f&&E(f.$$.fragment,_),c=!1},d(_){_&&(J(t),J(n)),j(e,_),o[h].d(),f&&j(f),i[38](null),d=!1,bt(s)}}}function Op(i,e,t){Sm([wm]);let{components:n={}}=e;const h=Li();let{label:u="Choose a color"}=e,{isAlpha:p=!0}=e,{isInput:f=!0}=e,{isTextInput:r=!0}=e,{canChangeMode:c=!0}=e,{isA11y:d=!1}=e,{a11yColors:s=[{hex:"#ffffff"}]}=e,{a11yGuidelines:a='<p style="margin: 0; font-size: 12px;">Learn more at <a href="https://webaim.org/articles/contrast/" target="_blank">WebAIM contrast guide</a></p>'}=e,{isA11yOpen:o=!1}=e,{isA11yClosable:g=!0}=e,{isPopup:m=f}=e,{isOpen:l=!f}=e,{toRight:v=!1}=e,{disableCloseClickOutside:_=!1}=e,{rgb:b={r:255,g:0,b:0,a:1}}=e,{hsv:y={h:0,s:100,v:100,a:1}}=e,{hex:C="#ff0000"}=e,{color:S=void 0}=e,{isDark:w=!1}=e,O={r:255,g:0,b:0,a:1},A={h:0,s:100,v:100,a:1},N="#ff0000",W;const Y={sliderIndicator:Fo,pickerIndicator:Gm,alphaIndicator:Fo,pickerWrapper:$m,sliderWrapper:Ro,alphaWrapper:Ro,textInput:Wm,a11yNotice:gp,a11ySingleNotice:vp,a11ySummary:Cp,input:lp,wrapper:up};function q(){return{...Y,...n}}let te,re;function me({target:U}){f&&(te.contains(U)||te.isSameNode(U)?t(3,l=!l):l&&!re.contains(U)&&!_&&t(3,l=!1))}function G(U){U.key==="Tab"&&m&&t(3,l=W==null?void 0:W.contains(document.activeElement))}function oe(){y.h===A.h&&y.s===A.s&&y.v===A.v&&y.a===A.a&&b.r===O.r&&b.g===O.g&&b.b===O.b&&b.a===O.a&&C===N||(y.a===void 0&&t(1,y.a=1,y),A.a===void 0&&(A.a=1),b.a===void 0&&t(0,b.a=1,b),O.a===void 0&&(O.a=1),(C==null?void 0:C.substring(7))==="ff"&&t(2,C=C.substring(0,7)),(C==null?void 0:C.substring(7))==="ff"&&t(2,C=C.substring(0,7)),y.h!==A.h||y.s!==A.s||y.v!==A.v||y.a!==A.a?(t(4,S=Dt(y)),t(0,b=S.toRgb()),t(2,C=S.toHex())):b.r!==O.r||b.g!==O.g||b.b!==O.b||b.a!==O.a?(t(4,S=Dt(b)),t(2,C=S.toHex()),t(1,y=S.toHsv())):C!==N&&(t(4,S=Dt(C)),t(0,b=S.toRgb()),t(1,y=S.toHsv())),S&&t(5,w=S.isDark()),A=Object.assign({},y),O=Object.assign({},b),N=C,h("input",{color:S,hsv:y,rgb:b,hex:C}))}function T(U){te=U,t(19,te)}function F(U){l=U,t(3,l)}function L(U){i.$$.not_equal(y.s,U)&&(y.s=U,t(1,y))}function M(U){i.$$.not_equal(y.v,U)&&(y.v=U,t(1,y))}function K(U){l=U,t(3,l)}function k(U){i.$$.not_equal(y.h,U)&&(y.h=U,t(1,y))}function P(U){i.$$.not_equal(y.a,U)&&(y.a=U,t(1,y))}function X(U){l=U,t(3,l)}function V(U){C=U,t(2,C)}function le(U){b=U,t(0,b)}function ee(U){y=U,t(1,y)}function he(U){re=U,t(20,re)}function pe(U){Le[U?"unshift":"push"](()=>{W=U,t(18,W)})}return i.$$set=U=>{"components"in U&&t(24,n=U.components),"label"in U&&t(6,u=U.label),"isAlpha"in U&&t(7,p=U.isAlpha),"isInput"in U&&t(8,f=U.isInput),"isTextInput"in U&&t(9,r=U.isTextInput),"canChangeMode"in U&&t(10,c=U.canChangeMode),"isA11y"in U&&t(11,d=U.isA11y),"a11yColors"in U&&t(12,s=U.a11yColors),"a11yGuidelines"in U&&t(13,a=U.a11yGuidelines),"isA11yOpen"in U&&t(14,o=U.isA11yOpen),"isA11yClosable"in U&&t(15,g=U.isA11yClosable),"isPopup"in U&&t(16,m=U.isPopup),"isOpen"in U&&t(3,l=U.isOpen),"toRight"in U&&t(17,v=U.toRight),"disableCloseClickOutside"in U&&t(25,_=U.disableCloseClickOutside),"rgb"in U&&t(0,b=U.rgb),"hsv"in U&&t(1,y=U.hsv),"hex"in U&&t(2,C=U.hex),"color"in U&&t(4,S=U.color),"isDark"in U&&t(5,w=U.isDark)},i.$$.update=()=>{i.$$.dirty[0]&7&&(y||b||C)&&oe()},[b,y,C,l,S,w,u,p,f,r,c,d,s,a,o,g,m,v,W,te,re,q,me,G,n,_,T,F,L,M,K,k,P,X,V,le,ee,he,pe]}class kp extends Ie{constructor(e){super(),Re(this,e,Op,xp,Me,{components:24,label:6,isAlpha:7,isInput:8,isTextInput:9,canChangeMode:10,isA11y:11,a11yColors:12,a11yGuidelines:13,isA11yOpen:14,isA11yClosable:15,isPopup:16,isOpen:3,toRight:17,disableCloseClickOutside:25,rgb:0,hsv:1,hex:2,color:4,isDark:5},null,[-1,-1])}}function Pp(i){let e;return{c(){e=We("Whiteboard")},m(t,n){Z(t,e,n)},d(t){t&&J(e)}}}function Ep(i){let e,t;return e=new it({props:{name:"adjustments-horizontal"}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p:we,i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Ap(i){let e;return{c(){e=We("Select Tool")},m(t,n){Z(t,e,n)},d(t){t&&J(e)}}}function Mp(i){let e,t;return e=new it({props:{name:"pointer-filled"}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p:we,i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Dp(i){let e;return{c(){e=We("Select")},m(t,n){Z(t,e,n)},d(t){t&&J(e)}}}function Lp(i){let e,t;return e=new it({props:{name:"arrows-move"}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p:we,i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Fp(i){let e;return{c(){e=We("Move")},m(t,n){Z(t,e,n)},d(t){t&&J(e)}}}function Rp(i){let e,t;return e=new it({props:{name:"zoom-reset"}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p:we,i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Ip(i){let e;return{c(){e=We("Reset Zoom")},m(t,n){Z(t,e,n)},d(t){t&&J(e)}}}function jp(i){let e,t;return e=new it({props:{name:"eraser"}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p:we,i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Bp(i){let e;return{c(){e=We("Eraser")},m(t,n){Z(t,e,n)},d(t){t&&J(e)}}}function Np(i){let e,t;return e=new it({props:{name:"screenshot"}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p:we,i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Xp(i){let e;return{c(){e=We("Screenshot")},m(t,n){Z(t,e,n)},d(t){t&&J(e)}}}function zp(i){let e,t;return e=new it({props:{name:"slash"}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p:we,i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Wp(i){let e;return{c(){e=We("Line")},m(t,n){Z(t,e,n)},d(t){t&&J(e)}}}function Hp(i){let e,t;return e=new it({props:{name:"scribble"}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p:we,i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Vp(i){let e;return{c(){e=We("Scribble")},m(t,n){Z(t,e,n)},d(t){t&&J(e)}}}function Yp(i){let e,t;return e=new it({props:{name:"circle"}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p:we,i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Up(i){let e;return{c(){e=We("Circle")},m(t,n){Z(t,e,n)},d(t){t&&J(e)}}}function Gp(i){let e,t;return e=new it({props:{name:"rectangle"}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p:we,i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function qp(i){let e;return{c(){e=We("Rectangle")},m(t,n){Z(t,e,n)},d(t){t&&J(e)}}}function Kp(i){let e,t;return e=new it({props:{name:"typography"}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p:we,i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Jp(i){let e;return{c(){e=We("Text")},m(t,n){Z(t,e,n)},d(t){t&&J(e)}}}function Qp(i){let e,t;return e=new it({props:{name:"trash-filled"}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p:we,i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Zp(i){let e;return{c(){e=We("Clear")},m(t,n){Z(t,e,n)},d(t){t&&J(e)}}}function $p(i){let e,t,n;function h(p){i[14](p)}let u={};return i[6]!==void 0&&(u.value=i[6]),e=new Eh({props:u}),Le.push(()=>Ze(e,"value",h)),{c(){B(e.$$.fragment)},m(p,f){I(e,p,f),n=!0},p(p,f){const r={};!t&&f&64&&(t=!0,r.value=p[6],ct(()=>t=!1)),e.$set(r)},i(p){n||(x(e.$$.fragment,p),n=!0)},o(p){E(e.$$.fragment,p),n=!1},d(p){j(e,p)}}}function ev(i){let e,t,n,h,u,p,f,r,c,d,s,a,o,g,m,l,v,_,b,y,C,S,w,O,A,N,W,Y,q,te,re,me,G,oe,T,F,L,M,K,k,P,X,V,le,ee,he,pe,U,ne,H,ce,fe,ie,de,_e,Pe,be,ae,ke,Ee,ze,Je,Ve,Qe,Ge,St,Ct;n=new Ye({props:{color:i[5]==="select"?"dark":"",$$slots:{default:[Mp]},$$scope:{ctx:i}}}),n.$on("click",function(){Mt(i[4].resetEvents)&&i[4].resetEvents.apply(this,arguments)}),u=new ht({props:{placement:"left",$$slots:{default:[Dp]},$$scope:{ctx:i}}}),r=new Ye({props:{color:i[5]==="move"?"dark":"",$$slots:{default:[Lp]},$$scope:{ctx:i}}}),r.$on("click",function(){Mt(i[4].enterDragMode)&&i[4].enterDragMode.apply(this,arguments)}),d=new ht({props:{placement:"left",$$slots:{default:[Fp]},$$scope:{ctx:i}}}),o=new Ye({props:{$$slots:{default:[Rp]},$$scope:{ctx:i}}}),o.$on("click",function(){Mt(i[4].resetZoom)&&i[4].resetZoom.apply(this,arguments)}),m=new ht({props:{placement:"left",$$slots:{default:[Ip]},$$scope:{ctx:i}}}),_=new Ye({props:{color:i[5]==="eraser"?"dark":"",$$slots:{default:[jp]},$$scope:{ctx:i}}}),_.$on("click",function(){Mt(i[4].activateEraser)&&i[4].activateEraser.apply(this,arguments)}),y=new ht({props:{placement:"left",$$slots:{default:[Bp]},$$scope:{ctx:i}}}),w=new Ye({props:{$$slots:{default:[Np]},$$scope:{ctx:i}}}),w.$on("click",function(){Mt(i[4].startTakingScreenshot)&&i[4].startTakingScreenshot.apply(this,arguments)}),A=new ht({props:{placement:"left",$$slots:{default:[Xp]},$$scope:{ctx:i}}}),Y=new Ye({props:{color:i[5]==="line"?"dark":"",$$slots:{default:[zp]},$$scope:{ctx:i}}}),Y.$on("click",function(){Mt(i[4].drawline)&&i[4].drawline.apply(this,arguments)}),te=new ht({props:{placement:"left",$$slots:{default:[Wp]},$$scope:{ctx:i}}}),G=new Ye({props:{color:i[5]==="freeform"?"dark":"",$$slots:{default:[Hp]},$$scope:{ctx:i}}}),G.$on("click",function(){Mt(i[4].drawFreeform)&&i[4].drawFreeform.apply(this,arguments)}),T=new ht({props:{placement:"left",$$slots:{default:[Vp]},$$scope:{ctx:i}}}),M=new Ye({props:{color:i[5]==="circle"?"dark":"",$$slots:{default:[Yp]},$$scope:{ctx:i}}}),M.$on("click",function(){Mt(i[4].drawCircle)&&i[4].drawCircle.apply(this,arguments)}),k=new ht({props:{placement:"left",$$slots:{default:[Up]},$$scope:{ctx:i}}}),V=new Ye({props:{color:i[5]==="rect"?"dark":"",$$slots:{default:[Gp]},$$scope:{ctx:i}}}),V.$on("click",function(){Mt(i[4].drawRect)&&i[4].drawRect.apply(this,arguments)}),ee=new ht({props:{placement:"left",$$slots:{default:[qp]},$$scope:{ctx:i}}}),U=new Ye({props:{$$slots:{default:[Kp]},$$scope:{ctx:i}}}),U.$on("click",i[13]),H=new ht({props:{placement:"left",$$slots:{default:[Jp]},$$scope:{ctx:i}}}),ie=new Ye({props:{color:"warning",$$slots:{default:[Qp]},$$scope:{ctx:i}}}),ie.$on("click",function(){Mt(i[4].clearBoard)&&i[4].clearBoard.apply(this,arguments)}),_e=new ht({props:{placement:"left",$$slots:{default:[Zp]},$$scope:{ctx:i}}}),ae=new xh({props:{min:2,max:16,step:2,$$slots:{default:[$p]},$$scope:{ctx:i}}});function wt(Te){i[15](Te)}let Yt={isOpen:!0,isPopup:!1,isInput:!1};return i[7]!==void 0&&(Yt.hex=i[7]),Ge=new kp({props:Yt}),Le.push(()=>Ze(Ge,"hex",wt)),{c(){e=ge("div"),t=ge("div"),B(n.$$.fragment),h=ue(),B(u.$$.fragment),p=ue(),f=ge("div"),B(r.$$.fragment),c=ue(),B(d.$$.fragment),s=ue(),a=ge("div"),B(o.$$.fragment),g=ue(),B(m.$$.fragment),l=ue(),v=ge("div"),B(_.$$.fragment),b=ue(),B(y.$$.fragment),C=ue(),S=ge("div"),B(w.$$.fragment),O=ue(),B(A.$$.fragment),N=ue(),W=ge("div"),B(Y.$$.fragment),q=ue(),B(te.$$.fragment),re=ue(),me=ge("div"),B(G.$$.fragment),oe=ue(),B(T.$$.fragment),F=ue(),L=ge("div"),B(M.$$.fragment),K=ue(),B(k.$$.fragment),P=ue(),X=ge("div"),B(V.$$.fragment),le=ue(),B(ee.$$.fragment),he=ue(),pe=ge("div"),B(U.$$.fragment),ne=ue(),B(H.$$.fragment),ce=ue(),fe=ge("div"),B(ie.$$.fragment),de=ue(),B(_e.$$.fragment),Pe=ue(),be=ge("div"),B(ae.$$.fragment),ke=ue(),Ee=ge("i"),ze=We("Stroke WIdth: "),Je=We(i[6]),Ve=ue(),Qe=ge("div"),B(Ge.$$.fragment),Q(e,"class","grid grid-cols-3 gap-2 place-items-center"),Q(Qe,"class","mt-2")},m(Te,Oe){Z(Te,e,Oe),se(e,t),I(n,t,null),se(t,h),I(u,t,null),se(e,p),se(e,f),I(r,f,null),se(f,c),I(d,f,null),se(e,s),se(e,a),I(o,a,null),se(a,g),I(m,a,null),se(e,l),se(e,v),I(_,v,null),se(v,b),I(y,v,null),se(e,C),se(e,S),I(w,S,null),se(S,O),I(A,S,null),se(e,N),se(e,W),I(Y,W,null),se(W,q),I(te,W,null),se(e,re),se(e,me),I(G,me,null),se(me,oe),I(T,me,null),se(e,F),se(e,L),I(M,L,null),se(L,K),I(k,L,null),se(e,P),se(e,X),I(V,X,null),se(X,le),I(ee,X,null),se(e,he),se(e,pe),I(U,pe,null),se(pe,ne),I(H,pe,null),se(e,ce),se(e,fe),I(ie,fe,null),se(fe,de),I(_e,fe,null),Z(Te,Pe,Oe),Z(Te,be,Oe),I(ae,be,null),se(be,ke),se(be,Ee),se(Ee,ze),se(Ee,Je),Z(Te,Ve,Oe),Z(Te,Qe,Oe),I(Ge,Qe,null),Ct=!0},p(Te,Oe){i=Te;const Bt={};Oe&32&&(Bt.color=i[5]==="select"?"dark":""),Oe&8388608&&(Bt.$$scope={dirty:Oe,ctx:i}),n.$set(Bt);const oi={};Oe&8388608&&(oi.$$scope={dirty:Oe,ctx:i}),u.$set(oi);const $t={};Oe&32&&($t.color=i[5]==="move"?"dark":""),Oe&8388608&&($t.$$scope={dirty:Oe,ctx:i}),r.$set($t);const ai={};Oe&8388608&&(ai.$$scope={dirty:Oe,ctx:i}),d.$set(ai);const Wt={};Oe&8388608&&(Wt.$$scope={dirty:Oe,ctx:i}),o.$set(Wt);const R={};Oe&8388608&&(R.$$scope={dirty:Oe,ctx:i}),m.$set(R);const z={};Oe&32&&(z.color=i[5]==="eraser"?"dark":""),Oe&8388608&&(z.$$scope={dirty:Oe,ctx:i}),_.$set(z);const $={};Oe&8388608&&($.$$scope={dirty:Oe,ctx:i}),y.$set($);const ve={};Oe&8388608&&(ve.$$scope={dirty:Oe,ctx:i}),w.$set(ve);const Ce={};Oe&8388608&&(Ce.$$scope={dirty:Oe,ctx:i}),A.$set(Ce);const ye={};Oe&32&&(ye.color=i[5]==="line"?"dark":""),Oe&8388608&&(ye.$$scope={dirty:Oe,ctx:i}),Y.$set(ye);const Ae={};Oe&8388608&&(Ae.$$scope={dirty:Oe,ctx:i}),te.$set(Ae);const xe={};Oe&32&&(xe.color=i[5]==="freeform"?"dark":""),Oe&8388608&&(xe.$$scope={dirty:Oe,ctx:i}),G.$set(xe);const $e={};Oe&8388608&&($e.$$scope={dirty:Oe,ctx:i}),T.$set($e);const Ke={};Oe&32&&(Ke.color=i[5]==="circle"?"dark":""),Oe&8388608&&(Ke.$$scope={dirty:Oe,ctx:i}),M.$set(Ke);const nt={};Oe&8388608&&(nt.$$scope={dirty:Oe,ctx:i}),k.$set(nt);const et={};Oe&32&&(et.color=i[5]==="rect"?"dark":""),Oe&8388608&&(et.$$scope={dirty:Oe,ctx:i}),V.$set(et);const Ue={};Oe&8388608&&(Ue.$$scope={dirty:Oe,ctx:i}),ee.$set(Ue);const ft={};Oe&8388608&&(ft.$$scope={dirty:Oe,ctx:i}),U.$set(ft);const _t={};Oe&8388608&&(_t.$$scope={dirty:Oe,ctx:i}),H.$set(_t);const gt={};Oe&8388608&&(gt.$$scope={dirty:Oe,ctx:i}),ie.$set(gt);const mt={};Oe&8388608&&(mt.$$scope={dirty:Oe,ctx:i}),_e.$set(mt);const Ut={};Oe&8388672&&(Ut.$$scope={dirty:Oe,ctx:i}),ae.$set(Ut),(!Ct||Oe&64)&&Vt(Je,i[6]);const Gt={};!St&&Oe&128&&(St=!0,Gt.hex=i[7],ct(()=>St=!1)),Ge.$set(Gt)},i(Te){Ct||(x(n.$$.fragment,Te),x(u.$$.fragment,Te),x(r.$$.fragment,Te),x(d.$$.fragment,Te),x(o.$$.fragment,Te),x(m.$$.fragment,Te),x(_.$$.fragment,Te),x(y.$$.fragment,Te),x(w.$$.fragment,Te),x(A.$$.fragment,Te),x(Y.$$.fragment,Te),x(te.$$.fragment,Te),x(G.$$.fragment,Te),x(T.$$.fragment,Te),x(M.$$.fragment,Te),x(k.$$.fragment,Te),x(V.$$.fragment,Te),x(ee.$$.fragment,Te),x(U.$$.fragment,Te),x(H.$$.fragment,Te),x(ie.$$.fragment,Te),x(_e.$$.fragment,Te),x(ae.$$.fragment,Te),x(Ge.$$.fragment,Te),Ct=!0)},o(Te){E(n.$$.fragment,Te),E(u.$$.fragment,Te),E(r.$$.fragment,Te),E(d.$$.fragment,Te),E(o.$$.fragment,Te),E(m.$$.fragment,Te),E(_.$$.fragment,Te),E(y.$$.fragment,Te),E(w.$$.fragment,Te),E(A.$$.fragment,Te),E(Y.$$.fragment,Te),E(te.$$.fragment,Te),E(G.$$.fragment,Te),E(T.$$.fragment,Te),E(M.$$.fragment,Te),E(k.$$.fragment,Te),E(V.$$.fragment,Te),E(ee.$$.fragment,Te),E(U.$$.fragment,Te),E(H.$$.fragment,Te),E(ie.$$.fragment,Te),E(_e.$$.fragment,Te),E(ae.$$.fragment,Te),E(Ge.$$.fragment,Te),Ct=!1},d(Te){Te&&(J(e),J(Pe),J(be),J(Ve),J(Qe)),j(n),j(u),j(r),j(d),j(o),j(m),j(_),j(y),j(w),j(A),j(Y),j(te),j(G),j(T),j(M),j(k),j(V),j(ee),j(U),j(H),j(ie),j(_e),j(ae),j(Ge)}}}function tv(i){let e,t,n,h;return e=new Ua({props:{$$slots:{default:[Ap]},$$scope:{ctx:i}}}),n=new qa({props:{$$slots:{default:[ev]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=ue(),B(n.$$.fragment)},m(u,p){I(e,u,p),Z(u,t,p),I(n,u,p),h=!0},p(u,p){const f={};p&8388608&&(f.$$scope={dirty:p,ctx:u}),e.$set(f);const r={};p&8388848&&(r.$$scope={dirty:p,ctx:u}),n.$set(r)},i(u){h||(x(e.$$.fragment,u),x(n.$$.fragment,u),h=!0)},o(u){E(e.$$.fragment,u),E(n.$$.fragment,u),h=!1},d(u){u&&J(t),j(e,u),j(n,u)}}}function Wo(i){let e,t,n,h;return e=new Ye({props:{$$slots:{default:[iv]},$$scope:{ctx:i}}}),e.$on("click",i[16]),n=new ht({props:{text:"Show Chat"}}),{c(){B(e.$$.fragment),t=ue(),B(n.$$.fragment)},m(u,p){I(e,u,p),Z(u,t,p),I(n,u,p),h=!0},p(u,p){const f={};p&8388608&&(f.$$scope={dirty:p,ctx:u}),e.$set(f)},i(u){h||(x(e.$$.fragment,u),x(n.$$.fragment,u),h=!0)},o(u){E(e.$$.fragment,u),E(n.$$.fragment,u),h=!1},d(u){u&&J(t),j(e,u),j(n,u)}}}function iv(i){let e,t;return e=new it({props:{name:"message-circle-2"}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p:we,i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function nv(i){let e,t,n,h;return e=new Ye({props:{$$slots:{default:[sv]},$$scope:{ctx:i}}}),e.$on("click",i[12]),n=new ht({props:{text:"Minimize"}}),{c(){B(e.$$.fragment),t=ue(),B(n.$$.fragment)},m(u,p){I(e,u,p),Z(u,t,p),I(n,u,p),h=!0},p(u,p){const f={};p&8388608&&(f.$$scope={dirty:p,ctx:u}),e.$set(f)},i(u){h||(x(e.$$.fragment,u),x(n.$$.fragment,u),h=!0)},o(u){E(e.$$.fragment,u),E(n.$$.fragment,u),h=!1},d(u){u&&J(t),j(e,u),j(n,u)}}}function rv(i){let e,t,n,h;return e=new Ye({props:{$$slots:{default:[ov]},$$scope:{ctx:i}}}),e.$on("click",i[11]),n=new ht({props:{text:"Maximize"}}),{c(){B(e.$$.fragment),t=ue(),B(n.$$.fragment)},m(u,p){I(e,u,p),Z(u,t,p),I(n,u,p),h=!0},p(u,p){const f={};p&8388608&&(f.$$scope={dirty:p,ctx:u}),e.$set(f)},i(u){h||(x(e.$$.fragment,u),x(n.$$.fragment,u),h=!0)},o(u){E(e.$$.fragment,u),E(n.$$.fragment,u),h=!1},d(u){u&&J(t),j(e,u),j(n,u)}}}function sv(i){let e,t;return e=new it({props:{name:"arrows-minimize"}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p:we,i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function ov(i){let e,t;return e=new it({props:{name:"maximize"}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p:we,i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function av(i){let e,t,n,h,u,p,f,r,c,d,s,a,o;t=new He({props:{textColor:"primary",fontWeight:"bolder",fontSize:"1",$$slots:{default:[Pp]},$$scope:{ctx:i}}}),p=new Ye({props:{$$slots:{default:[Ep]},$$scope:{ctx:i}}}),r=new Ga({props:{trigger:"hover",$$slots:{default:[tv]},$$scope:{ctx:i}}});let g=i[8]&&Wo(i);const m=[rv,nv],l=[];function v(_,b){return _[10]?1:0}return s=v(i),a=l[s]=m[s](i),{c(){e=ge("div"),B(t.$$.fragment),n=ue(),h=ge("div"),u=ge("div"),B(p.$$.fragment),f=ue(),B(r.$$.fragment),c=ue(),g&&g.c(),d=ue(),a.c(),Q(u,"class","hidden space-x-2 xl:block"),Q(e,"class","flex justify-between items-center")},m(_,b){Z(_,e,b),I(t,e,null),se(e,n),se(e,h),se(h,u),I(p,u,null),se(u,f),I(r,u,null),se(u,c),g&&g.m(u,null),se(u,d),l[s].m(u,null),o=!0},p(_,b){const y={};b&8388608&&(y.$$scope={dirty:b,ctx:_}),t.$set(y);const C={};b&8388608&&(C.$$scope={dirty:b,ctx:_}),p.$set(C);const S={};b&8388848&&(S.$$scope={dirty:b,ctx:_}),r.$set(S),_[8]?g?(g.p(_,b),b&256&&x(g,1)):(g=Wo(_),g.c(),x(g,1),g.m(u,d)):g&&(Ne(),E(g,1,1,()=>{g=null}),Xe());let w=s;s=v(_),s===w?l[s].p(_,b):(Ne(),E(l[w],1,1,()=>{l[w]=null}),Xe(),a=l[s],a?a.p(_,b):(a=l[s]=m[s](_),a.c()),x(a,1),a.m(u,null))},i(_){o||(x(t.$$.fragment,_),x(p.$$.fragment,_),x(r.$$.fragment,_),x(g),x(a),o=!0)},o(_){E(t.$$.fragment,_),E(p.$$.fragment,_),E(r.$$.fragment,_),E(g),E(a),o=!1},d(_){_&&J(e),j(t),j(p),j(r),g&&g.d(),l[s].d()}}}function lv(i){let e,t;return e=new Rn({props:{class:"w-full",$$slots:{default:[av]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p(n,h){const u={};h&8390640&&(u.$$scope={dirty:h,ctx:n}),e.$set(u)},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function fv(i){let e,t,n;return{c(){e=ge("div"),t=ge("canvas"),Q(t,"id","board"),Q(e,"class","w-full h-full canvasParent svelte-1axheft"),Ft(()=>i[18].call(e))},m(h,u){Z(h,e,u),se(e,t),i[17](t),n=kl(e,i[18].bind(e)),i[19](e)},p:we,d(h){h&&J(e),i[17](null),n(),i[19](null)}}}function cv(i){let e,t,n,h;return e=new Fn({props:{$$slots:{default:[lv]},$$scope:{ctx:i}}}),n=new rn({props:{class:"h-5/6 bg-slate-100 rounded-b-2xl !p-0",$$slots:{default:[fv]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=ue(),B(n.$$.fragment)},m(u,p){I(e,u,p),Z(u,t,p),I(n,u,p),h=!0},p(u,p){const f={};p&8390640&&(f.$$scope={dirty:p,ctx:u}),e.$set(f);const r={};p&8388623&&(r.$$scope={dirty:p,ctx:u}),n.$set(r)},i(u){h||(x(e.$$.fragment,u),x(n.$$.fragment,u),h=!0)},o(u){E(e.$$.fragment,u),E(n.$$.fragment,u),h=!1},d(u){u&&J(t),j(e,u),j(n,u)}}}function uv(i){let e,t;return e=new nn({props:{class:"m-4 h-full flex-grow !rounded-2xl",$$slots:{default:[cv]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},p(n,[h]){const u={};h&8390655&&(u.$$scope={dirty:h,ctx:n}),e.$set(u)},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function hv(i,e,t){let n,h,u,p,f,r;dt(i,ti,N=>t(5,n=N)),dt(i,ci,N=>t(6,h=N)),dt(i,vi,N=>t(7,u=N)),dt(i,Qt,N=>t(8,p=N)),dt(i,ri,N=>t(9,f=N)),dt(i,Kt,N=>t(10,r=N));let c,d,s,a,o,g,m;const l=Li(),v=()=>l("maximize"),_=()=>l("minimize");Zt(()=>{setTimeout(()=>{d&&(c=new qt.fabric.Canvas(d),t(4,m=new gm(c)),Qa.set(m))},500),g=new ResizeObserver(N=>{if(s&&(t(0,d.width=s.clientWidth,d),t(0,d.height=s.clientHeight,d),c)){const W=s.clientWidth/c.width;c.getObjects().forEach(q=>{q.scaleX=q.scaleX*W,q.scaleY=q.scaleY*W,q.left=q.left*W,q.top=q.top*W,q.setCoords()}),c.setWidth(s.clientWidth),c.setHeight(s.clientHeight),c.renderAll(),c.calcOffset()}}),g.observe(s)});const b=()=>m.addText();function y(N){h=N,ci.set(h)}function C(N){u=N,vi.set(u)}const S=()=>{kt(Qt,p=!1,p),kt(ri,f=!1,f),kt(Kt,r=!1,r)};function w(N){Le[N?"unshift":"push"](()=>{d=N,t(0,d)})}function O(){a=this.clientHeight,o=this.clientWidth,t(2,a),t(3,o)}function A(N){Le[N?"unshift":"push"](()=>{s=N,t(1,s)})}return[d,s,a,o,m,n,h,u,p,f,r,v,_,b,y,C,S,w,O,A]}class dv extends Ie{constructor(e){super(),Re(this,e,hv,uv,Me,{})}}function gv(i){let e,t,n,h,u,p,f,r,c,d;return{c(){e=ge("div"),t=ge("div"),t.textContent="Press 'ESC' to exit.",n=ue(),h=ge("canvas"),u=ue(),p=ge("canvas"),f=ue(),r=ge("div"),Q(t,"class","fixed top-4 left-1/2 w-48 -ml-24 text-white bg-slate-700 rounded-lg flex items-center justify-start p-4 space-y-4 z-[100]"),Q(h,"id","capturedStill"),Q(p,"id","cropped"),Q(r,"class",c="fixed !z-[50] cursor-crosshair "+(i[2]?"border-red-600":"")+" svelte-14lfei7"),Q(r,"id","overlay"),Q(e,"class",d=(i[2]?"fixed":"hidden")+" w-100v h-100v top-0 left-0 cursor-crosshair bg-contain bg-no-repeat bg-center"),Q(e,"id","screenshotContainer")},m(s,a){Z(s,e,a),se(e,t),se(e,n),se(e,h),se(e,u),se(e,p),se(e,f),se(e,r),i[3](r),i[4](e)},p(s,[a]){a&4&&c!==(c="fixed !z-[50] cursor-crosshair "+(s[2]?"border-red-600":"")+" svelte-14lfei7")&&Q(r,"class",c),a&4&&d!==(d=(s[2]?"fixed":"hidden")+" w-100v h-100v top-0 left-0 cursor-crosshair bg-contain bg-no-repeat bg-center")&&Q(e,"class",d)},i:we,o:we,d(s){s&&J(e),i[3](null),i[4](null)}}}function mv(i,e,t){let n,h;dt(i,Qa,o=>t(8,n=o)),dt(i,ki,o=>t(2,h=o));let u,p,f=!1,r,c;Zt(()=>{u.addEventListener("mousedown",o=>{f=!0,r=o.clientX,c=o.clientY}),u.addEventListener("mousemove",o=>{if(!f)return;const g=o.clientX-r,m=o.clientY-c,l=g>=0?r:o.clientX,v=m>=0?c:o.clientY;t(1,p.style.top=`${v}px`,p),t(1,p.style.left=`${l}px`,p),t(1,p.style.width=`${g}px`,p),t(1,p.style.height=`${m}px`,p)}),u.addEventListener("mouseup",async o=>{f=!1;const g=Math.abs(o.clientX-r),m=Math.abs(o.clientY-c);r<o.clientX||o.clientX,c<o.clientY||o.clientY;let v=document.getElementById("capturedStill").getContext("2d").getImageData(r,c,o.clientX,o.clientY);const _=document.getElementById("cropped");_.width=g,_.height=m,_.getContext("2d").putImageData(v,0,0);const b=_.toDataURL("image/png");kt(ki,h=!1,h),n.finishTakingScreenshot(b)})});const d=async o=>{o.code==="Escape"&&(document.body.style.cursor="auto",ki.set(!1),t(0,u.style.backgroundImage="none",u))};ki.subscribe(o=>{if(o){window.addEventListener("keydown",d);return}window.removeEventListener("keydown",d)});function s(o){Le[o?"unshift":"push"](()=>{p=o,t(1,p)})}function a(o){Le[o?"unshift":"push"](()=>{u=o,t(0,u)})}return[u,p,h,s,a]}class pv extends Ie{constructor(e){super(),Re(this,e,mv,gv,Me,{})}}function vv(i){let e;return{c(){e=ge("div"),e.innerHTML='<div class="loader svelte-1r9qpz0"></div>',Q(e,"class","w-100v h-100v z-[200] bg-slate-600 grid place-items-center")},m(t,n){Z(t,e,n)},p:we,i:we,o:we,d(t){t&&J(e)}}}class _v extends Ie{constructor(e){super(),Re(this,e,null,vv,Me,{})}}function Ho(i){let e,t;return e=new _v({}),{c(){B(e.$$.fragment)},m(n,h){I(e,n,h),t=!0},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){j(e,n)}}}function Vo(i){let e,t,n;return t=new pv({}),{c(){e=ge("div"),B(t.$$.fragment),Q(e,"class","w-100v h-100v z-[100] overflow-hidden")},m(h,u){Z(h,e,u),I(t,e,null),n=!0},i(h){n||(x(t.$$.fragment,h),n=!0)},o(h){E(t.$$.fragment,h),n=!1},d(h){h&&J(e),j(t)}}}function Yo(i){let e,t,n,h;return t=new dg({}),t.$on("hideChat",i[6]),{c(){e=ge("div"),B(t.$$.fragment),Q(e,"class","h-full hidden w-1/3 xl:flex")},m(u,p){Z(u,e,p),I(t,e,null),h=!0},p:we,i(u){h||(x(t.$$.fragment,u),u&&Ft(()=>{h&&(n||(n=Tt(e,xt,{axis:"x"},!0)),n.run(1))}),h=!0)},o(u){E(t.$$.fragment,u),u&&(n||(n=Tt(e,xt,{axis:"x"},!1)),n.run(0)),h=!1},d(u){u&&J(e),j(t),u&&n&&n.end()}}}function Uo(i){let e,t,n,h,u;return t=new dv({}),t.$on("maximize",Fg),t.$on("minimize",Rg),{c(){e=ge("div"),B(t.$$.fragment),Q(e,"class",n="h-full hidden "+(i[5]||i[2]?i[2]?"w-2/3":"w-full":"w-1/3")+" xl:flex")},m(p,f){Z(p,e,f),I(t,e,null),u=!0},p(p,f){(!u||f&36&&n!==(n="h-full hidden "+(p[5]||p[2]?p[2]?"w-2/3":"w-full":"w-1/3")+" xl:flex"))&&Q(e,"class",n)},i(p){u||(x(t.$$.fragment,p),p&&Ft(()=>{u&&(h||(h=Tt(e,xt,{axis:"x"},!0)),h.run(1))}),u=!0)},o(p){E(t.$$.fragment,p),p&&(h||(h=Tt(e,xt,{axis:"x"},!1)),h.run(0)),u=!1},d(p){p&&J(e),j(t),p&&h&&h.end()}}}function bv(i){let e,t,n,h,u,p,f,r,c,d,s,a,o,g,m=i[0]&&Ho(),l=i[1]&&Vo(),v=!i[2]&&Yo(i);d=new cm({}),d.$on("maximize",Dg),d.$on("minimize",Lg);let _=!i[3]&&Uo(i);return{c(){e=ge("link"),t=ue(),m&&m.c(),n=ue(),l&&l.c(),h=ue(),u=ge("div"),p=ge("div"),f=ge("div"),v&&v.c(),r=ue(),c=ge("div"),B(d.$$.fragment),o=ue(),_&&_.c(),Q(e,"rel","stylesheet"),Q(e,"href",Xl),document.title="Instrukti Call",Q(c,"class",s="h-full flex flex-col w-full "+(i[4]?"xl:w-full":i[3]&&!i[2]?"xl:w-2/3":"xl:w-1/3")+" max-w-full"),Q(f,"class","h-full w-full flex gap-4"),Q(p,"class","h-full w-full border-2 border-black rounded-xl"),Q(u,"class","w-100v h-100v bg-white p-2 overflow-hidden")},m(b,y){se(document.head,e),Z(b,t,y),m&&m.m(b,y),Z(b,n,y),l&&l.m(b,y),Z(b,h,y),Z(b,u,y),se(u,p),se(p,f),v&&v.m(f,null),se(f,r),se(f,c),I(d,c,null),se(f,o),_&&_.m(f,null),g=!0},p(b,[y]){b[0]?m?y&1&&x(m,1):(m=Ho(),m.c(),x(m,1),m.m(n.parentNode,n)):m&&(Ne(),E(m,1,1,()=>{m=null}),Xe()),b[1]?l?y&2&&x(l,1):(l=Vo(),l.c(),x(l,1),l.m(h.parentNode,h)):l&&(Ne(),E(l,1,1,()=>{l=null}),Xe()),b[2]?v&&(Ne(),E(v,1,1,()=>{v=null}),Xe()):v?(v.p(b,y),y&4&&x(v,1)):(v=Yo(b),v.c(),x(v,1),v.m(f,r)),(!g||y&28&&s!==(s="h-full flex flex-col w-full "+(b[4]?"xl:w-full":b[3]&&!b[2]?"xl:w-2/3":"xl:w-1/3")+" max-w-full"))&&Q(c,"class",s),b[3]?_&&(Ne(),E(_,1,1,()=>{_=null}),Xe()):_?(_.p(b,y),y&8&&x(_,1)):(_=Uo(b),_.c(),x(_,1),_.m(f,null))},i(b){g||(x(m),x(l),x(v),x(d.$$.fragment,b),b&&Ft(()=>{g&&(a||(a=Tt(c,xt,{axis:"x"},!0)),a.run(1))}),x(_),g=!0)},o(b){E(m),E(l),E(v),E(d.$$.fragment,b),b&&(a||(a=Tt(c,xt,{axis:"x"},!1)),a.run(0)),E(_),g=!1},d(b){b&&(J(t),J(n),J(h),J(u)),J(e),m&&m.d(b),l&&l.d(b),v&&v.d(),j(d),b&&a&&a.end(),_&&_.d()}}}function yv(i,e,t){let n,h,u,p,f;dt(i,ki,d=>t(1,n=d)),dt(i,Qt,d=>t(2,h=d)),dt(i,Ji,d=>t(3,u=d)),dt(i,ri,d=>t(4,p=d)),dt(i,Kt,d=>t(5,f=d));let r=!0;return Zt(()=>{window.onload=()=>{t(0,r=!1)}}),[r,n,h,u,p,f,()=>{kt(Qt,h=!0,h),u?kt(ri,p=!0,p):kt(Kt,f=!0,f)}]}class Cv extends Ie{constructor(e){super(),Re(this,e,yv,bv,Me,{})}}new Cv({target:document.getElementById("app")});export{wv as c,Tv as g};
